import { Component, Inject } from '@angular/core';
import { MAT_DIALOG_DATA, MatDialogContent, MatDialogActions, MatDialogClose } from '@angular/material/dialog';
import { MatButton } from '@angular/material/button';
import { CdkScrollable } from '@angular/cdk/scrolling';
import * as i0 from "@angular/core";
import * as i1 from "@angular/platform-browser";
import * as i2 from "@angular/material/dialog";
export class FilePreviewDialogComponent {
    constructor(file, sanitizer, dialogRef) {
        this.file = file;
        this.sanitizer = sanitizer;
        this.dialogRef = dialogRef;
        this.utils = {
            isImage: null,
            fileUrl: null
        };
        this.utils.isImage = file.type.match(/image\/*/) != null;
        this.utils.fileUrl = this.sanitizer.bypassSecurityTrustResourceUrl(window.URL.createObjectURL(file));
        // const reader = new FileReader();
        // reader.readAsDataURL(file);
        // reader.onloadend = () =>  this.utils.fileUrl =  this.sanitizer.bypassSecurityTrustResourceUrl(reader.result as string);
    }
    ngOnInit() {
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.13", ngImport: i0, type: FilePreviewDialogComponent, deps: [{ token: MAT_DIALOG_DATA }, { token: i1.DomSanitizer }, { token: i2.MatDialogRef }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.2.13", type: FilePreviewDialogComponent, isStandalone: true, selector: "sii-file-preview-dialog", ngImport: i0, template: "<mat-dialog-content>\r\n  @if (utils.fileUrl) {\r\n    @switch (utils.isImage) {\r\n      @default {\r\n        <iframe [src]=\"utils.fileUrl\"></iframe>\r\n      }\r\n      @case (true) {\r\n        <img  class=\"previewImg\" [src]=\"utils.fileUrl\">\r\n      }\r\n    }\r\n  }\r\n</mat-dialog-content>\r\n<mat-dialog-actions align=\"end\">\r\n\r\n  <span class=\"fileName\">{{file.name}}</span>\r\n  <button mat-button mat-dialog-close i18n=\"@@close\">Close</button>\r\n\r\n</mat-dialog-actions>\r\n\r\n", styles: ["mat-dialog-content{max-height:98vh;height:calc(98vh - 50px)}img.previewImg{width:100%;height:100%;object-fit:contain;margin:-4px 0}iframe{height:100%;margin-bottom:-8px;border:none;width:100%}.fileName{flex:1;text-align:left}\n"], dependencies: [{ kind: "directive", type: MatDialogContent, selector: "[mat-dialog-content], mat-dialog-content, [matDialogContent]" }, { kind: "directive", type: MatDialogActions, selector: "[mat-dialog-actions], mat-dialog-actions, [matDialogActions]", inputs: ["align"] }, { kind: "component", type: MatButton, selector: "    button[mat-button], button[mat-raised-button], button[mat-flat-button],    button[mat-stroked-button]  ", exportAs: ["matButton"] }, { kind: "directive", type: MatDialogClose, selector: "[mat-dialog-close], [matDialogClose]", inputs: ["aria-label", "type", "mat-dialog-close", "matDialogClose"], exportAs: ["matDialogClose"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.13", ngImport: i0, type: FilePreviewDialogComponent, decorators: [{
            type: Component,
            args: [{ selector: 'sii-file-preview-dialog', standalone: true, imports: [CdkScrollable, MatDialogContent, MatDialogActions, MatButton, MatDialogClose], template: "<mat-dialog-content>\r\n  @if (utils.fileUrl) {\r\n    @switch (utils.isImage) {\r\n      @default {\r\n        <iframe [src]=\"utils.fileUrl\"></iframe>\r\n      }\r\n      @case (true) {\r\n        <img  class=\"previewImg\" [src]=\"utils.fileUrl\">\r\n      }\r\n    }\r\n  }\r\n</mat-dialog-content>\r\n<mat-dialog-actions align=\"end\">\r\n\r\n  <span class=\"fileName\">{{file.name}}</span>\r\n  <button mat-button mat-dialog-close i18n=\"@@close\">Close</button>\r\n\r\n</mat-dialog-actions>\r\n\r\n", styles: ["mat-dialog-content{max-height:98vh;height:calc(98vh - 50px)}img.previewImg{width:100%;height:100%;object-fit:contain;margin:-4px 0}iframe{height:100%;margin-bottom:-8px;border:none;width:100%}.fileName{flex:1;text-align:left}\n"] }]
        }], ctorParameters: () => [{ type: undefined, decorators: [{
                    type: Inject,
                    args: [MAT_DIALOG_DATA]
                }] }, { type: i1.DomSanitizer }, { type: i2.MatDialogRef }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsZS1wcmV2aWV3LWRpYWxvZy5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9zaWktdG9vbGtpdC9zcmMvbGliL2NvbXBvbmVudHMvdXBsb2FkL2ZpbGUtcHJldmlldy1kaWFsb2cvZmlsZS1wcmV2aWV3LWRpYWxvZy5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9zaWktdG9vbGtpdC9zcmMvbGliL2NvbXBvbmVudHMvdXBsb2FkL2ZpbGUtcHJldmlldy1kaWFsb2cvZmlsZS1wcmV2aWV3LWRpYWxvZy5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBVSxNQUFNLGVBQWUsQ0FBQztBQUMxRCxPQUFPLEVBQWdCLGVBQWUsRUFBRSxnQkFBZ0IsRUFBRSxnQkFBZ0IsRUFBRSxjQUFjLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUU3SCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDckQsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLHdCQUF3QixDQUFDOzs7O0FBU3ZELE1BQU0sT0FBTywwQkFBMEI7SUFPckMsWUFBNEMsSUFBSSxFQUFVLFNBQXVCLEVBQzlELFNBQW1EO1FBRDFCLFNBQUksR0FBSixJQUFJLENBQUE7UUFBVSxjQUFTLEdBQVQsU0FBUyxDQUFjO1FBQzlELGNBQVMsR0FBVCxTQUFTLENBQTBDO1FBTnhFLFVBQUssR0FBRztZQUNOLE9BQU8sRUFBRSxJQUFJO1lBQ2IsT0FBTyxFQUFFLElBQUk7U0FDZCxDQUFDO1FBS2MsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLElBQUksSUFBSSxDQUFDO1FBRXpELElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsOEJBQThCLENBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxlQUFlLENBQUMsSUFBWSxDQUFDLENBQUMsQ0FBQztRQUUvRyxtQ0FBbUM7UUFDbkMsOEJBQThCO1FBQzlCLDBIQUEwSDtJQUc1SCxDQUFDO0lBRWIsUUFBUTtJQUNSLENBQUM7K0dBdEJVLDBCQUEwQixrQkFPakIsZUFBZTttR0FQeEIsMEJBQTBCLG1GQ2J2Qyw0ZkFtQkEsNlJEUjZCLGdCQUFnQix5R0FBRSxnQkFBZ0IsNEhBQUUsU0FBUyxpTEFBRSxjQUFjOzs0RkFFN0UsMEJBQTBCO2tCQVB0QyxTQUFTOytCQUNJLHlCQUF5QixjQUd2QixJQUFJLFdBQ1AsQ0FBQyxhQUFhLEVBQUUsZ0JBQWdCLEVBQUUsZ0JBQWdCLEVBQUUsU0FBUyxFQUFFLGNBQWMsQ0FBQzs7MEJBUzVFLE1BQU07MkJBQUMsZUFBZSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgSW5qZWN0LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgTWF0RGlhbG9nUmVmLCBNQVRfRElBTE9HX0RBVEEsIE1hdERpYWxvZ0NvbnRlbnQsIE1hdERpYWxvZ0FjdGlvbnMsIE1hdERpYWxvZ0Nsb3NlIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvZGlhbG9nJztcclxuaW1wb3J0IHsgRG9tU2FuaXRpemVyIH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlcic7XHJcbmltcG9ydCB7IE1hdEJ1dHRvbiB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2J1dHRvbic7XHJcbmltcG9ydCB7IENka1Njcm9sbGFibGUgfSBmcm9tICdAYW5ndWxhci9jZGsvc2Nyb2xsaW5nJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gICAgc2VsZWN0b3I6ICdzaWktZmlsZS1wcmV2aWV3LWRpYWxvZycsXHJcbiAgICB0ZW1wbGF0ZVVybDogJy4vZmlsZS1wcmV2aWV3LWRpYWxvZy5jb21wb25lbnQuaHRtbCcsXHJcbiAgICBzdHlsZVVybHM6IFsnLi9maWxlLXByZXZpZXctZGlhbG9nLmNvbXBvbmVudC5zY3NzJ10sXHJcbiAgICBzdGFuZGFsb25lOiB0cnVlLFxyXG4gICAgaW1wb3J0czogW0Nka1Njcm9sbGFibGUsIE1hdERpYWxvZ0NvbnRlbnQsIE1hdERpYWxvZ0FjdGlvbnMsIE1hdEJ1dHRvbiwgTWF0RGlhbG9nQ2xvc2VdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBGaWxlUHJldmlld0RpYWxvZ0NvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcblxyXG51dGlscyA9IHtcclxuICBpc0ltYWdlOiBudWxsLFxyXG4gIGZpbGVVcmw6IG51bGxcclxufTtcclxuXHJcbiAgY29uc3RydWN0b3IoQEluamVjdChNQVRfRElBTE9HX0RBVEEpIHB1YmxpYyBmaWxlLCBwcml2YXRlIHNhbml0aXplcjogRG9tU2FuaXRpemVyLFxyXG4gICAgICAgICAgICAgIHB1YmxpYyBkaWFsb2dSZWY6IE1hdERpYWxvZ1JlZjxGaWxlUHJldmlld0RpYWxvZ0NvbXBvbmVudD4pIHtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnV0aWxzLmlzSW1hZ2UgPSBmaWxlLnR5cGUubWF0Y2goL2ltYWdlXFwvKi8pICE9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy51dGlscy5maWxlVXJsID0gIHRoaXMuc2FuaXRpemVyLmJ5cGFzc1NlY3VyaXR5VHJ1c3RSZXNvdXJjZVVybCggd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSBhcyBCbG9iKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICAgICAgICAgIC8vIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgLy8gcmVhZGVyLm9ubG9hZGVuZCA9ICgpID0+ICB0aGlzLnV0aWxzLmZpbGVVcmwgPSAgdGhpcy5zYW5pdGl6ZXIuYnlwYXNzU2VjdXJpdHlUcnVzdFJlc291cmNlVXJsKHJlYWRlci5yZXN1bHQgYXMgc3RyaW5nKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgbmdPbkluaXQoKTogdm9pZCB7XHJcbiAgfVxyXG5cclxufVxyXG4iLCI8bWF0LWRpYWxvZy1jb250ZW50PlxyXG4gIEBpZiAodXRpbHMuZmlsZVVybCkge1xyXG4gICAgQHN3aXRjaCAodXRpbHMuaXNJbWFnZSkge1xyXG4gICAgICBAZGVmYXVsdCB7XHJcbiAgICAgICAgPGlmcmFtZSBbc3JjXT1cInV0aWxzLmZpbGVVcmxcIj48L2lmcmFtZT5cclxuICAgICAgfVxyXG4gICAgICBAY2FzZSAodHJ1ZSkge1xyXG4gICAgICAgIDxpbWcgIGNsYXNzPVwicHJldmlld0ltZ1wiIFtzcmNdPVwidXRpbHMuZmlsZVVybFwiPlxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG48L21hdC1kaWFsb2ctY29udGVudD5cclxuPG1hdC1kaWFsb2ctYWN0aW9ucyBhbGlnbj1cImVuZFwiPlxyXG5cclxuICA8c3BhbiBjbGFzcz1cImZpbGVOYW1lXCI+e3tmaWxlLm5hbWV9fTwvc3Bhbj5cclxuICA8YnV0dG9uIG1hdC1idXR0b24gbWF0LWRpYWxvZy1jbG9zZSBpMThuPVwiQEBjbG9zZVwiPkNsb3NlPC9idXR0b24+XHJcblxyXG48L21hdC1kaWFsb2ctYWN0aW9ucz5cclxuXHJcbiJdfQ==