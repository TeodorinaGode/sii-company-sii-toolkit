import { Component, ContentChild, TemplateRef } from '@angular/core';
import { PrimitiveFacetDirective } from '../common/primitive-facet/primitive-facet.directive';
import { SiiFacetTemplateDirective } from '../common/directive/sii-facet-template.directive';
import { FacetSearchComponent } from '../common/facet-search/facet-search.component';
import { FacetPaginatorComponent } from '../common/facet-paginator/facet-paginator.component';
import { BadgeComponent } from '../../badge/badge.component';
import { NgTemplateOutlet, SlicePipe } from '@angular/common';
import { MatTooltip } from '@angular/material/tooltip';
import { FacetSkeletonComponent } from '../common/facet-skeleton/facet-skeleton.component';
import * as i0 from "@angular/core";
import * as i1 from "../common/service/sii-facet.service";
export class FacetComponent extends PrimitiveFacetDirective {
    constructor(siiFacetService) {
        super(siiFacetService);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.13", ngImport: i0, type: FacetComponent, deps: [{ token: i1.SiiFacetService }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.2.13", type: FacetComponent, isStandalone: true, selector: "sii-facet", queries: [{ propertyName: "facetTemplate", first: true, predicate: SiiFacetTemplateDirective, descendants: true, read: TemplateRef }], usesInheritance: true, ngImport: i0, template: "@if (config?.facetOptions?.length>0) {\r\n  <sii-facet-skeleton >\r\n    @for (opt of config?.facetOptions | slice:0:visibleFacetsSize*multiplicityToDisplay; track opt.code; let i = $index) {\r\n      <div\r\n        class=\"facet-basic\" [class.facet-selected]=\"selectedFacets[opt.code]\" (click)=\"toggle(opt);\">\r\n        <div  [matTooltip]=\"opt.descr\"   [matTooltipShowDelay]=\"1000\" class=\"facet-item-text\">\r\n          <ng-container  *ngTemplateOutlet=\"facetTemplate || defaultFacetTemplate; context:{$implicit:opt, selected:selectedFacets[opt.code]}\" ></ng-container></div>\r\n          @if (opt.count!=null) {\r\n            <sii-badge [background]=\"'white'\" [color]=\"'#0D456F'\">{{opt.count}}</sii-badge>\r\n          }\r\n        </div>\r\n      }\r\n      <sii-facet-paginator [size]=\"config?.facetOptions.length\" [visibleFacetsSize]='visibleFacetsSize' [(multiplicityToDisplay)]=\"multiplicityToDisplay\"></sii-facet-paginator>\r\n      @if (config?.facetOptions.length>10) {\r\n        <sii-facet-search [selected]=\"selectedFacets\" [options]=\"config?.facetOptions\" (optionSelected)=\"toggle($event)\"></sii-facet-search>\r\n      }\r\n    </sii-facet-skeleton>\r\n  }\r\n\r\n\r\n  <ng-template #defaultFacetTemplate let-opt>\r\n    {{opt.descr || \"##\"+opt.code}}\r\n  </ng-template>\r\n", styles: ["sii-badge{padding:1px 10px}.facet-basic{display:flex;align-items:flex-end;padding:2px 0 3px;cursor:pointer}.facet-basic:hover{background-color:#00000012}.facet-item-text{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;padding:0 8px 0 0;flex:1 1 auto;font-size:14px;line-height:20px;letter-spacing:.28px}\n"], dependencies: [{ kind: "component", type: FacetSkeletonComponent, selector: "sii-facet-skeleton", inputs: ["expanded", "label"], outputs: ["expandedChange"] }, { kind: "directive", type: MatTooltip, selector: "[matTooltip]", inputs: ["matTooltipPosition", "matTooltipPositionAtOrigin", "matTooltipDisabled", "matTooltipShowDelay", "matTooltipHideDelay", "matTooltipTouchGestures", "matTooltip", "matTooltipClass"], exportAs: ["matTooltip"] }, { kind: "directive", type: NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "component", type: BadgeComponent, selector: "sii-badge", inputs: ["appearance", "background", "color"] }, { kind: "component", type: FacetPaginatorComponent, selector: "sii-facet-paginator", inputs: ["size", "visibleFacetsSize", "multiplicityToDisplay"], outputs: ["multiplicityToDisplayChange"] }, { kind: "component", type: FacetSearchComponent, selector: "sii-facet-search", inputs: ["options", "selected"], outputs: ["optionSelected"] }, { kind: "pipe", type: SlicePipe, name: "slice" }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.13", ngImport: i0, type: FacetComponent, decorators: [{
            type: Component,
            args: [{ selector: 'sii-facet', standalone: true, imports: [FacetSkeletonComponent, MatTooltip, NgTemplateOutlet, BadgeComponent, FacetPaginatorComponent, FacetSearchComponent, SlicePipe], template: "@if (config?.facetOptions?.length>0) {\r\n  <sii-facet-skeleton >\r\n    @for (opt of config?.facetOptions | slice:0:visibleFacetsSize*multiplicityToDisplay; track opt.code; let i = $index) {\r\n      <div\r\n        class=\"facet-basic\" [class.facet-selected]=\"selectedFacets[opt.code]\" (click)=\"toggle(opt);\">\r\n        <div  [matTooltip]=\"opt.descr\"   [matTooltipShowDelay]=\"1000\" class=\"facet-item-text\">\r\n          <ng-container  *ngTemplateOutlet=\"facetTemplate || defaultFacetTemplate; context:{$implicit:opt, selected:selectedFacets[opt.code]}\" ></ng-container></div>\r\n          @if (opt.count!=null) {\r\n            <sii-badge [background]=\"'white'\" [color]=\"'#0D456F'\">{{opt.count}}</sii-badge>\r\n          }\r\n        </div>\r\n      }\r\n      <sii-facet-paginator [size]=\"config?.facetOptions.length\" [visibleFacetsSize]='visibleFacetsSize' [(multiplicityToDisplay)]=\"multiplicityToDisplay\"></sii-facet-paginator>\r\n      @if (config?.facetOptions.length>10) {\r\n        <sii-facet-search [selected]=\"selectedFacets\" [options]=\"config?.facetOptions\" (optionSelected)=\"toggle($event)\"></sii-facet-search>\r\n      }\r\n    </sii-facet-skeleton>\r\n  }\r\n\r\n\r\n  <ng-template #defaultFacetTemplate let-opt>\r\n    {{opt.descr || \"##\"+opt.code}}\r\n  </ng-template>\r\n", styles: ["sii-badge{padding:1px 10px}.facet-basic{display:flex;align-items:flex-end;padding:2px 0 3px;cursor:pointer}.facet-basic:hover{background-color:#00000012}.facet-item-text{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;padding:0 8px 0 0;flex:1 1 auto;font-size:14px;line-height:20px;letter-spacing:.28px}\n"] }]
        }], ctorParameters: () => [{ type: i1.SiiFacetService }], propDecorators: { facetTemplate: [{
                type: ContentChild,
                args: [SiiFacetTemplateDirective, { read: TemplateRef }]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmFjZXQuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvc2lpLXRvb2xraXQvc3JjL2xpYi9jb21wb25lbnRzL2ZhY2V0cy9mYWNldC9mYWNldC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9zaWktdG9vbGtpdC9zcmMvbGliL2NvbXBvbmVudHMvZmFjZXRzL2ZhY2V0L2ZhY2V0LmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFVLFdBQVcsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUU3RSxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSxxREFBcUQsQ0FBQztBQUU5RixPQUFPLEVBQUUseUJBQXlCLEVBQUUsTUFBTSxrREFBa0QsQ0FBQztBQUM3RixPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSwrQ0FBK0MsQ0FBQztBQUNyRixPQUFPLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSxxREFBcUQsQ0FBQztBQUM5RixPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFDN0QsT0FBTyxFQUFFLGdCQUFnQixFQUFFLFNBQVMsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzlELE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUN2RCxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSxtREFBbUQsQ0FBQzs7O0FBUzNGLE1BQU0sT0FBTyxjQUFnQixTQUFRLHVCQUF1QjtJQUkxRCxZQUFZLGVBQWdDO1FBQzFDLEtBQUssQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUN6QixDQUFDOytHQU5VLGNBQWM7bUdBQWQsY0FBYyxnSEFDWCx5QkFBeUIsMkJBQVMsV0FBVyxvRENwQjdELDJ5Q0F1QkEsZ1pETmMsc0JBQXNCLDJIQUFFLFVBQVUsaVJBQUUsZ0JBQWdCLG9KQUFFLGNBQWMscUdBQUUsdUJBQXVCLDBLQUFFLG9CQUFvQixzSEFBRSxTQUFTOzs0RkFFL0gsY0FBYztrQkFQMUIsU0FBUzsrQkFDSSxXQUFXLGNBR1QsSUFBSSxXQUNQLENBQUMsc0JBQXNCLEVBQUUsVUFBVSxFQUFFLGdCQUFnQixFQUFFLGNBQWMsRUFBRSx1QkFBdUIsRUFBRSxvQkFBb0IsRUFBRSxTQUFTLENBQUM7b0ZBRzdFLGFBQWE7c0JBQTFFLFlBQVk7dUJBQUMseUJBQXlCLEVBQUUsRUFBQyxJQUFJLEVBQUUsV0FBVyxFQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBDb250ZW50Q2hpbGQsIE9uSW5pdCwgVGVtcGxhdGVSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgU2lpRmFjZXRTZXJ2aWNlIH0gZnJvbSAnLi4vY29tbW9uL3NlcnZpY2Uvc2lpLWZhY2V0LnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBQcmltaXRpdmVGYWNldERpcmVjdGl2ZSB9IGZyb20gJy4uL2NvbW1vbi9wcmltaXRpdmUtZmFjZXQvcHJpbWl0aXZlLWZhY2V0LmRpcmVjdGl2ZSc7XHJcbmltcG9ydCB7IFNpaUZhY2V0T3B0aW9uRHRvIH0gZnJvbSAnLi4vY29tbW9uL2R0by9pLXNpaS1mYWNldC1vcHRpb24uZHRvJztcclxuaW1wb3J0IHsgU2lpRmFjZXRUZW1wbGF0ZURpcmVjdGl2ZSB9IGZyb20gJy4uL2NvbW1vbi9kaXJlY3RpdmUvc2lpLWZhY2V0LXRlbXBsYXRlLmRpcmVjdGl2ZSc7XHJcbmltcG9ydCB7IEZhY2V0U2VhcmNoQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tbW9uL2ZhY2V0LXNlYXJjaC9mYWNldC1zZWFyY2guY29tcG9uZW50JztcclxuaW1wb3J0IHsgRmFjZXRQYWdpbmF0b3JDb21wb25lbnQgfSBmcm9tICcuLi9jb21tb24vZmFjZXQtcGFnaW5hdG9yL2ZhY2V0LXBhZ2luYXRvci5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBCYWRnZUNvbXBvbmVudCB9IGZyb20gJy4uLy4uL2JhZGdlL2JhZGdlLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IE5nVGVtcGxhdGVPdXRsZXQsIFNsaWNlUGlwZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XHJcbmltcG9ydCB7IE1hdFRvb2x0aXAgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC90b29sdGlwJztcclxuaW1wb3J0IHsgRmFjZXRTa2VsZXRvbkNvbXBvbmVudCB9IGZyb20gJy4uL2NvbW1vbi9mYWNldC1za2VsZXRvbi9mYWNldC1za2VsZXRvbi5jb21wb25lbnQnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgICBzZWxlY3RvcjogJ3NpaS1mYWNldCcsXHJcbiAgICB0ZW1wbGF0ZVVybDogJy4vZmFjZXQuY29tcG9uZW50Lmh0bWwnLFxyXG4gICAgc3R5bGVVcmxzOiBbJy4vZmFjZXQuY29tcG9uZW50LmNzcyddLFxyXG4gICAgc3RhbmRhbG9uZTogdHJ1ZSxcclxuICAgIGltcG9ydHM6IFtGYWNldFNrZWxldG9uQ29tcG9uZW50LCBNYXRUb29sdGlwLCBOZ1RlbXBsYXRlT3V0bGV0LCBCYWRnZUNvbXBvbmVudCwgRmFjZXRQYWdpbmF0b3JDb21wb25lbnQsIEZhY2V0U2VhcmNoQ29tcG9uZW50LCBTbGljZVBpcGVdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBGYWNldENvbXBvbmVudCAgZXh0ZW5kcyBQcmltaXRpdmVGYWNldERpcmVjdGl2ZSB7XHJcbiAgQENvbnRlbnRDaGlsZChTaWlGYWNldFRlbXBsYXRlRGlyZWN0aXZlLCB7cmVhZDogVGVtcGxhdGVSZWZ9KSBmYWNldFRlbXBsYXRlO1xyXG5cclxuXHJcbiAgY29uc3RydWN0b3Ioc2lpRmFjZXRTZXJ2aWNlOiBTaWlGYWNldFNlcnZpY2UpIHtcclxuICAgIHN1cGVyKHNpaUZhY2V0U2VydmljZSk7XHJcbiAgfVxyXG5cclxufVxyXG4iLCJAaWYgKGNvbmZpZz8uZmFjZXRPcHRpb25zPy5sZW5ndGg+MCkge1xyXG4gIDxzaWktZmFjZXQtc2tlbGV0b24gPlxyXG4gICAgQGZvciAob3B0IG9mIGNvbmZpZz8uZmFjZXRPcHRpb25zIHwgc2xpY2U6MDp2aXNpYmxlRmFjZXRzU2l6ZSptdWx0aXBsaWNpdHlUb0Rpc3BsYXk7IHRyYWNrIG9wdC5jb2RlOyBsZXQgaSA9ICRpbmRleCkge1xyXG4gICAgICA8ZGl2XHJcbiAgICAgICAgY2xhc3M9XCJmYWNldC1iYXNpY1wiIFtjbGFzcy5mYWNldC1zZWxlY3RlZF09XCJzZWxlY3RlZEZhY2V0c1tvcHQuY29kZV1cIiAoY2xpY2spPVwidG9nZ2xlKG9wdCk7XCI+XHJcbiAgICAgICAgPGRpdiAgW21hdFRvb2x0aXBdPVwib3B0LmRlc2NyXCIgICBbbWF0VG9vbHRpcFNob3dEZWxheV09XCIxMDAwXCIgY2xhc3M9XCJmYWNldC1pdGVtLXRleHRcIj5cclxuICAgICAgICAgIDxuZy1jb250YWluZXIgICpuZ1RlbXBsYXRlT3V0bGV0PVwiZmFjZXRUZW1wbGF0ZSB8fCBkZWZhdWx0RmFjZXRUZW1wbGF0ZTsgY29udGV4dDp7JGltcGxpY2l0Om9wdCwgc2VsZWN0ZWQ6c2VsZWN0ZWRGYWNldHNbb3B0LmNvZGVdfVwiID48L25nLWNvbnRhaW5lcj48L2Rpdj5cclxuICAgICAgICAgIEBpZiAob3B0LmNvdW50IT1udWxsKSB7XHJcbiAgICAgICAgICAgIDxzaWktYmFkZ2UgW2JhY2tncm91bmRdPVwiJ3doaXRlJ1wiIFtjb2xvcl09XCInIzBENDU2RidcIj57e29wdC5jb3VudH19PC9zaWktYmFkZ2U+XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIH1cclxuICAgICAgPHNpaS1mYWNldC1wYWdpbmF0b3IgW3NpemVdPVwiY29uZmlnPy5mYWNldE9wdGlvbnMubGVuZ3RoXCIgW3Zpc2libGVGYWNldHNTaXplXT0ndmlzaWJsZUZhY2V0c1NpemUnIFsobXVsdGlwbGljaXR5VG9EaXNwbGF5KV09XCJtdWx0aXBsaWNpdHlUb0Rpc3BsYXlcIj48L3NpaS1mYWNldC1wYWdpbmF0b3I+XHJcbiAgICAgIEBpZiAoY29uZmlnPy5mYWNldE9wdGlvbnMubGVuZ3RoPjEwKSB7XHJcbiAgICAgICAgPHNpaS1mYWNldC1zZWFyY2ggW3NlbGVjdGVkXT1cInNlbGVjdGVkRmFjZXRzXCIgW29wdGlvbnNdPVwiY29uZmlnPy5mYWNldE9wdGlvbnNcIiAob3B0aW9uU2VsZWN0ZWQpPVwidG9nZ2xlKCRldmVudClcIj48L3NpaS1mYWNldC1zZWFyY2g+XHJcbiAgICAgIH1cclxuICAgIDwvc2lpLWZhY2V0LXNrZWxldG9uPlxyXG4gIH1cclxuXHJcblxyXG4gIDxuZy10ZW1wbGF0ZSAjZGVmYXVsdEZhY2V0VGVtcGxhdGUgbGV0LW9wdD5cclxuICAgIHt7b3B0LmRlc2NyIHx8IFwiIyNcIitvcHQuY29kZX19XHJcbiAgPC9uZy10ZW1wbGF0ZT5cclxuIl19