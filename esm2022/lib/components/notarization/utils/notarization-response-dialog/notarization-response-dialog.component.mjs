import { Component, Inject } from '@angular/core';
import { MAT_DIALOG_DATA, MatDialogClose } from '@angular/material/dialog';
import { MatIcon } from '@angular/material/icon';
import { MatButton } from '@angular/material/button';
import { BannerFeedbackComponent } from '../../../feedback/banner-feedback/banner-feedback.component';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common/http";
export class NotarizationResponseDialogComponent {
    constructor(data, http) {
        this.data = data;
        this.http = http;
    }
    printReceipt() {
        this.http.post(this.data.notarizationPrintReceiptUrl, {
            documentName: this.data.notarizResp.documentName,
            transactionId: this.data.notarizResp.transactionId,
            fileHash: this.data.notarizResp.fileHash
        }, { responseType: 'blob' })
            .subscribe((res) => {
            const dataType = res.type;
            const binaryData = [];
            binaryData.push(res);
            const downloadLink = document.createElement('a');
            downloadLink.href = window.URL.createObjectURL(new Blob(binaryData, { type: dataType }));
            downloadLink.setAttribute('download', `NOTARIZATION_${this.data.notarizResp.documentName}`);
            document.body.appendChild(downloadLink);
            downloadLink.click();
        });
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.13", ngImport: i0, type: NotarizationResponseDialogComponent, deps: [{ token: MAT_DIALOG_DATA }, { token: i1.HttpClient }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.2.13", type: NotarizationResponseDialogComponent, isStandalone: true, selector: "sii-notarization-response-dialog", ngImport: i0, template: "<sii-banner-feedback>\r\n  <div feedback-toolbar></div>\r\n  <div feedback-body style=\"display: flex; flex-direction: column; padding: 10px;\">\r\n\r\n    @switch (data.notarizResp.status) {\r\n      @case ('DONE') {\r\n        <p i18n=\"@@dialogDocumentSuccessNotarized\">The document has been correctly notarized</p>\r\n        <p i18n=\"@@dialogDocumentSuccessNotarizedData\">The operation data are as follows</p>\r\n        <p> <span i18n=\"@@transactionId\">Transaction ID</span>: {{data.notarizResp.transactionId}}</p>\r\n        <p> <span i18n=\"@@fileHash\">File Hash</span>: {{data.notarizResp.fileHash}}</p>\r\n      }\r\n      @case ('PENDING') {\r\n        <p i18n=\"@@notarizationPending\">The notarization request has been sent. You will receive a communication once it is processed. </p>\r\n      }\r\n    }\r\n\r\n\r\n\r\n  </div>\r\n  <div feedback-action>\r\n    @if (data.notarizResp.status=='DONE' && !!data.notarizationPrintReceiptUrl) {\r\n      <button mat-button (click)=\"printReceipt()\">\r\n        <mat-icon svgIcon=\"receipt_download\"></mat-icon>\r\n        <span  i18n=\"@@printreceipt\">Print Receipt</span>\r\n      </button>\r\n    }\r\n    <span [style.flex]=\"1\"></span>\r\n    <button mat-button mat-dialog-close cdkFocusInitial>OK</button>\r\n  </div>\r\n</sii-banner-feedback>\r\n", styles: [""], dependencies: [{ kind: "component", type: BannerFeedbackComponent, selector: "sii-banner-feedback", inputs: ["type"] }, { kind: "component", type: MatButton, selector: "    button[mat-button], button[mat-raised-button], button[mat-flat-button],    button[mat-stroked-button]  ", exportAs: ["matButton"] }, { kind: "component", type: MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { kind: "directive", type: MatDialogClose, selector: "[mat-dialog-close], [matDialogClose]", inputs: ["aria-label", "type", "mat-dialog-close", "matDialogClose"], exportAs: ["matDialogClose"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.13", ngImport: i0, type: NotarizationResponseDialogComponent, decorators: [{
            type: Component,
            args: [{ selector: 'sii-notarization-response-dialog', standalone: true, imports: [BannerFeedbackComponent, MatButton, MatIcon, MatDialogClose], template: "<sii-banner-feedback>\r\n  <div feedback-toolbar></div>\r\n  <div feedback-body style=\"display: flex; flex-direction: column; padding: 10px;\">\r\n\r\n    @switch (data.notarizResp.status) {\r\n      @case ('DONE') {\r\n        <p i18n=\"@@dialogDocumentSuccessNotarized\">The document has been correctly notarized</p>\r\n        <p i18n=\"@@dialogDocumentSuccessNotarizedData\">The operation data are as follows</p>\r\n        <p> <span i18n=\"@@transactionId\">Transaction ID</span>: {{data.notarizResp.transactionId}}</p>\r\n        <p> <span i18n=\"@@fileHash\">File Hash</span>: {{data.notarizResp.fileHash}}</p>\r\n      }\r\n      @case ('PENDING') {\r\n        <p i18n=\"@@notarizationPending\">The notarization request has been sent. You will receive a communication once it is processed. </p>\r\n      }\r\n    }\r\n\r\n\r\n\r\n  </div>\r\n  <div feedback-action>\r\n    @if (data.notarizResp.status=='DONE' && !!data.notarizationPrintReceiptUrl) {\r\n      <button mat-button (click)=\"printReceipt()\">\r\n        <mat-icon svgIcon=\"receipt_download\"></mat-icon>\r\n        <span  i18n=\"@@printreceipt\">Print Receipt</span>\r\n      </button>\r\n    }\r\n    <span [style.flex]=\"1\"></span>\r\n    <button mat-button mat-dialog-close cdkFocusInitial>OK</button>\r\n  </div>\r\n</sii-banner-feedback>\r\n" }]
        }], ctorParameters: () => [{ type: undefined, decorators: [{
                    type: Inject,
                    args: [MAT_DIALOG_DATA]
                }] }, { type: i1.HttpClient }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm90YXJpemF0aW9uLXJlc3BvbnNlLWRpYWxvZy5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9zaWktdG9vbGtpdC9zcmMvbGliL2NvbXBvbmVudHMvbm90YXJpemF0aW9uL3V0aWxzL25vdGFyaXphdGlvbi1yZXNwb25zZS1kaWFsb2cvbm90YXJpemF0aW9uLXJlc3BvbnNlLWRpYWxvZy5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9zaWktdG9vbGtpdC9zcmMvbGliL2NvbXBvbmVudHMvbm90YXJpemF0aW9uL3V0aWxzL25vdGFyaXphdGlvbi1yZXNwb25zZS1kaWFsb2cvbm90YXJpemF0aW9uLXJlc3BvbnNlLWRpYWxvZy5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBVSxNQUFNLGVBQWUsQ0FBQztBQUMxRCxPQUFPLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBRTNFLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUNqRCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDckQsT0FBTyxFQUFFLHVCQUF1QixFQUFFLE1BQU0sNkRBQTZELENBQUM7OztBQVN0RyxNQUFNLE9BQU8sbUNBQW1DO0lBRTlDLFlBQTZDLElBQVMsRUFBVSxJQUFnQjtRQUFuQyxTQUFJLEdBQUosSUFBSSxDQUFLO1FBQVUsU0FBSSxHQUFKLElBQUksQ0FBWTtJQUFHLENBQUM7SUFFcEYsWUFBWTtRQUNWLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsMkJBQTJCLEVBQ3REO1lBQ0MsWUFBWSxFQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLFlBQVk7WUFDbEQsYUFBYSxFQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLGFBQWE7WUFDbkQsUUFBUSxFQUFRLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVE7U0FDOUMsRUFDQSxFQUFDLFlBQVksRUFBRSxNQUFnQixFQUFDLENBQUM7YUFDakMsU0FBUyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUU7WUFDbEIsTUFBTSxRQUFRLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQztZQUMxQixNQUFNLFVBQVUsR0FBRyxFQUFFLENBQUM7WUFDdEIsVUFBVSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNyQixNQUFNLFlBQVksR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ2pELFlBQVksQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxlQUFlLENBQUMsSUFBSSxJQUFJLENBQUMsVUFBVSxFQUFFLEVBQUMsSUFBSSxFQUFFLFFBQVEsRUFBQyxDQUFDLENBQUMsQ0FBQztZQUN2RixZQUFZLENBQUMsWUFBWSxDQUFDLFVBQVUsRUFBRSxnQkFBZ0IsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQztZQUM1RixRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUN4QyxZQUFZLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDdEIsQ0FBQyxDQUFDLENBQ0E7SUFDUCxDQUFDOytHQXZCVSxtQ0FBbUMsa0JBRXpCLGVBQWU7bUdBRnpCLG1DQUFtQyw0RkNmaEQsMnlDQThCQSwwRERqQmMsdUJBQXVCLGtGQUFFLFNBQVMsaUxBQUUsT0FBTywySUFBRSxjQUFjOzs0RkFFNUQsbUNBQW1DO2tCQVAvQyxTQUFTOytCQUNJLGtDQUFrQyxjQUdoQyxJQUFJLFdBQ1AsQ0FBQyx1QkFBdUIsRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFLGNBQWMsQ0FBQzs7MEJBSTFELE1BQU07MkJBQUMsZUFBZSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEh0dHBDbGllbnQgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XHJcbmltcG9ydCB7IENvbXBvbmVudCwgSW5qZWN0LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgTUFUX0RJQUxPR19EQVRBLCBNYXREaWFsb2dDbG9zZSB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2RpYWxvZyc7XHJcbmltcG9ydCB7IFNpaU5vdGFyaXphdGlvblJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vLi4vLi4vZHRvL25vdGFyaXphdGlvbi1yZXNwb25zZS5kdG8nO1xyXG5pbXBvcnQgeyBNYXRJY29uIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvaWNvbic7XHJcbmltcG9ydCB7IE1hdEJ1dHRvbiB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2J1dHRvbic7XHJcbmltcG9ydCB7IEJhbm5lckZlZWRiYWNrQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vLi4vZmVlZGJhY2svYmFubmVyLWZlZWRiYWNrL2Jhbm5lci1mZWVkYmFjay5jb21wb25lbnQnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgICBzZWxlY3RvcjogJ3NpaS1ub3Rhcml6YXRpb24tcmVzcG9uc2UtZGlhbG9nJyxcclxuICAgIHRlbXBsYXRlVXJsOiAnLi9ub3Rhcml6YXRpb24tcmVzcG9uc2UtZGlhbG9nLmNvbXBvbmVudC5odG1sJyxcclxuICAgIHN0eWxlVXJsczogWycuL25vdGFyaXphdGlvbi1yZXNwb25zZS1kaWFsb2cuY29tcG9uZW50LnNjc3MnXSxcclxuICAgIHN0YW5kYWxvbmU6IHRydWUsXHJcbiAgICBpbXBvcnRzOiBbQmFubmVyRmVlZGJhY2tDb21wb25lbnQsIE1hdEJ1dHRvbiwgTWF0SWNvbiwgTWF0RGlhbG9nQ2xvc2VdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBOb3Rhcml6YXRpb25SZXNwb25zZURpYWxvZ0NvbXBvbmVudCAge1xyXG5cclxuICBjb25zdHJ1Y3RvciggQEluamVjdChNQVRfRElBTE9HX0RBVEEpIHB1YmxpYyBkYXRhOiBhbnksIHByaXZhdGUgaHR0cDogSHR0cENsaWVudCkge31cclxuXHJcbiAgcHJpbnRSZWNlaXB0KCl7XHJcbiAgICB0aGlzLmh0dHAucG9zdDxhbnk+KHRoaXMuZGF0YS5ub3Rhcml6YXRpb25QcmludFJlY2VpcHRVcmwsXHJcbiAgICAgICB7XHJcbiAgICAgICAgZG9jdW1lbnROYW1lOiAgIHRoaXMuZGF0YS5ub3Rhcml6UmVzcC5kb2N1bWVudE5hbWUsXHJcbiAgICAgICAgdHJhbnNhY3Rpb25JZDogIHRoaXMuZGF0YS5ub3Rhcml6UmVzcC50cmFuc2FjdGlvbklkLFxyXG4gICAgICAgIGZpbGVIYXNoOiAgICAgICB0aGlzLmRhdGEubm90YXJpelJlc3AuZmlsZUhhc2hcclxuICAgICAgIH0sXHJcbiAgICAgICAge3Jlc3BvbnNlVHlwZTogJ2Jsb2InIGFzICdqc29uJ30pXHJcbiAgICAgICAuc3Vic2NyaWJlKChyZXMpID0+IHtcclxuICAgICAgICBjb25zdCBkYXRhVHlwZSA9IHJlcy50eXBlO1xyXG4gICAgICAgIGNvbnN0IGJpbmFyeURhdGEgPSBbXTtcclxuICAgICAgICBiaW5hcnlEYXRhLnB1c2gocmVzKTtcclxuICAgICAgICBjb25zdCBkb3dubG9hZExpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICAgICAgZG93bmxvYWRMaW5rLmhyZWYgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihiaW5hcnlEYXRhLCB7dHlwZTogZGF0YVR5cGV9KSk7XHJcbiAgICAgICAgZG93bmxvYWRMaW5rLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCBgTk9UQVJJWkFUSU9OXyR7dGhpcy5kYXRhLm5vdGFyaXpSZXNwLmRvY3VtZW50TmFtZX1gKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRvd25sb2FkTGluayk7XHJcbiAgICAgICAgZG93bmxvYWRMaW5rLmNsaWNrKCk7XHJcbiAgICAgICB9KVxyXG4gICAgICAgIDtcclxuICB9XHJcblxyXG59XHJcblxyXG5cclxuIiwiPHNpaS1iYW5uZXItZmVlZGJhY2s+XHJcbiAgPGRpdiBmZWVkYmFjay10b29sYmFyPjwvZGl2PlxyXG4gIDxkaXYgZmVlZGJhY2stYm9keSBzdHlsZT1cImRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IHBhZGRpbmc6IDEwcHg7XCI+XHJcblxyXG4gICAgQHN3aXRjaCAoZGF0YS5ub3Rhcml6UmVzcC5zdGF0dXMpIHtcclxuICAgICAgQGNhc2UgKCdET05FJykge1xyXG4gICAgICAgIDxwIGkxOG49XCJAQGRpYWxvZ0RvY3VtZW50U3VjY2Vzc05vdGFyaXplZFwiPlRoZSBkb2N1bWVudCBoYXMgYmVlbiBjb3JyZWN0bHkgbm90YXJpemVkPC9wPlxyXG4gICAgICAgIDxwIGkxOG49XCJAQGRpYWxvZ0RvY3VtZW50U3VjY2Vzc05vdGFyaXplZERhdGFcIj5UaGUgb3BlcmF0aW9uIGRhdGEgYXJlIGFzIGZvbGxvd3M8L3A+XHJcbiAgICAgICAgPHA+IDxzcGFuIGkxOG49XCJAQHRyYW5zYWN0aW9uSWRcIj5UcmFuc2FjdGlvbiBJRDwvc3Bhbj46IHt7ZGF0YS5ub3Rhcml6UmVzcC50cmFuc2FjdGlvbklkfX08L3A+XHJcbiAgICAgICAgPHA+IDxzcGFuIGkxOG49XCJAQGZpbGVIYXNoXCI+RmlsZSBIYXNoPC9zcGFuPjoge3tkYXRhLm5vdGFyaXpSZXNwLmZpbGVIYXNofX08L3A+XHJcbiAgICAgIH1cclxuICAgICAgQGNhc2UgKCdQRU5ESU5HJykge1xyXG4gICAgICAgIDxwIGkxOG49XCJAQG5vdGFyaXphdGlvblBlbmRpbmdcIj5UaGUgbm90YXJpemF0aW9uIHJlcXVlc3QgaGFzIGJlZW4gc2VudC4gWW91IHdpbGwgcmVjZWl2ZSBhIGNvbW11bmljYXRpb24gb25jZSBpdCBpcyBwcm9jZXNzZWQuIDwvcD5cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gIDwvZGl2PlxyXG4gIDxkaXYgZmVlZGJhY2stYWN0aW9uPlxyXG4gICAgQGlmIChkYXRhLm5vdGFyaXpSZXNwLnN0YXR1cz09J0RPTkUnICYmICEhZGF0YS5ub3Rhcml6YXRpb25QcmludFJlY2VpcHRVcmwpIHtcclxuICAgICAgPGJ1dHRvbiBtYXQtYnV0dG9uIChjbGljayk9XCJwcmludFJlY2VpcHQoKVwiPlxyXG4gICAgICAgIDxtYXQtaWNvbiBzdmdJY29uPVwicmVjZWlwdF9kb3dubG9hZFwiPjwvbWF0LWljb24+XHJcbiAgICAgICAgPHNwYW4gIGkxOG49XCJAQHByaW50cmVjZWlwdFwiPlByaW50IFJlY2VpcHQ8L3NwYW4+XHJcbiAgICAgIDwvYnV0dG9uPlxyXG4gICAgfVxyXG4gICAgPHNwYW4gW3N0eWxlLmZsZXhdPVwiMVwiPjwvc3Bhbj5cclxuICAgIDxidXR0b24gbWF0LWJ1dHRvbiBtYXQtZGlhbG9nLWNsb3NlIGNka0ZvY3VzSW5pdGlhbD5PSzwvYnV0dG9uPlxyXG4gIDwvZGl2PlxyXG48L3NpaS1iYW5uZXItZmVlZGJhY2s+XHJcbiJdfQ==