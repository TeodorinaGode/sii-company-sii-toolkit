import { Component, Inject, ViewChild } from '@angular/core';
import { UntypedFormControl, FormsModule, ReactiveFormsModule } from '@angular/forms';
import { MAT_DIALOG_DATA, MatDialogContent, MatDialogActions, MatDialogClose } from '@angular/material/dialog';
import { MatPaginator } from '@angular/material/paginator';
import { MatSort, MatSortHeader } from '@angular/material/sort';
import { MatTableDataSource, MatTable, MatColumnDef, MatHeaderCellDef, MatHeaderCell, MatCellDef, MatCell, MatHeaderRowDef, MatHeaderRow, MatRowDef, MatRow } from '@angular/material/table';
import { MatTabGroup, MatTab } from '@angular/material/tabs';
import { merge } from 'rxjs';
import { debounceTime, startWith, switchMap, map } from 'rxjs/operators';
import { MatButton } from '@angular/material/button';
import { MatInput } from '@angular/material/input';
import { MatFormField } from '@angular/material/form-field';
import { CdkScrollable } from '@angular/cdk/scrolling';
import * as i0 from "@angular/core";
import * as i1 from "@angular/material/dialog";
import * as i2 from "../../../../../sii-toolkit.service";
import * as i3 from "@angular/common/http";
import * as i4 from "@angular/forms";
export class SearchWorkOrderDialogComponent {
    constructor(dialogRef, siiToolkitService, http, data) {
        this.dialogRef = dialogRef;
        this.siiToolkitService = siiToolkitService;
        this.http = http;
        this.data = data;
        this.internalOrderFormControl = new UntypedFormControl();
        this.internalOrderDisplayedColumns = ['itemId', 'itemDescription', 'cdcCodice', 'comCp', 'comInizioValidita'];
        this.internalOrderResultsLength = 0;
        this.cdcFormControl = new UntypedFormControl();
        this.cdcDisplayedColumns = ['itemId', 'itemDescription'];
        this.cdcResultsLength = 0;
        this.utils = {
            ioActivated: false,
            cdcActivated: false,
        };
    }
    ngAfterViewInit() {
        if (this.data.hideIO) {
            this.activateSubscribes(1);
        }
        else {
            this.activateSubscribes(0);
        }
    }
    ngOnInit() {
    }
    activateSubscribes(tabIndex) {
        if (tabIndex === 0 && !this.utils.ioActivated && this.internalOrderPaginator != null
            && this.internalOrderSort != null && this.internalOrderFormControl != null) {
            this.utils.ioActivated = true;
            this.internalOrderSort.sortChange.subscribe(() => this.internalOrderPaginator.firstPage());
            this.internalOrderFormControl.valueChanges.subscribe(() => this.internalOrderPaginator.firstPage());
            merge(this.internalOrderSort.sortChange, this.internalOrderPaginator.page, this.internalOrderFormControl.valueChanges).pipe(startWith({}), debounceTime(500), switchMap((data) => {
                return this.fetchInternalOrderDataFromServer().pipe(map(x => { x.content.forEach(i => i.type = 'IO'); return x; }));
            })).subscribe((resp) => {
                this.updateInternalOrderData(resp);
            });
        }
        if (tabIndex === 1 && !this.utils.cdcActivated && this.cdcPaginator != null
            && this.cdcSort != null && this.cdcFormControl != null) {
            this.utils.cdcActivated = true;
            this.cdcSort.sortChange.subscribe(() => this.cdcPaginator.firstPage());
            this.cdcFormControl.valueChanges.subscribe(() => this.cdcPaginator.firstPage());
            merge(this.cdcSort.sortChange, this.cdcPaginator.page, this.cdcFormControl.valueChanges).pipe(startWith({}), debounceTime(500), switchMap((data) => {
                return this.fetchCdcDataFromServer().pipe(map(x => { x.content.forEach(i => i.type = 'CDC'); return x; }));
            })).subscribe((resp) => {
                this.updateCdcData(resp);
            });
        }
    }
    tabChange(val) {
        this.activateSubscribes(val.index);
    }
    updateInternalOrderData(data) {
        this.internalOrderDataSource = new MatTableDataSource(data.content);
        this.internalOrderResultsLength = data.totalElements;
    }
    updateCdcData(data) {
        this.cdcDataSource = new MatTableDataSource(data.content);
        this.cdcResultsLength = data.totalElements;
    }
    fetchInternalOrderDataFromServer() {
        if (this.data.customPageableIORestFunct === undefined) {
            return this.http.post(`${this.siiToolkitService.environment.domain}/lookup/internal_order`, {
                text: this.internalOrderFormControl.value,
                codSociety: this.data.codSociety,
                page: this.internalOrderPaginator.pageIndex,
                size: this.internalOrderPaginator.pageSize,
                sortField: this.internalOrderSort.active,
                sortDirection: this.internalOrderSort.direction.toUpperCase(),
            });
        }
        else {
            return this.data.customPageableIORestFunct(this.internalOrderFormControl.value, this.internalOrderPaginator.pageIndex, this.internalOrderPaginator.pageSize, this.internalOrderSort.active, this.internalOrderSort.direction.toUpperCase());
        }
    }
    fetchCdcDataFromServer() {
        if (this.data.customPageableCdcRestFunct === undefined) {
            return this.http.post(`${this.siiToolkitService.environment.domain}/lookup/cdc`, {
                text: this.cdcFormControl.value,
                codSociety: this.data.codSociety,
                page: this.cdcPaginator.pageIndex,
                size: this.cdcPaginator.pageSize,
                sortField: this.cdcSort.active,
                sortDirection: this.cdcSort.direction.toUpperCase(),
            });
        }
        else {
            return this.data.customPageableCdcRestFunct(this.cdcFormControl.value, this.cdcPaginator.pageIndex, this.cdcPaginator.pageSize, this.cdcSort.active, this.cdcSort.direction.toUpperCase());
        }
    }
    selectInternalOrderRow(row, event) {
        if (event.view.getSelection().type !== 'Range') {
            this.dialogRef.close(row);
        }
    }
    selectCdcRow(row, event) {
        if (event.view.getSelection().type !== 'Range') {
            this.dialogRef.close(row);
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.13", ngImport: i0, type: SearchWorkOrderDialogComponent, deps: [{ token: i1.MatDialogRef }, { token: i2.SiiToolkitService }, { token: i3.HttpClient }, { token: MAT_DIALOG_DATA }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.2.13", type: SearchWorkOrderDialogComponent, isStandalone: true, selector: "sii-search-work-order-dialog", viewQueries: [{ propertyName: "internalOrderPaginator", first: true, predicate: ["internalOrderPaginator"], descendants: true, read: MatPaginator }, { propertyName: "internalOrderSort", first: true, predicate: ["internalOrderSort"], descendants: true, read: MatSort }, { propertyName: "cdcPaginator", first: true, predicate: ["cdcPaginator"], descendants: true, read: MatPaginator }, { propertyName: "cdcSort", first: true, predicate: ["cdcSort"], descendants: true, read: MatSort }], ngImport: i0, template: "\r\n<div mat-dialog-content>\r\n\r\n  <mat-tab-group (selectedTabChange) =\"tabChange($event)\" >\r\n    @if (!data.hideIO) {\r\n      <mat-tab label=\"Internal Order\" i18n-label=\"@@siodialog_internal_order_tab_label\">\r\n        <div class=\"siod_tabContent\">\r\n          <mat-form-field>\r\n            <input matInput [formControl]=\"internalOrderFormControl\"  placeholder=\"Filter\" i18n-placeholder=\"@@siodialog_Filter\">\r\n          </mat-form-field>\r\n          <div class=\"siod_tableContainer\">\r\n            <table mat-table [dataSource]=\"internalOrderDataSource\" class=\"mat-elevation-z8\"\r\n              matSort matSortActive=\"com_inizio_validita\" matSortDisableClear matSortDirection=\"desc\" #internalOrderSort>\r\n              <!-- itemId Column -->\r\n              <ng-container matColumnDef=\"itemId\">\r\n                <th mat-header-cell *matHeaderCellDef mat-sort-header=\"ITEM_ID\" i18n=\"@@siodialog_internal_order\"> internal Order </th>\r\n                <td mat-cell *matCellDef=\"let element\"> {{element.itemId}} </td>\r\n              </ng-container>\r\n              <!-- itemDescription Column -->\r\n              <ng-container matColumnDef=\"itemDescription\">\r\n                <th mat-header-cell *matHeaderCellDef mat-sort-header=\"ITEM_DESCRIPTION\" i18n=\"@@siodialog_description\"> Description </th>\r\n                <td mat-cell *matCellDef=\"let element\"> {{element.itemDescription}} </td>\r\n              </ng-container>\r\n              <!-- cdcCodice Column -->\r\n              <ng-container matColumnDef=\"cdcCodice\">\r\n                <th mat-header-cell *matHeaderCellDef mat-sort-header=\"cdc_codice\" i18n=\"@@siodialog_cdc\"> CDC </th>\r\n                <td mat-cell *matCellDef=\"let element\"> {{element.cdcCodice}} </td>\r\n              </ng-container>\r\n              <!-- comCp Column -->\r\n              <ng-container matColumnDef=\"comCp\">\r\n                <th mat-header-cell *matHeaderCellDef mat-sort-header=\"com_cp\" i18n=\"@@siodialog_cp\"> Cp </th>\r\n                <td mat-cell *matCellDef=\"let element\"> {{element.comCp}} </td>\r\n              </ng-container>\r\n              <!-- comInizioValidita Column -->\r\n              <ng-container matColumnDef=\"comInizioValidita\">\r\n                <th mat-header-cell *matHeaderCellDef mat-sort-header=\"com_inizio_validita\" i18n=\"@@siodialog_validity\"> Validity </th>\r\n                <td mat-cell *matCellDef=\"let element\"> {{element.comInizioValidita}} </td>\r\n              </ng-container>\r\n              <tr mat-header-row *matHeaderRowDef=\"internalOrderDisplayedColumns;sticky: true\"></tr>\r\n              <tr mat-row *matRowDef=\"let row; columns: internalOrderDisplayedColumns;\" (click)=\"selectInternalOrderRow(row,$event)\" ></tr>\r\n            </table>\r\n          </div>\r\n          <mat-paginator #internalOrderPaginator [length]=\"internalOrderResultsLength\" [pageSize]=\"10\" [pageSizeOptions]=\"[5, 10, 20]\"></mat-paginator>\r\n        </div>\r\n      </mat-tab>\r\n    }\r\n    @if (!data.hideCdc) {\r\n      <mat-tab label=\"CDC\" i18n-label=\"@@siodialog_cdc_tab_label\">\r\n        <div class=\"siod_tabContent\">\r\n          <mat-form-field>\r\n            <input matInput [formControl]=\"cdcFormControl\"  placeholder=\"Filter\" i18n=\"@@siodialog_filter\">\r\n          </mat-form-field>\r\n          <div class=\"siod_tableContainer\">\r\n            <table mat-table [dataSource]=\"cdcDataSource\" class=\"mat-elevation-z8\"\r\n              matSort matSortActive=\"ITEM_ID\" matSortDisableClear matSortDirection=\"desc\" #cdcSort>\r\n              <!-- itemId Column -->\r\n              <ng-container matColumnDef=\"itemId\">\r\n                <th mat-header-cell *matHeaderCellDef mat-sort-header=\"ITEM_ID\" i18n=\"@@siodialog_cdc\"> CDC </th>\r\n                  <td mat-cell *matCellDef=\"let element\"> {{element.itemId}} </td>\r\n                </ng-container>\r\n                <!-- itemDescription Column -->\r\n                <ng-container matColumnDef=\"itemDescription\">\r\n                  <th mat-header-cell *matHeaderCellDef mat-sort-header=\"ITEM_DESCRIPTION\" i18n=\"@@siodialog_description\"> Description </th>\r\n                    <td mat-cell *matCellDef=\"let element\"> {{element.itemDescription}} </td>\r\n                  </ng-container>\r\n                  <tr mat-header-row *matHeaderRowDef=\"cdcDisplayedColumns;sticky: true\"></tr>\r\n                  <tr mat-row *matRowDef=\"let row; columns: cdcDisplayedColumns;\" (click)=\"selectCdcRow(row,$event)\" ></tr>\r\n                </table>\r\n              </div>\r\n              <mat-paginator #cdcPaginator [length]=\"cdcResultsLength\" [pageSize]=\"10\" [pageSizeOptions]=\"[5, 10, 20]\"></mat-paginator>\r\n            </div>\r\n          </mat-tab>\r\n        }\r\n      </mat-tab-group>\r\n\r\n\r\n\r\n\r\n    </div>\r\n    <div mat-dialog-actions style=\"float:right\">\r\n      <button mat-button class=\"sii-button-light\" [mat-dialog-close] i18n=\"@@siodialog_cancel_button\">Cancel Operation</button>\r\n      </div>\r\n", styles: [":host{display:flex;flex-direction:column;height:100%}.siod_tabContent{width:100%;height:100%;display:flex;flex-direction:column}table{width:100%}.mat-mdc-form-field{font-size:14px;width:100%}.mat-mdc-dialog-content{flex:1;max-height:initial;display:flex;flex-direction:column}.siod_tableContainer{flex:1 1 auto;overflow:auto;padding:0 3px}tr.mat-mdc-row{cursor:pointer}tr.mat-mdc-row:hover{background-color:#efefef}\n"], dependencies: [{ kind: "directive", type: MatDialogContent, selector: "[mat-dialog-content], mat-dialog-content, [matDialogContent]" }, { kind: "component", type: MatTabGroup, selector: "mat-tab-group", inputs: ["color", "fitInkBarToContent", "mat-stretch-tabs", "dynamicHeight", "selectedIndex", "headerPosition", "animationDuration", "contentTabIndex", "disablePagination", "disableRipple", "preserveContent", "backgroundColor", "aria-label", "aria-labelledby"], outputs: ["selectedIndexChange", "focusChange", "animationDone", "selectedTabChange"], exportAs: ["matTabGroup"] }, { kind: "component", type: MatTab, selector: "mat-tab", inputs: ["disabled", "label", "aria-label", "aria-labelledby", "labelClass", "bodyClass"], exportAs: ["matTab"] }, { kind: "component", type: MatFormField, selector: "mat-form-field", inputs: ["hideRequiredMarker", "color", "floatLabel", "appearance", "subscriptSizing", "hintLabel"], exportAs: ["matFormField"] }, { kind: "directive", type: MatInput, selector: "input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]", inputs: ["disabled", "id", "placeholder", "name", "required", "type", "errorStateMatcher", "aria-describedby", "value", "readonly"], exportAs: ["matInput"] }, { kind: "ngmodule", type: FormsModule }, { kind: "directive", type: i4.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i4.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "ngmodule", type: ReactiveFormsModule }, { kind: "directive", type: i4.FormControlDirective, selector: "[formControl]", inputs: ["formControl", "disabled", "ngModel"], outputs: ["ngModelChange"], exportAs: ["ngForm"] }, { kind: "component", type: MatTable, selector: "mat-table, table[mat-table]", exportAs: ["matTable"] }, { kind: "directive", type: MatSort, selector: "[matSort]", inputs: ["matSortActive", "matSortStart", "matSortDirection", "matSortDisableClear", "matSortDisabled"], outputs: ["matSortChange"], exportAs: ["matSort"] }, { kind: "directive", type: MatColumnDef, selector: "[matColumnDef]", inputs: ["matColumnDef"] }, { kind: "directive", type: MatHeaderCellDef, selector: "[matHeaderCellDef]" }, { kind: "directive", type: MatHeaderCell, selector: "mat-header-cell, th[mat-header-cell]" }, { kind: "component", type: MatSortHeader, selector: "[mat-sort-header]", inputs: ["mat-sort-header", "arrowPosition", "start", "disabled", "sortActionDescription", "disableClear"], exportAs: ["matSortHeader"] }, { kind: "directive", type: MatCellDef, selector: "[matCellDef]" }, { kind: "directive", type: MatCell, selector: "mat-cell, td[mat-cell]" }, { kind: "directive", type: MatHeaderRowDef, selector: "[matHeaderRowDef]", inputs: ["matHeaderRowDef", "matHeaderRowDefSticky"] }, { kind: "component", type: MatHeaderRow, selector: "mat-header-row, tr[mat-header-row]", exportAs: ["matHeaderRow"] }, { kind: "directive", type: MatRowDef, selector: "[matRowDef]", inputs: ["matRowDefColumns", "matRowDefWhen"] }, { kind: "component", type: MatRow, selector: "mat-row, tr[mat-row]", exportAs: ["matRow"] }, { kind: "component", type: MatPaginator, selector: "mat-paginator", inputs: ["color", "pageIndex", "length", "pageSize", "pageSizeOptions", "hidePageSize", "showFirstLastButtons", "selectConfig", "disabled"], outputs: ["page"], exportAs: ["matPaginator"] }, { kind: "directive", type: MatDialogActions, selector: "[mat-dialog-actions], mat-dialog-actions, [matDialogActions]", inputs: ["align"] }, { kind: "component", type: MatButton, selector: "    button[mat-button], button[mat-raised-button], button[mat-flat-button],    button[mat-stroked-button]  ", exportAs: ["matButton"] }, { kind: "directive", type: MatDialogClose, selector: "[mat-dialog-close], [matDialogClose]", inputs: ["aria-label", "type", "mat-dialog-close", "matDialogClose"], exportAs: ["matDialogClose"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.13", ngImport: i0, type: SearchWorkOrderDialogComponent, decorators: [{
            type: Component,
            args: [{ selector: 'sii-search-work-order-dialog', standalone: true, imports: [
                        CdkScrollable,
                        MatDialogContent,
                        MatTabGroup,
                        MatTab,
                        MatFormField,
                        MatInput,
                        FormsModule,
                        ReactiveFormsModule,
                        MatTable,
                        MatSort,
                        MatColumnDef,
                        MatHeaderCellDef,
                        MatHeaderCell,
                        MatSortHeader,
                        MatCellDef,
                        MatCell,
                        MatHeaderRowDef,
                        MatHeaderRow,
                        MatRowDef,
                        MatRow,
                        MatPaginator,
                        MatDialogActions,
                        MatButton,
                        MatDialogClose,
                    ], template: "\r\n<div mat-dialog-content>\r\n\r\n  <mat-tab-group (selectedTabChange) =\"tabChange($event)\" >\r\n    @if (!data.hideIO) {\r\n      <mat-tab label=\"Internal Order\" i18n-label=\"@@siodialog_internal_order_tab_label\">\r\n        <div class=\"siod_tabContent\">\r\n          <mat-form-field>\r\n            <input matInput [formControl]=\"internalOrderFormControl\"  placeholder=\"Filter\" i18n-placeholder=\"@@siodialog_Filter\">\r\n          </mat-form-field>\r\n          <div class=\"siod_tableContainer\">\r\n            <table mat-table [dataSource]=\"internalOrderDataSource\" class=\"mat-elevation-z8\"\r\n              matSort matSortActive=\"com_inizio_validita\" matSortDisableClear matSortDirection=\"desc\" #internalOrderSort>\r\n              <!-- itemId Column -->\r\n              <ng-container matColumnDef=\"itemId\">\r\n                <th mat-header-cell *matHeaderCellDef mat-sort-header=\"ITEM_ID\" i18n=\"@@siodialog_internal_order\"> internal Order </th>\r\n                <td mat-cell *matCellDef=\"let element\"> {{element.itemId}} </td>\r\n              </ng-container>\r\n              <!-- itemDescription Column -->\r\n              <ng-container matColumnDef=\"itemDescription\">\r\n                <th mat-header-cell *matHeaderCellDef mat-sort-header=\"ITEM_DESCRIPTION\" i18n=\"@@siodialog_description\"> Description </th>\r\n                <td mat-cell *matCellDef=\"let element\"> {{element.itemDescription}} </td>\r\n              </ng-container>\r\n              <!-- cdcCodice Column -->\r\n              <ng-container matColumnDef=\"cdcCodice\">\r\n                <th mat-header-cell *matHeaderCellDef mat-sort-header=\"cdc_codice\" i18n=\"@@siodialog_cdc\"> CDC </th>\r\n                <td mat-cell *matCellDef=\"let element\"> {{element.cdcCodice}} </td>\r\n              </ng-container>\r\n              <!-- comCp Column -->\r\n              <ng-container matColumnDef=\"comCp\">\r\n                <th mat-header-cell *matHeaderCellDef mat-sort-header=\"com_cp\" i18n=\"@@siodialog_cp\"> Cp </th>\r\n                <td mat-cell *matCellDef=\"let element\"> {{element.comCp}} </td>\r\n              </ng-container>\r\n              <!-- comInizioValidita Column -->\r\n              <ng-container matColumnDef=\"comInizioValidita\">\r\n                <th mat-header-cell *matHeaderCellDef mat-sort-header=\"com_inizio_validita\" i18n=\"@@siodialog_validity\"> Validity </th>\r\n                <td mat-cell *matCellDef=\"let element\"> {{element.comInizioValidita}} </td>\r\n              </ng-container>\r\n              <tr mat-header-row *matHeaderRowDef=\"internalOrderDisplayedColumns;sticky: true\"></tr>\r\n              <tr mat-row *matRowDef=\"let row; columns: internalOrderDisplayedColumns;\" (click)=\"selectInternalOrderRow(row,$event)\" ></tr>\r\n            </table>\r\n          </div>\r\n          <mat-paginator #internalOrderPaginator [length]=\"internalOrderResultsLength\" [pageSize]=\"10\" [pageSizeOptions]=\"[5, 10, 20]\"></mat-paginator>\r\n        </div>\r\n      </mat-tab>\r\n    }\r\n    @if (!data.hideCdc) {\r\n      <mat-tab label=\"CDC\" i18n-label=\"@@siodialog_cdc_tab_label\">\r\n        <div class=\"siod_tabContent\">\r\n          <mat-form-field>\r\n            <input matInput [formControl]=\"cdcFormControl\"  placeholder=\"Filter\" i18n=\"@@siodialog_filter\">\r\n          </mat-form-field>\r\n          <div class=\"siod_tableContainer\">\r\n            <table mat-table [dataSource]=\"cdcDataSource\" class=\"mat-elevation-z8\"\r\n              matSort matSortActive=\"ITEM_ID\" matSortDisableClear matSortDirection=\"desc\" #cdcSort>\r\n              <!-- itemId Column -->\r\n              <ng-container matColumnDef=\"itemId\">\r\n                <th mat-header-cell *matHeaderCellDef mat-sort-header=\"ITEM_ID\" i18n=\"@@siodialog_cdc\"> CDC </th>\r\n                  <td mat-cell *matCellDef=\"let element\"> {{element.itemId}} </td>\r\n                </ng-container>\r\n                <!-- itemDescription Column -->\r\n                <ng-container matColumnDef=\"itemDescription\">\r\n                  <th mat-header-cell *matHeaderCellDef mat-sort-header=\"ITEM_DESCRIPTION\" i18n=\"@@siodialog_description\"> Description </th>\r\n                    <td mat-cell *matCellDef=\"let element\"> {{element.itemDescription}} </td>\r\n                  </ng-container>\r\n                  <tr mat-header-row *matHeaderRowDef=\"cdcDisplayedColumns;sticky: true\"></tr>\r\n                  <tr mat-row *matRowDef=\"let row; columns: cdcDisplayedColumns;\" (click)=\"selectCdcRow(row,$event)\" ></tr>\r\n                </table>\r\n              </div>\r\n              <mat-paginator #cdcPaginator [length]=\"cdcResultsLength\" [pageSize]=\"10\" [pageSizeOptions]=\"[5, 10, 20]\"></mat-paginator>\r\n            </div>\r\n          </mat-tab>\r\n        }\r\n      </mat-tab-group>\r\n\r\n\r\n\r\n\r\n    </div>\r\n    <div mat-dialog-actions style=\"float:right\">\r\n      <button mat-button class=\"sii-button-light\" [mat-dialog-close] i18n=\"@@siodialog_cancel_button\">Cancel Operation</button>\r\n      </div>\r\n", styles: [":host{display:flex;flex-direction:column;height:100%}.siod_tabContent{width:100%;height:100%;display:flex;flex-direction:column}table{width:100%}.mat-mdc-form-field{font-size:14px;width:100%}.mat-mdc-dialog-content{flex:1;max-height:initial;display:flex;flex-direction:column}.siod_tableContainer{flex:1 1 auto;overflow:auto;padding:0 3px}tr.mat-mdc-row{cursor:pointer}tr.mat-mdc-row:hover{background-color:#efefef}\n"] }]
        }], ctorParameters: () => [{ type: i1.MatDialogRef }, { type: i2.SiiToolkitService }, { type: i3.HttpClient }, { type: undefined, decorators: [{
                    type: Inject,
                    args: [MAT_DIALOG_DATA]
                }] }], propDecorators: { internalOrderPaginator: [{
                type: ViewChild,
                args: ['internalOrderPaginator', { read: MatPaginator, }]
            }], internalOrderSort: [{
                type: ViewChild,
                args: ['internalOrderSort', { read: MatSort }]
            }], cdcPaginator: [{
                type: ViewChild,
                args: ['cdcPaginator', { read: MatPaginator }]
            }], cdcSort: [{
                type: ViewChild,
                args: ['cdcSort', { read: MatSort }]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VhcmNoLXdvcmstb3JkZXItZGlhbG9nLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3NpaS10b29sa2l0L3NyYy9saWIvY29tcG9uZW50cy9kc2lpLWNvbXBvbmVudHMvbG9va3VwLXdvcmstb3JkZXIvY29tcG9uZW50cy9zZWFyY2gtd29yay1vcmRlci1kaWFsb2cvc2VhcmNoLXdvcmstb3JkZXItZGlhbG9nLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3NpaS10b29sa2l0L3NyYy9saWIvY29tcG9uZW50cy9kc2lpLWNvbXBvbmVudHMvbG9va3VwLXdvcmstb3JkZXIvY29tcG9uZW50cy9zZWFyY2gtd29yay1vcmRlci1kaWFsb2cvc2VhcmNoLXdvcmstb3JkZXItZGlhbG9nLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBaUIsU0FBUyxFQUFFLE1BQU0sRUFBVSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDcEYsT0FBTyxFQUFFLGtCQUFrQixFQUFFLFdBQVcsRUFBRSxtQkFBbUIsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3RGLE9BQU8sRUFBRSxlQUFlLEVBQWdCLGdCQUFnQixFQUFFLGdCQUFnQixFQUFFLGNBQWMsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQzdILE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUMzRCxPQUFPLEVBQUUsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ2hFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxRQUFRLEVBQUUsWUFBWSxFQUFFLGdCQUFnQixFQUFFLGFBQWEsRUFBRSxVQUFVLEVBQUUsT0FBTyxFQUFFLGVBQWUsRUFBRSxZQUFZLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQzdMLE9BQU8sRUFBcUIsV0FBVyxFQUFFLE1BQU0sRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ2hGLE9BQU8sRUFBRSxLQUFLLEVBQWMsTUFBTSxNQUFNLENBQUM7QUFDekMsT0FBTyxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFPLEdBQUcsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBTTlFLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUNyRCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDbkQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLDhCQUE4QixDQUFDO0FBQzVELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQzs7Ozs7O0FBa0N2RCxNQUFNLE9BQU8sOEJBQThCO0lBc0J6QyxZQUFtQixTQUF1RCxFQUFRLGlCQUFvQyxFQUNuRyxJQUFnQixFQUFrQyxJQUF5QztRQUQzRixjQUFTLEdBQVQsU0FBUyxDQUE4QztRQUFRLHNCQUFpQixHQUFqQixpQkFBaUIsQ0FBbUI7UUFDbkcsU0FBSSxHQUFKLElBQUksQ0FBWTtRQUFrQyxTQUFJLEdBQUosSUFBSSxDQUFxQztRQWhCOUcsNkJBQXdCLEdBQUcsSUFBSSxrQkFBa0IsRUFBRSxDQUFDO1FBQ3BELGtDQUE2QixHQUFhLENBQUMsUUFBUSxFQUFFLGlCQUFpQixFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsbUJBQW1CLENBQUMsQ0FBQztRQUVuSCwrQkFBMEIsR0FBRyxDQUFDLENBQUM7UUFFL0IsbUJBQWMsR0FBRyxJQUFJLGtCQUFrQixFQUFFLENBQUM7UUFDMUMsd0JBQW1CLEdBQWEsQ0FBQyxRQUFRLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztRQUU5RCxxQkFBZ0IsR0FBRyxDQUFDLENBQUM7UUFFckIsVUFBSyxHQUFHO1lBQ04sV0FBVyxFQUFFLEtBQUs7WUFDbEIsWUFBWSxFQUFFLEtBQUs7U0FDcEIsQ0FBQztJQUdnSCxDQUFDO0lBRW5ILGVBQWU7UUFDYixJQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFDLENBQUM7WUFDbkIsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzdCLENBQUM7YUFBSSxDQUFDO1lBQ0osSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzdCLENBQUM7SUFDSCxDQUFDO0lBRUQsUUFBUTtJQUNSLENBQUM7SUFFRCxrQkFBa0IsQ0FBQyxRQUFnQjtRQUNqQyxJQUFJLFFBQVEsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsSUFBSSxJQUFJLENBQUMsc0JBQXNCLElBQUksSUFBSTtlQUMvRSxJQUFJLENBQUMsaUJBQWlCLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyx3QkFBd0IsSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUM3RSxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUM7WUFDOUIsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLHNCQUFzQixDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUM7WUFDM0YsSUFBSSxDQUFDLHdCQUF3QixDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLHNCQUFzQixDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUM7WUFFcEcsS0FBSyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLHNCQUFzQixDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsd0JBQXdCLENBQUMsWUFBWSxDQUFDLENBQUMsSUFBSSxDQUN6SCxTQUFTLENBQUMsRUFBRSxDQUFDLEVBQ2IsWUFBWSxDQUFDLEdBQUcsQ0FBQyxFQUNqQixTQUFTLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTtnQkFDakIsT0FBTyxJQUFJLENBQUMsZ0NBQWdDLEVBQUUsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQSxFQUFFLEdBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFBLEVBQUUsQ0FBQSxDQUFDLENBQUMsSUFBSSxHQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzlHLENBQUMsQ0FBQyxDQUNILENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7Z0JBQ25CLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNyQyxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUM7UUFFRCxJQUFJLFFBQVEsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksSUFBSSxJQUFJLENBQUMsWUFBWSxJQUFJLElBQUk7ZUFDdEUsSUFBSSxDQUFDLE9BQU8sSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLGNBQWMsSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUN6RCxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUM7WUFDL0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQztZQUN2RSxJQUFJLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDO1lBRWhGLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FDM0YsU0FBUyxDQUFDLEVBQUUsQ0FBQyxFQUNiLFlBQVksQ0FBQyxHQUFHLENBQUMsRUFDakIsU0FBUyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7Z0JBQ2pCLE9BQU8sSUFBSSxDQUFDLHNCQUFzQixFQUFFLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUEsRUFBRSxHQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQSxFQUFFLENBQUEsQ0FBQyxDQUFDLElBQUksR0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUEsQ0FBQyxDQUFDLENBQUMsQ0FBQTtZQUNwRyxDQUFDLENBQUMsQ0FDSCxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFO2dCQUNuQixJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzNCLENBQUMsQ0FBQyxDQUFDO1FBRUwsQ0FBQztJQUNILENBQUM7SUFFRCxTQUFTLENBQUMsR0FBc0I7UUFDOUIsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBRUQsdUJBQXVCLENBQUMsSUFBcUM7UUFDM0QsSUFBSSxDQUFDLHVCQUF1QixHQUFHLElBQUksa0JBQWtCLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3BFLElBQUksQ0FBQywwQkFBMEIsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDO0lBQ3ZELENBQUM7SUFDRCxhQUFhLENBQUMsSUFBK0I7UUFDM0MsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLGtCQUFrQixDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUMxRCxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztJQUM3QyxDQUFDO0lBRUQsZ0NBQWdDO1FBQzlCLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyx5QkFBeUIsS0FBSyxTQUFTLEVBQUUsQ0FBQztZQUN0RCxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFrQyxHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxXQUFXLENBQUMsTUFBTSx3QkFBd0IsRUFDekg7Z0JBQ0UsSUFBSSxFQUFFLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxLQUFLO2dCQUN6QyxVQUFVLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVO2dCQUNoQyxJQUFJLEVBQUUsSUFBSSxDQUFDLHNCQUFzQixDQUFDLFNBQVM7Z0JBQzNDLElBQUksRUFBRSxJQUFJLENBQUMsc0JBQXNCLENBQUMsUUFBUTtnQkFDMUMsU0FBUyxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNO2dCQUN4QyxhQUFhLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxXQUFXLEVBQUU7YUFDOUQsQ0FBQyxDQUFDO1FBQ1AsQ0FBQzthQUFNLENBQUM7WUFDTixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMseUJBQXlCLENBQ3hDLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxLQUFLLEVBQ25DLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxTQUFTLEVBQ3JDLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxRQUFRLEVBQ3BDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLEVBQzdCLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsV0FBVyxFQUFFLENBQy9DLENBQUM7UUFDSixDQUFDO0lBRUgsQ0FBQztJQUNELHNCQUFzQjtRQUNwQixJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsMEJBQTBCLEtBQUssU0FBUyxFQUFFLENBQUM7WUFDdkQsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBNEIsR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUMsV0FBVyxDQUFDLE1BQU0sYUFBYSxFQUN4RztnQkFDRSxJQUFJLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLO2dCQUMvQixVQUFVLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVO2dCQUNoQyxJQUFJLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTO2dCQUNqQyxJQUFJLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRO2dCQUNoQyxTQUFTLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNO2dCQUM5QixhQUFhLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsV0FBVyxFQUFFO2FBQ3BELENBQUMsQ0FBQztRQUNQLENBQUM7YUFBTSxDQUFDO1lBQ04sT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLDBCQUEwQixDQUN6QyxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssRUFDekIsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQzNCLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxFQUMxQixJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFDbkIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsV0FBVyxFQUFFLENBQ3JDLENBQUM7UUFDSixDQUFDO0lBQ0gsQ0FBQztJQUVELHNCQUFzQixDQUFDLEdBQTRCLEVBQUUsS0FBaUI7UUFDcEUsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDLElBQUksS0FBSyxPQUFPLEVBQUUsQ0FBQztZQUMvQyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUM1QixDQUFDO0lBQ0gsQ0FBQztJQUVELFlBQVksQ0FBQyxHQUFzQixFQUFFLEtBQWlCO1FBQ3BELElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQyxJQUFJLEtBQUssT0FBTyxFQUFFLENBQUM7WUFDL0MsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDNUIsQ0FBQztJQUNILENBQUM7K0dBNUlVLDhCQUE4Qix5R0F1QkksZUFBZTttR0F2QmpELDhCQUE4QixxTUFDSSxZQUFZLGlIQUNqQixPQUFPLHVHQUVaLFlBQVksNkZBQ2pCLE9BQU8sNkJDekR2Qyx3Z0tBa0ZBLDJkRHZEUSxnQkFBZ0IseUdBQ2hCLFdBQVcsa2JBQ1gsTUFBTSxxS0FDTixZQUFZLDRMQUNaLFFBQVEsZ1VBQ1IsV0FBVyxzWkFDWCxtQkFBbUIsa05BQ25CLFFBQVEsZ0dBQ1IsT0FBTyxrTkFDUCxZQUFZLHFGQUNaLGdCQUFnQiwrREFDaEIsYUFBYSxpRkFDYixhQUFhLHVNQUNiLFVBQVUseURBQ1YsT0FBTyxtRUFDUCxlQUFlLG9IQUNmLFlBQVksMkdBQ1osU0FBUyx1R0FDVCxNQUFNLHVGQUNOLFlBQVksc1BBQ1osZ0JBQWdCLDRIQUNoQixTQUFTLGlMQUNULGNBQWM7OzRGQUdULDhCQUE4QjtrQkFoQzFDLFNBQVM7K0JBQ0ksOEJBQThCLGNBRzVCLElBQUksV0FDUDt3QkFDTCxhQUFhO3dCQUNiLGdCQUFnQjt3QkFDaEIsV0FBVzt3QkFDWCxNQUFNO3dCQUNOLFlBQVk7d0JBQ1osUUFBUTt3QkFDUixXQUFXO3dCQUNYLG1CQUFtQjt3QkFDbkIsUUFBUTt3QkFDUixPQUFPO3dCQUNQLFlBQVk7d0JBQ1osZ0JBQWdCO3dCQUNoQixhQUFhO3dCQUNiLGFBQWE7d0JBQ2IsVUFBVTt3QkFDVixPQUFPO3dCQUNQLGVBQWU7d0JBQ2YsWUFBWTt3QkFDWixTQUFTO3dCQUNULE1BQU07d0JBQ04sWUFBWTt3QkFDWixnQkFBZ0I7d0JBQ2hCLFNBQVM7d0JBQ1QsY0FBYztxQkFDakI7OzBCQXlCbUMsTUFBTTsyQkFBQyxlQUFlO3lDQXRCRSxzQkFBc0I7c0JBQW5GLFNBQVM7dUJBQUMsd0JBQXdCLEVBQUUsRUFBRSxJQUFJLEVBQUUsWUFBWSxHQUFHO2dCQUNWLGlCQUFpQjtzQkFBbEUsU0FBUzt1QkFBQyxtQkFBbUIsRUFBRSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUM7Z0JBRUUsWUFBWTtzQkFBN0QsU0FBUzt1QkFBQyxjQUFjLEVBQUUsRUFBRSxJQUFJLEVBQUUsWUFBWSxFQUFDO2dCQUNQLE9BQU87c0JBQS9DLFNBQVM7dUJBQUMsU0FBUyxFQUFFLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEh0dHBDbGllbnQgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XHJcbmltcG9ydCB7IEFmdGVyVmlld0luaXQsIENvbXBvbmVudCwgSW5qZWN0LCBPbkluaXQsIFZpZXdDaGlsZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBVbnR5cGVkRm9ybUNvbnRyb2wsIEZvcm1zTW9kdWxlLCBSZWFjdGl2ZUZvcm1zTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xyXG5pbXBvcnQgeyBNQVRfRElBTE9HX0RBVEEsIE1hdERpYWxvZ1JlZiwgTWF0RGlhbG9nQ29udGVudCwgTWF0RGlhbG9nQWN0aW9ucywgTWF0RGlhbG9nQ2xvc2UgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9kaWFsb2cnO1xyXG5pbXBvcnQgeyBNYXRQYWdpbmF0b3IgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9wYWdpbmF0b3InO1xyXG5pbXBvcnQgeyBNYXRTb3J0LCBNYXRTb3J0SGVhZGVyIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvc29ydCc7XHJcbmltcG9ydCB7IE1hdFRhYmxlRGF0YVNvdXJjZSwgTWF0VGFibGUsIE1hdENvbHVtbkRlZiwgTWF0SGVhZGVyQ2VsbERlZiwgTWF0SGVhZGVyQ2VsbCwgTWF0Q2VsbERlZiwgTWF0Q2VsbCwgTWF0SGVhZGVyUm93RGVmLCBNYXRIZWFkZXJSb3csIE1hdFJvd0RlZiwgTWF0Um93IH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvdGFibGUnO1xyXG5pbXBvcnQgeyBNYXRUYWJDaGFuZ2VFdmVudCwgTWF0VGFiR3JvdXAsIE1hdFRhYiB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL3RhYnMnO1xyXG5pbXBvcnQgeyBtZXJnZSwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQgeyBkZWJvdW5jZVRpbWUsIHN0YXJ0V2l0aCwgc3dpdGNoTWFwLCB0YXAsIG1hcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcclxuaW1wb3J0IHsgSUxvb2t1cENkY0RhdGFEVE8gfSBmcm9tICcuLi8uLi9kb21haW4vbG9va3VwLWNkYy1kYXRhLmR0byc7XHJcbmltcG9ydCB7IElMb29rdXBXb3JrT3JkZXJEYXRhRFRPIH0gZnJvbSAnLi4vLi4vZG9tYWluL2xvb2t1cC13b3JrLW9yZGVyLWRhdGEuZHRvJztcclxuaW1wb3J0IHsgSVBhZ2VhYmxlTG9va3VwQ2RjRGF0YURUTyB9IGZyb20gJy4uLy4uL2RvbWFpbi9wYWdlYWJsZS1sb29rdXAtY2RjLWRhdGEuZHRvLic7XHJcbmltcG9ydCB7IElQYWdlYWJsZUxvb2t1cFdvcmtPcmRlckRhdGFEVE8gfSBmcm9tICcuLi8uLi9kb21haW4vcGFnZWFibGUtbG9va3VwLXdvcmstb3JkZXItZGF0YS5kdG8nO1xyXG5pbXBvcnQgeyBTaWlUb29sa2l0U2VydmljZSB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL3NpaS10b29sa2l0LnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBNYXRCdXR0b24gfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9idXR0b24nO1xyXG5pbXBvcnQgeyBNYXRJbnB1dCB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2lucHV0JztcclxuaW1wb3J0IHsgTWF0Rm9ybUZpZWxkIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvZm9ybS1maWVsZCc7XHJcbmltcG9ydCB7IENka1Njcm9sbGFibGUgfSBmcm9tICdAYW5ndWxhci9jZGsvc2Nyb2xsaW5nJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gICAgc2VsZWN0b3I6ICdzaWktc2VhcmNoLXdvcmstb3JkZXItZGlhbG9nJyxcclxuICAgIHRlbXBsYXRlVXJsOiAnLi9zZWFyY2gtd29yay1vcmRlci1kaWFsb2cuY29tcG9uZW50Lmh0bWwnLFxyXG4gICAgc3R5bGVVcmxzOiBbJy4vc2VhcmNoLXdvcmstb3JkZXItZGlhbG9nLmNvbXBvbmVudC5jc3MnXSxcclxuICAgIHN0YW5kYWxvbmU6IHRydWUsXHJcbiAgICBpbXBvcnRzOiBbXHJcbiAgICAgICAgQ2RrU2Nyb2xsYWJsZSxcclxuICAgICAgICBNYXREaWFsb2dDb250ZW50LFxyXG4gICAgICAgIE1hdFRhYkdyb3VwLFxyXG4gICAgICAgIE1hdFRhYixcclxuICAgICAgICBNYXRGb3JtRmllbGQsXHJcbiAgICAgICAgTWF0SW5wdXQsXHJcbiAgICAgICAgRm9ybXNNb2R1bGUsXHJcbiAgICAgICAgUmVhY3RpdmVGb3Jtc01vZHVsZSxcclxuICAgICAgICBNYXRUYWJsZSxcclxuICAgICAgICBNYXRTb3J0LFxyXG4gICAgICAgIE1hdENvbHVtbkRlZixcclxuICAgICAgICBNYXRIZWFkZXJDZWxsRGVmLFxyXG4gICAgICAgIE1hdEhlYWRlckNlbGwsXHJcbiAgICAgICAgTWF0U29ydEhlYWRlcixcclxuICAgICAgICBNYXRDZWxsRGVmLFxyXG4gICAgICAgIE1hdENlbGwsXHJcbiAgICAgICAgTWF0SGVhZGVyUm93RGVmLFxyXG4gICAgICAgIE1hdEhlYWRlclJvdyxcclxuICAgICAgICBNYXRSb3dEZWYsXHJcbiAgICAgICAgTWF0Um93LFxyXG4gICAgICAgIE1hdFBhZ2luYXRvcixcclxuICAgICAgICBNYXREaWFsb2dBY3Rpb25zLFxyXG4gICAgICAgIE1hdEJ1dHRvbixcclxuICAgICAgICBNYXREaWFsb2dDbG9zZSxcclxuICAgIF0sXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBTZWFyY2hXb3JrT3JkZXJEaWFsb2dDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIEFmdGVyVmlld0luaXQge1xyXG4gIEBWaWV3Q2hpbGQoJ2ludGVybmFsT3JkZXJQYWdpbmF0b3InLCB7IHJlYWQ6IE1hdFBhZ2luYXRvciwgfSkgaW50ZXJuYWxPcmRlclBhZ2luYXRvcjogTWF0UGFnaW5hdG9yO1xyXG4gIEBWaWV3Q2hpbGQoJ2ludGVybmFsT3JkZXJTb3J0JywgeyByZWFkOiBNYXRTb3J0fSkgaW50ZXJuYWxPcmRlclNvcnQ6IE1hdFNvcnQ7XHJcblxyXG4gIEBWaWV3Q2hpbGQoJ2NkY1BhZ2luYXRvcicsIHsgcmVhZDogTWF0UGFnaW5hdG9yfSkgY2RjUGFnaW5hdG9yOiBNYXRQYWdpbmF0b3I7XHJcbiAgQFZpZXdDaGlsZCgnY2RjU29ydCcsIHsgcmVhZDogTWF0U29ydCB9KSBjZGNTb3J0OiBNYXRTb3J0O1xyXG5cclxuICBpbnRlcm5hbE9yZGVyRm9ybUNvbnRyb2wgPSBuZXcgVW50eXBlZEZvcm1Db250cm9sKCk7XHJcbiAgaW50ZXJuYWxPcmRlckRpc3BsYXllZENvbHVtbnM6IHN0cmluZ1tdID0gWydpdGVtSWQnLCAnaXRlbURlc2NyaXB0aW9uJywgJ2NkY0NvZGljZScsICdjb21DcCcsICdjb21Jbml6aW9WYWxpZGl0YSddO1xyXG4gIGludGVybmFsT3JkZXJEYXRhU291cmNlOiBNYXRUYWJsZURhdGFTb3VyY2U8SUxvb2t1cFdvcmtPcmRlckRhdGFEVE8+O1xyXG4gIGludGVybmFsT3JkZXJSZXN1bHRzTGVuZ3RoID0gMDtcclxuXHJcbiAgY2RjRm9ybUNvbnRyb2wgPSBuZXcgVW50eXBlZEZvcm1Db250cm9sKCk7XHJcbiAgY2RjRGlzcGxheWVkQ29sdW1uczogc3RyaW5nW10gPSBbJ2l0ZW1JZCcsICdpdGVtRGVzY3JpcHRpb24nXTtcclxuICBjZGNEYXRhU291cmNlOiBNYXRUYWJsZURhdGFTb3VyY2U8SUxvb2t1cENkY0RhdGFEVE8+O1xyXG4gIGNkY1Jlc3VsdHNMZW5ndGggPSAwO1xyXG5cclxuICB1dGlscyA9IHtcclxuICAgIGlvQWN0aXZhdGVkOiBmYWxzZSxcclxuICAgIGNkY0FjdGl2YXRlZDogZmFsc2UsXHJcbiAgfTtcclxuXHJcbiAgY29uc3RydWN0b3IocHVibGljIGRpYWxvZ1JlZjogTWF0RGlhbG9nUmVmPFNlYXJjaFdvcmtPcmRlckRpYWxvZ0NvbXBvbmVudD4scHVibGljIHNpaVRvb2xraXRTZXJ2aWNlOiBTaWlUb29sa2l0U2VydmljZSxcclxuICAgICAgICAgICAgICBwdWJsaWMgaHR0cDogSHR0cENsaWVudCwgQEluamVjdChNQVRfRElBTE9HX0RBVEEpIHB1YmxpYyBkYXRhOiBJU2VhcmNoV29ya09yZGVyRGlhbG9nQ29tcG9uZW50RGF0YSkgeyB9XHJcblxyXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcclxuICAgIGlmKHRoaXMuZGF0YS5oaWRlSU8pe1xyXG4gICAgICB0aGlzLmFjdGl2YXRlU3Vic2NyaWJlcygxKTtcclxuICAgIH1lbHNle1xyXG4gICAgICB0aGlzLmFjdGl2YXRlU3Vic2NyaWJlcygwKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG5nT25Jbml0KCkge1xyXG4gIH1cclxuXHJcbiAgYWN0aXZhdGVTdWJzY3JpYmVzKHRhYkluZGV4OiBudW1iZXIpIHtcclxuICAgIGlmICh0YWJJbmRleCA9PT0gMCAmJiAhdGhpcy51dGlscy5pb0FjdGl2YXRlZCAmJiB0aGlzLmludGVybmFsT3JkZXJQYWdpbmF0b3IgIT0gbnVsbFxyXG4gICAgICAmJiB0aGlzLmludGVybmFsT3JkZXJTb3J0ICE9IG51bGwgJiYgdGhpcy5pbnRlcm5hbE9yZGVyRm9ybUNvbnRyb2wgIT0gbnVsbCkge1xyXG4gICAgICB0aGlzLnV0aWxzLmlvQWN0aXZhdGVkID0gdHJ1ZTtcclxuICAgICAgdGhpcy5pbnRlcm5hbE9yZGVyU29ydC5zb3J0Q2hhbmdlLnN1YnNjcmliZSgoKSA9PiB0aGlzLmludGVybmFsT3JkZXJQYWdpbmF0b3IuZmlyc3RQYWdlKCkpO1xyXG4gICAgICB0aGlzLmludGVybmFsT3JkZXJGb3JtQ29udHJvbC52YWx1ZUNoYW5nZXMuc3Vic2NyaWJlKCgpID0+IHRoaXMuaW50ZXJuYWxPcmRlclBhZ2luYXRvci5maXJzdFBhZ2UoKSk7XHJcblxyXG4gICAgICBtZXJnZSh0aGlzLmludGVybmFsT3JkZXJTb3J0LnNvcnRDaGFuZ2UsIHRoaXMuaW50ZXJuYWxPcmRlclBhZ2luYXRvci5wYWdlLCB0aGlzLmludGVybmFsT3JkZXJGb3JtQ29udHJvbC52YWx1ZUNoYW5nZXMpLnBpcGUoXHJcbiAgICAgICAgc3RhcnRXaXRoKHt9KSxcclxuICAgICAgICBkZWJvdW5jZVRpbWUoNTAwKSxcclxuICAgICAgICBzd2l0Y2hNYXAoKGRhdGEpID0+IHtcclxuICAgICAgICAgIHJldHVybiB0aGlzLmZldGNoSW50ZXJuYWxPcmRlckRhdGFGcm9tU2VydmVyKCkucGlwZShtYXAoeD0+e3guY29udGVudC5mb3JFYWNoKGk9PmkudHlwZT0nSU8nKTsgcmV0dXJuIHg7fSkpO1xyXG4gICAgICAgIH0pLFxyXG4gICAgICApLnN1YnNjcmliZSgocmVzcCkgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlSW50ZXJuYWxPcmRlckRhdGEocmVzcCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0YWJJbmRleCA9PT0gMSAmJiAhdGhpcy51dGlscy5jZGNBY3RpdmF0ZWQgJiYgdGhpcy5jZGNQYWdpbmF0b3IgIT0gbnVsbFxyXG4gICAgICAmJiB0aGlzLmNkY1NvcnQgIT0gbnVsbCAmJiB0aGlzLmNkY0Zvcm1Db250cm9sICE9IG51bGwpIHtcclxuICAgICAgdGhpcy51dGlscy5jZGNBY3RpdmF0ZWQgPSB0cnVlO1xyXG4gICAgICB0aGlzLmNkY1NvcnQuc29ydENoYW5nZS5zdWJzY3JpYmUoKCkgPT4gdGhpcy5jZGNQYWdpbmF0b3IuZmlyc3RQYWdlKCkpO1xyXG4gICAgICB0aGlzLmNkY0Zvcm1Db250cm9sLnZhbHVlQ2hhbmdlcy5zdWJzY3JpYmUoKCkgPT4gdGhpcy5jZGNQYWdpbmF0b3IuZmlyc3RQYWdlKCkpO1xyXG5cclxuICAgICAgbWVyZ2UodGhpcy5jZGNTb3J0LnNvcnRDaGFuZ2UsIHRoaXMuY2RjUGFnaW5hdG9yLnBhZ2UsIHRoaXMuY2RjRm9ybUNvbnRyb2wudmFsdWVDaGFuZ2VzKS5waXBlKFxyXG4gICAgICAgIHN0YXJ0V2l0aCh7fSksXHJcbiAgICAgICAgZGVib3VuY2VUaW1lKDUwMCksXHJcbiAgICAgICAgc3dpdGNoTWFwKChkYXRhKSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gdGhpcy5mZXRjaENkY0RhdGFGcm9tU2VydmVyKCkucGlwZShtYXAoeD0+e3guY29udGVudC5mb3JFYWNoKGk9PmkudHlwZT0nQ0RDJyk7IHJldHVybiB4O30pKVxyXG4gICAgICAgIH0pLFxyXG4gICAgICApLnN1YnNjcmliZSgocmVzcCkgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlQ2RjRGF0YShyZXNwKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdGFiQ2hhbmdlKHZhbDogTWF0VGFiQ2hhbmdlRXZlbnQpIHtcclxuICAgIHRoaXMuYWN0aXZhdGVTdWJzY3JpYmVzKHZhbC5pbmRleCk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVJbnRlcm5hbE9yZGVyRGF0YShkYXRhOiBJUGFnZWFibGVMb29rdXBXb3JrT3JkZXJEYXRhRFRPKSB7XHJcbiAgICB0aGlzLmludGVybmFsT3JkZXJEYXRhU291cmNlID0gbmV3IE1hdFRhYmxlRGF0YVNvdXJjZShkYXRhLmNvbnRlbnQpO1xyXG4gICAgdGhpcy5pbnRlcm5hbE9yZGVyUmVzdWx0c0xlbmd0aCA9IGRhdGEudG90YWxFbGVtZW50cztcclxuICB9XHJcbiAgdXBkYXRlQ2RjRGF0YShkYXRhOiBJUGFnZWFibGVMb29rdXBDZGNEYXRhRFRPKSB7XHJcbiAgICB0aGlzLmNkY0RhdGFTb3VyY2UgPSBuZXcgTWF0VGFibGVEYXRhU291cmNlKGRhdGEuY29udGVudCk7XHJcbiAgICB0aGlzLmNkY1Jlc3VsdHNMZW5ndGggPSBkYXRhLnRvdGFsRWxlbWVudHM7XHJcbiAgfVxyXG5cclxuICBmZXRjaEludGVybmFsT3JkZXJEYXRhRnJvbVNlcnZlcigpIHtcclxuICAgIGlmICh0aGlzLmRhdGEuY3VzdG9tUGFnZWFibGVJT1Jlc3RGdW5jdCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmh0dHAucG9zdDxJUGFnZWFibGVMb29rdXBXb3JrT3JkZXJEYXRhRFRPPihgJHt0aGlzLnNpaVRvb2xraXRTZXJ2aWNlLmVudmlyb25tZW50LmRvbWFpbn0vbG9va3VwL2ludGVybmFsX29yZGVyYCxcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0ZXh0OiB0aGlzLmludGVybmFsT3JkZXJGb3JtQ29udHJvbC52YWx1ZSxcclxuICAgICAgICAgIGNvZFNvY2lldHk6IHRoaXMuZGF0YS5jb2RTb2NpZXR5LFxyXG4gICAgICAgICAgcGFnZTogdGhpcy5pbnRlcm5hbE9yZGVyUGFnaW5hdG9yLnBhZ2VJbmRleCxcclxuICAgICAgICAgIHNpemU6IHRoaXMuaW50ZXJuYWxPcmRlclBhZ2luYXRvci5wYWdlU2l6ZSxcclxuICAgICAgICAgIHNvcnRGaWVsZDogdGhpcy5pbnRlcm5hbE9yZGVyU29ydC5hY3RpdmUsXHJcbiAgICAgICAgICBzb3J0RGlyZWN0aW9uOiB0aGlzLmludGVybmFsT3JkZXJTb3J0LmRpcmVjdGlvbi50b1VwcGVyQ2FzZSgpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZGF0YS5jdXN0b21QYWdlYWJsZUlPUmVzdEZ1bmN0KFxyXG4gICAgICAgIHRoaXMuaW50ZXJuYWxPcmRlckZvcm1Db250cm9sLnZhbHVlLFxyXG4gICAgICAgIHRoaXMuaW50ZXJuYWxPcmRlclBhZ2luYXRvci5wYWdlSW5kZXgsXHJcbiAgICAgICAgdGhpcy5pbnRlcm5hbE9yZGVyUGFnaW5hdG9yLnBhZ2VTaXplLFxyXG4gICAgICAgIHRoaXMuaW50ZXJuYWxPcmRlclNvcnQuYWN0aXZlLFxyXG4gICAgICAgIHRoaXMuaW50ZXJuYWxPcmRlclNvcnQuZGlyZWN0aW9uLnRvVXBwZXJDYXNlKCksXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuICBmZXRjaENkY0RhdGFGcm9tU2VydmVyKCkge1xyXG4gICAgaWYgKHRoaXMuZGF0YS5jdXN0b21QYWdlYWJsZUNkY1Jlc3RGdW5jdCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmh0dHAucG9zdDxJUGFnZWFibGVMb29rdXBDZGNEYXRhRFRPPihgJHt0aGlzLnNpaVRvb2xraXRTZXJ2aWNlLmVudmlyb25tZW50LmRvbWFpbn0vbG9va3VwL2NkY2AsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGV4dDogdGhpcy5jZGNGb3JtQ29udHJvbC52YWx1ZSxcclxuICAgICAgICAgIGNvZFNvY2lldHk6IHRoaXMuZGF0YS5jb2RTb2NpZXR5LFxyXG4gICAgICAgICAgcGFnZTogdGhpcy5jZGNQYWdpbmF0b3IucGFnZUluZGV4LFxyXG4gICAgICAgICAgc2l6ZTogdGhpcy5jZGNQYWdpbmF0b3IucGFnZVNpemUsXHJcbiAgICAgICAgICBzb3J0RmllbGQ6IHRoaXMuY2RjU29ydC5hY3RpdmUsXHJcbiAgICAgICAgICBzb3J0RGlyZWN0aW9uOiB0aGlzLmNkY1NvcnQuZGlyZWN0aW9uLnRvVXBwZXJDYXNlKCksXHJcbiAgICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdGhpcy5kYXRhLmN1c3RvbVBhZ2VhYmxlQ2RjUmVzdEZ1bmN0KFxyXG4gICAgICAgIHRoaXMuY2RjRm9ybUNvbnRyb2wudmFsdWUsXHJcbiAgICAgICAgdGhpcy5jZGNQYWdpbmF0b3IucGFnZUluZGV4LFxyXG4gICAgICAgIHRoaXMuY2RjUGFnaW5hdG9yLnBhZ2VTaXplLFxyXG4gICAgICAgIHRoaXMuY2RjU29ydC5hY3RpdmUsXHJcbiAgICAgICAgdGhpcy5jZGNTb3J0LmRpcmVjdGlvbi50b1VwcGVyQ2FzZSgpLFxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2VsZWN0SW50ZXJuYWxPcmRlclJvdyhyb3c6IElMb29rdXBXb3JrT3JkZXJEYXRhRFRPLCBldmVudDogTW91c2VFdmVudCkge1xyXG4gICAgaWYgKGV2ZW50LnZpZXcuZ2V0U2VsZWN0aW9uKCkudHlwZSAhPT0gJ1JhbmdlJykge1xyXG4gICAgICB0aGlzLmRpYWxvZ1JlZi5jbG9zZShyb3cpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2VsZWN0Q2RjUm93KHJvdzogSUxvb2t1cENkY0RhdGFEVE8sIGV2ZW50OiBNb3VzZUV2ZW50KSB7XHJcbiAgICBpZiAoZXZlbnQudmlldy5nZXRTZWxlY3Rpb24oKS50eXBlICE9PSAnUmFuZ2UnKSB7XHJcbiAgICAgIHRoaXMuZGlhbG9nUmVmLmNsb3NlKHJvdyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufVxyXG5cclxuaW50ZXJmYWNlIElTZWFyY2hXb3JrT3JkZXJEaWFsb2dDb21wb25lbnREYXRhIHtcclxuICBjb2RTb2NpZXR5OiBzdHJpbmc7XHJcbiAgaGlkZUNkYzpib29sZWFuO1xyXG4gIGhpZGVJTzpib29sZWFuO1xyXG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcclxuICBjdXN0b21QYWdlYWJsZUlPUmVzdEZ1bmN0OiAodHh0OiBzdHJpbmcsIHBhZ2U6IG51bWJlciwgc2l6ZTogbnVtYmVyLCBzb3J0RmllbGQ6IHN0cmluZywgc29ydERpcmVjdGlvbjogc3RyaW5nKSA9PiBPYnNlcnZhYmxlPElQYWdlYWJsZUxvb2t1cFdvcmtPcmRlckRhdGFEVE8+O1xyXG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcclxuICBjdXN0b21QYWdlYWJsZUNkY1Jlc3RGdW5jdDogKHR4dDogc3RyaW5nLCBwYWdlOiBudW1iZXIsIHNpemU6IG51bWJlciwgc29ydEZpZWxkOiBzdHJpbmcsIHNvcnREaXJlY3Rpb246IHN0cmluZykgPT4gT2JzZXJ2YWJsZTxJUGFnZWFibGVMb29rdXBDZGNEYXRhRFRPPjtcclxufVxyXG4iLCJcclxuPGRpdiBtYXQtZGlhbG9nLWNvbnRlbnQ+XHJcblxyXG4gIDxtYXQtdGFiLWdyb3VwIChzZWxlY3RlZFRhYkNoYW5nZSkgPVwidGFiQ2hhbmdlKCRldmVudClcIiA+XHJcbiAgICBAaWYgKCFkYXRhLmhpZGVJTykge1xyXG4gICAgICA8bWF0LXRhYiBsYWJlbD1cIkludGVybmFsIE9yZGVyXCIgaTE4bi1sYWJlbD1cIkBAc2lvZGlhbG9nX2ludGVybmFsX29yZGVyX3RhYl9sYWJlbFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzaW9kX3RhYkNvbnRlbnRcIj5cclxuICAgICAgICAgIDxtYXQtZm9ybS1maWVsZD5cclxuICAgICAgICAgICAgPGlucHV0IG1hdElucHV0IFtmb3JtQ29udHJvbF09XCJpbnRlcm5hbE9yZGVyRm9ybUNvbnRyb2xcIiAgcGxhY2Vob2xkZXI9XCJGaWx0ZXJcIiBpMThuLXBsYWNlaG9sZGVyPVwiQEBzaW9kaWFsb2dfRmlsdGVyXCI+XHJcbiAgICAgICAgICA8L21hdC1mb3JtLWZpZWxkPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNpb2RfdGFibGVDb250YWluZXJcIj5cclxuICAgICAgICAgICAgPHRhYmxlIG1hdC10YWJsZSBbZGF0YVNvdXJjZV09XCJpbnRlcm5hbE9yZGVyRGF0YVNvdXJjZVwiIGNsYXNzPVwibWF0LWVsZXZhdGlvbi16OFwiXHJcbiAgICAgICAgICAgICAgbWF0U29ydCBtYXRTb3J0QWN0aXZlPVwiY29tX2luaXppb192YWxpZGl0YVwiIG1hdFNvcnREaXNhYmxlQ2xlYXIgbWF0U29ydERpcmVjdGlvbj1cImRlc2NcIiAjaW50ZXJuYWxPcmRlclNvcnQ+XHJcbiAgICAgICAgICAgICAgPCEtLSBpdGVtSWQgQ29sdW1uIC0tPlxyXG4gICAgICAgICAgICAgIDxuZy1jb250YWluZXIgbWF0Q29sdW1uRGVmPVwiaXRlbUlkXCI+XHJcbiAgICAgICAgICAgICAgICA8dGggbWF0LWhlYWRlci1jZWxsICptYXRIZWFkZXJDZWxsRGVmIG1hdC1zb3J0LWhlYWRlcj1cIklURU1fSURcIiBpMThuPVwiQEBzaW9kaWFsb2dfaW50ZXJuYWxfb3JkZXJcIj4gaW50ZXJuYWwgT3JkZXIgPC90aD5cclxuICAgICAgICAgICAgICAgIDx0ZCBtYXQtY2VsbCAqbWF0Q2VsbERlZj1cImxldCBlbGVtZW50XCI+IHt7ZWxlbWVudC5pdGVtSWR9fSA8L3RkPlxyXG4gICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgIDwhLS0gaXRlbURlc2NyaXB0aW9uIENvbHVtbiAtLT5cclxuICAgICAgICAgICAgICA8bmctY29udGFpbmVyIG1hdENvbHVtbkRlZj1cIml0ZW1EZXNjcmlwdGlvblwiPlxyXG4gICAgICAgICAgICAgICAgPHRoIG1hdC1oZWFkZXItY2VsbCAqbWF0SGVhZGVyQ2VsbERlZiBtYXQtc29ydC1oZWFkZXI9XCJJVEVNX0RFU0NSSVBUSU9OXCIgaTE4bj1cIkBAc2lvZGlhbG9nX2Rlc2NyaXB0aW9uXCI+IERlc2NyaXB0aW9uIDwvdGg+XHJcbiAgICAgICAgICAgICAgICA8dGQgbWF0LWNlbGwgKm1hdENlbGxEZWY9XCJsZXQgZWxlbWVudFwiPiB7e2VsZW1lbnQuaXRlbURlc2NyaXB0aW9ufX0gPC90ZD5cclxuICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICA8IS0tIGNkY0NvZGljZSBDb2x1bW4gLS0+XHJcbiAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciBtYXRDb2x1bW5EZWY9XCJjZGNDb2RpY2VcIj5cclxuICAgICAgICAgICAgICAgIDx0aCBtYXQtaGVhZGVyLWNlbGwgKm1hdEhlYWRlckNlbGxEZWYgbWF0LXNvcnQtaGVhZGVyPVwiY2RjX2NvZGljZVwiIGkxOG49XCJAQHNpb2RpYWxvZ19jZGNcIj4gQ0RDIDwvdGg+XHJcbiAgICAgICAgICAgICAgICA8dGQgbWF0LWNlbGwgKm1hdENlbGxEZWY9XCJsZXQgZWxlbWVudFwiPiB7e2VsZW1lbnQuY2RjQ29kaWNlfX0gPC90ZD5cclxuICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICA8IS0tIGNvbUNwIENvbHVtbiAtLT5cclxuICAgICAgICAgICAgICA8bmctY29udGFpbmVyIG1hdENvbHVtbkRlZj1cImNvbUNwXCI+XHJcbiAgICAgICAgICAgICAgICA8dGggbWF0LWhlYWRlci1jZWxsICptYXRIZWFkZXJDZWxsRGVmIG1hdC1zb3J0LWhlYWRlcj1cImNvbV9jcFwiIGkxOG49XCJAQHNpb2RpYWxvZ19jcFwiPiBDcCA8L3RoPlxyXG4gICAgICAgICAgICAgICAgPHRkIG1hdC1jZWxsICptYXRDZWxsRGVmPVwibGV0IGVsZW1lbnRcIj4ge3tlbGVtZW50LmNvbUNwfX0gPC90ZD5cclxuICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICA8IS0tIGNvbUluaXppb1ZhbGlkaXRhIENvbHVtbiAtLT5cclxuICAgICAgICAgICAgICA8bmctY29udGFpbmVyIG1hdENvbHVtbkRlZj1cImNvbUluaXppb1ZhbGlkaXRhXCI+XHJcbiAgICAgICAgICAgICAgICA8dGggbWF0LWhlYWRlci1jZWxsICptYXRIZWFkZXJDZWxsRGVmIG1hdC1zb3J0LWhlYWRlcj1cImNvbV9pbml6aW9fdmFsaWRpdGFcIiBpMThuPVwiQEBzaW9kaWFsb2dfdmFsaWRpdHlcIj4gVmFsaWRpdHkgPC90aD5cclxuICAgICAgICAgICAgICAgIDx0ZCBtYXQtY2VsbCAqbWF0Q2VsbERlZj1cImxldCBlbGVtZW50XCI+IHt7ZWxlbWVudC5jb21Jbml6aW9WYWxpZGl0YX19IDwvdGQ+XHJcbiAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgPHRyIG1hdC1oZWFkZXItcm93ICptYXRIZWFkZXJSb3dEZWY9XCJpbnRlcm5hbE9yZGVyRGlzcGxheWVkQ29sdW1ucztzdGlja3k6IHRydWVcIj48L3RyPlxyXG4gICAgICAgICAgICAgIDx0ciBtYXQtcm93ICptYXRSb3dEZWY9XCJsZXQgcm93OyBjb2x1bW5zOiBpbnRlcm5hbE9yZGVyRGlzcGxheWVkQ29sdW1ucztcIiAoY2xpY2spPVwic2VsZWN0SW50ZXJuYWxPcmRlclJvdyhyb3csJGV2ZW50KVwiID48L3RyPlxyXG4gICAgICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8bWF0LXBhZ2luYXRvciAjaW50ZXJuYWxPcmRlclBhZ2luYXRvciBbbGVuZ3RoXT1cImludGVybmFsT3JkZXJSZXN1bHRzTGVuZ3RoXCIgW3BhZ2VTaXplXT1cIjEwXCIgW3BhZ2VTaXplT3B0aW9uc109XCJbNSwgMTAsIDIwXVwiPjwvbWF0LXBhZ2luYXRvcj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9tYXQtdGFiPlxyXG4gICAgfVxyXG4gICAgQGlmICghZGF0YS5oaWRlQ2RjKSB7XHJcbiAgICAgIDxtYXQtdGFiIGxhYmVsPVwiQ0RDXCIgaTE4bi1sYWJlbD1cIkBAc2lvZGlhbG9nX2NkY190YWJfbGFiZWxcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwic2lvZF90YWJDb250ZW50XCI+XHJcbiAgICAgICAgICA8bWF0LWZvcm0tZmllbGQ+XHJcbiAgICAgICAgICAgIDxpbnB1dCBtYXRJbnB1dCBbZm9ybUNvbnRyb2xdPVwiY2RjRm9ybUNvbnRyb2xcIiAgcGxhY2Vob2xkZXI9XCJGaWx0ZXJcIiBpMThuPVwiQEBzaW9kaWFsb2dfZmlsdGVyXCI+XHJcbiAgICAgICAgICA8L21hdC1mb3JtLWZpZWxkPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNpb2RfdGFibGVDb250YWluZXJcIj5cclxuICAgICAgICAgICAgPHRhYmxlIG1hdC10YWJsZSBbZGF0YVNvdXJjZV09XCJjZGNEYXRhU291cmNlXCIgY2xhc3M9XCJtYXQtZWxldmF0aW9uLXo4XCJcclxuICAgICAgICAgICAgICBtYXRTb3J0IG1hdFNvcnRBY3RpdmU9XCJJVEVNX0lEXCIgbWF0U29ydERpc2FibGVDbGVhciBtYXRTb3J0RGlyZWN0aW9uPVwiZGVzY1wiICNjZGNTb3J0PlxyXG4gICAgICAgICAgICAgIDwhLS0gaXRlbUlkIENvbHVtbiAtLT5cclxuICAgICAgICAgICAgICA8bmctY29udGFpbmVyIG1hdENvbHVtbkRlZj1cIml0ZW1JZFwiPlxyXG4gICAgICAgICAgICAgICAgPHRoIG1hdC1oZWFkZXItY2VsbCAqbWF0SGVhZGVyQ2VsbERlZiBtYXQtc29ydC1oZWFkZXI9XCJJVEVNX0lEXCIgaTE4bj1cIkBAc2lvZGlhbG9nX2NkY1wiPiBDREMgPC90aD5cclxuICAgICAgICAgICAgICAgICAgPHRkIG1hdC1jZWxsICptYXRDZWxsRGVmPVwibGV0IGVsZW1lbnRcIj4ge3tlbGVtZW50Lml0ZW1JZH19IDwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgIDwhLS0gaXRlbURlc2NyaXB0aW9uIENvbHVtbiAtLT5cclxuICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgbWF0Q29sdW1uRGVmPVwiaXRlbURlc2NyaXB0aW9uXCI+XHJcbiAgICAgICAgICAgICAgICAgIDx0aCBtYXQtaGVhZGVyLWNlbGwgKm1hdEhlYWRlckNlbGxEZWYgbWF0LXNvcnQtaGVhZGVyPVwiSVRFTV9ERVNDUklQVElPTlwiIGkxOG49XCJAQHNpb2RpYWxvZ19kZXNjcmlwdGlvblwiPiBEZXNjcmlwdGlvbiA8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZCBtYXQtY2VsbCAqbWF0Q2VsbERlZj1cImxldCBlbGVtZW50XCI+IHt7ZWxlbWVudC5pdGVtRGVzY3JpcHRpb259fSA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgICAgPHRyIG1hdC1oZWFkZXItcm93ICptYXRIZWFkZXJSb3dEZWY9XCJjZGNEaXNwbGF5ZWRDb2x1bW5zO3N0aWNreTogdHJ1ZVwiPjwvdHI+XHJcbiAgICAgICAgICAgICAgICAgIDx0ciBtYXQtcm93ICptYXRSb3dEZWY9XCJsZXQgcm93OyBjb2x1bW5zOiBjZGNEaXNwbGF5ZWRDb2x1bW5zO1wiIChjbGljayk9XCJzZWxlY3RDZGNSb3cocm93LCRldmVudClcIiA+PC90cj5cclxuICAgICAgICAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPG1hdC1wYWdpbmF0b3IgI2NkY1BhZ2luYXRvciBbbGVuZ3RoXT1cImNkY1Jlc3VsdHNMZW5ndGhcIiBbcGFnZVNpemVdPVwiMTBcIiBbcGFnZVNpemVPcHRpb25zXT1cIls1LCAxMCwgMjBdXCI+PC9tYXQtcGFnaW5hdG9yPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvbWF0LXRhYj5cclxuICAgICAgICB9XHJcbiAgICAgIDwvbWF0LXRhYi1ncm91cD5cclxuXHJcblxyXG5cclxuXHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgbWF0LWRpYWxvZy1hY3Rpb25zIHN0eWxlPVwiZmxvYXQ6cmlnaHRcIj5cclxuICAgICAgPGJ1dHRvbiBtYXQtYnV0dG9uIGNsYXNzPVwic2lpLWJ1dHRvbi1saWdodFwiIFttYXQtZGlhbG9nLWNsb3NlXSBpMThuPVwiQEBzaW9kaWFsb2dfY2FuY2VsX2J1dHRvblwiPkNhbmNlbCBPcGVyYXRpb248L2J1dHRvbj5cclxuICAgICAgPC9kaXY+XHJcbiJdfQ==