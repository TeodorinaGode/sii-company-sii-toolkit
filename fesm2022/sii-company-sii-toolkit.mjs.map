{"version":3,"file":"sii-eng-sii-toolkit.mjs","sources":["../../../projects/sii-toolkit/src/lib/sii-toolkit.service.ts","../../../projects/sii-toolkit/src/lib/components/error-display-dialog/error-display-dialog.component.ts","../../../projects/sii-toolkit/src/lib/components/error-display-dialog/error-display-dialog.component.html","../../../projects/sii-toolkit/src/lib/components/error-display-dialog/error-display.service.ts","../../../projects/sii-toolkit/src/lib/components/wait/sii-wait.service.ts","../../../projects/sii-toolkit/src/lib/service/sii-http-interceptor.service.ts","../../../projects/sii-toolkit/src/lib/common/SiiDateAdapter.ts","../../../projects/sii-toolkit/src/lib/components/util/sii-date.pipe.ts","../../../projects/sii-toolkit/src/lib/common/dialog-no-ie/dialog-no-ie.component.ts","../../../projects/sii-toolkit/src/lib/common/dialog-no-ie/dialog-no-ie.component.html","../../../projects/sii-toolkit/src/lib/dto/OfficeCalendarEvents.dto.ts","../../../projects/sii-toolkit/src/lib/service/sii-engage.service.ts","../../../projects/sii-toolkit/src/lib/components/breadcrumb/services/breadcrumb.service.ts","../../../projects/sii-toolkit/src/lib/sii-toolkit.module.ts","../../../projects/sii-toolkit/src/lib/components/worker-contact-information/worker-contact-information.component.ts","../../../projects/sii-toolkit/src/lib/components/worker-contact-information/worker-contact-information.component.html","../../../projects/sii-toolkit/src/lib/components/worker-icon/worker-icon.component.ts","../../../projects/sii-toolkit/src/lib/components/worker-icon/worker-icon.component.html","../../../projects/sii-toolkit/src/lib/components/dsii-components/delegation/delegation-dialog/delegation-dialog.component.ts","../../../projects/sii-toolkit/src/lib/components/dsii-components/delegation/delegation-dialog/delegation-dialog.component.html","../../../projects/sii-toolkit/src/lib/components/dsii-components/delegation/delegation.service.ts","../../../projects/sii-toolkit/src/lib/components/dsii-components/sdac-preview/service/sdac-preview.service.ts","../../../projects/sii-toolkit/src/lib/components/profile-button/profile-button.component.ts","../../../projects/sii-toolkit/src/lib/components/profile-button/profile-button.component.html","../../../projects/sii-toolkit/src/lib/components/wait/wait.component.ts","../../../projects/sii-toolkit/src/lib/components/wait/wait.component.html","../../../projects/sii-toolkit/src/lib/components/sii-out/sii-out.component.ts","../../../projects/sii-toolkit/src/lib/components/sii-out/sii-out.component.html","../../../projects/sii-toolkit/src/lib/components/page-container/page-hover-mask/page-hover-mask.component.ts","../../../projects/sii-toolkit/src/lib/components/menu/utils/SiiLinkManager.ts","../../../projects/sii-toolkit/src/lib/components/menu/global-menu/components/company-selection-dialog/company-selection-dialog.component.ts","../../../projects/sii-toolkit/src/lib/components/menu/global-menu/components/company-selection-dialog/company-selection-dialog.component.html","../../../projects/sii-toolkit/src/lib/components/menu/global-menu/utils/global-menu-voices-filter.pipe.ts","../../../projects/sii-toolkit/src/lib/components/menu/global-menu/utils/global-menu-filter.pipe.ts","../../../projects/sii-toolkit/src/lib/components/menu/global-menu/service/global-menu.service.ts","../../../projects/sii-toolkit/src/lib/components/menu/global-menu/components/company-selection/company-selection.component.ts","../../../projects/sii-toolkit/src/lib/components/menu/global-menu/components/company-selection/company-selection.component.html","../../../projects/sii-toolkit/src/lib/components/page-container/page-content/page-content-toolbar/page-content-toolbar.component.ts","../../../projects/sii-toolkit/src/lib/components/page-container/page-content/page-content-toolbar/page-content-toolbar.component.html","../../../projects/sii-toolkit/src/lib/components/page-container/page-content/page-content.component.ts","../../../projects/sii-toolkit/src/lib/components/page-container/page-content/page-content.component.html","../../../projects/sii-toolkit/src/lib/dto/toolbar-menu.dto.ts","../../../projects/sii-toolkit/src/lib/service/sii-download-service.ts","../../../projects/sii-toolkit/src/lib/components/badge/badge.component.ts","../../../projects/sii-toolkit/src/lib/components/badge/badge.component.html","../../../projects/sii-toolkit/src/lib/components/toolbar/toolbar.component.ts","../../../projects/sii-toolkit/src/lib/components/toolbar/toolbar.component.html","../../../projects/sii-toolkit/src/lib/components/page-container/page-detail/page-detail.component.ts","../../../projects/sii-toolkit/src/lib/components/page-container/page-detail/page-detail.component.html","../../../projects/sii-toolkit/src/lib/components/page-container/page-filters/page-filters.component.ts","../../../projects/sii-toolkit/src/lib/components/page-container/page-filters/page-filters.component.html","../../../projects/sii-toolkit/src/lib/components/page-container/page-footer/page-footer.directive.ts","../../../projects/sii-toolkit/src/lib/components/page-container/page-container.component.ts","../../../projects/sii-toolkit/src/lib/components/page-container/page-container.component.html","../../../projects/sii-toolkit/src/lib/components/menu/global-menu/global-menu.component.ts","../../../projects/sii-toolkit/src/lib/components/menu/global-menu/global-menu.component.html","../../../projects/sii-toolkit/src/lib/components/menu/menu.component.ts","../../../projects/sii-toolkit/src/lib/components/menu/menu.component.html","../../../projects/sii-toolkit/src/lib/components/feedback/snackbar-feedback/snackbar-feedback.component.ts","../../../projects/sii-toolkit/src/lib/components/feedback/snackbar-feedback/snackbar-feedback.component.html","../../../projects/sii-toolkit/src/lib/components/feedback/banner-feedback/banner-feedback.component.ts","../../../projects/sii-toolkit/src/lib/components/feedback/banner-feedback/banner-feedback.component.html","../../../projects/sii-toolkit/src/lib/components/feedback/banner-feedback-outlet/banner-feedback-outlet.component.ts","../../../projects/sii-toolkit/src/lib/components/feedback/banner-feedback-outlet/banner-feedback-outlet.component.html","../../../projects/sii-toolkit/src/lib/components/feedback/snackbar-feedback-outlet/snackbar-feedback-outlet.component.ts","../../../projects/sii-toolkit/src/lib/components/feedback/snackbar-feedback-outlet/snackbar-feedback-outlet.component.html","../../../projects/sii-toolkit/src/lib/components/page-container/sii-page-container.module.ts","../../../projects/sii-toolkit/src/lib/components/dsii-components/lookup-work-order/components/search-work-order-dialog/search-work-order-dialog.component.ts","../../../projects/sii-toolkit/src/lib/components/dsii-components/lookup-work-order/components/search-work-order-dialog/search-work-order-dialog.component.html","../../../projects/sii-toolkit/src/lib/components/dsii-components/lookup-work-order/lookup-work-order.component.ts","../../../projects/sii-toolkit/src/lib/components/dsii-components/lookup-work-order/lookup-work-order.component.html","../../../projects/sii-toolkit/src/lib/components/dsii-components/lookup-oda-pos/lookup-oda-pos.component.ts","../../../projects/sii-toolkit/src/lib/components/dsii-components/lookup-oda-pos/lookup-oda-pos.component.html","../../../projects/sii-toolkit/src/lib/components/dsii-components/lookup-oda-pos/components/search-oda-pos-dialog/search-oda-pos-dialog.component.ts","../../../projects/sii-toolkit/src/lib/components/dsii-components/lookup-oda-pos/components/search-oda-pos-dialog/search-oda-pos-dialog.component.html","../../../projects/sii-toolkit/src/lib/components/dsii-components/lookup-employee/lookup-employee.component.ts","../../../projects/sii-toolkit/src/lib/components/dsii-components/lookup-employee/lookup-employee.component.html","../../../projects/sii-toolkit/src/lib/components/global-search/global-search.component.ts","../../../projects/sii-toolkit/src/lib/components/global-search/global-search.component.html","../../../projects/sii-toolkit/src/lib/components/list/utils/group-list-toolbar/group-list-toolbar.component.ts","../../../projects/sii-toolkit/src/lib/components/list/utils/group-list-toolbar/group-list-toolbar.component.html","../../../projects/sii-toolkit/src/lib/components/list/utils/fake-list-item.directive.ts","../../../projects/sii-toolkit/src/lib/components/upload/crop-image-dialog/crop-image-dialog.component.ts","../../../projects/sii-toolkit/src/lib/components/upload/crop-image-dialog/crop-image-dialog.component.html","../../../projects/sii-toolkit/src/lib/components/upload/file-preview-dialog/file-preview-dialog.component.ts","../../../projects/sii-toolkit/src/lib/components/upload/file-preview-dialog/file-preview-dialog.component.html","../../../projects/sii-toolkit/src/lib/components/upload/pict-dialog/pict-dialog.component.ts","../../../projects/sii-toolkit/src/lib/components/upload/pict-dialog/pict-dialog.component.html","../../../projects/sii-toolkit/src/lib/components/util/sii-memory.pipe.ts","../../../projects/sii-toolkit/src/lib/components/upload/upload.component.ts","../../../projects/sii-toolkit/src/lib/components/upload/upload.component.html","../../../projects/sii-toolkit/src/lib/components/notarization/notarization.component.ts","../../../projects/sii-toolkit/src/lib/components/notarization/notarization.component.html","../../../projects/sii-toolkit/src/lib/components/notarization/utils/notarization-response-dialog/notarization-response-dialog.component.ts","../../../projects/sii-toolkit/src/lib/components/notarization/utils/notarization-response-dialog/notarization-response-dialog.component.html","../../../projects/sii-toolkit/src/lib/components/util/date-hint.directive.ts","../../../projects/sii-toolkit/src/lib/components/year-month-input/year-month-input.component.ts","../../../projects/sii-toolkit/src/lib/components/year-month-input/year-month-input.component.html","../../../projects/sii-toolkit/src/lib/components/list/utils/auto-hide-row/auto-hide-row.directive.ts","../../../projects/sii-toolkit/src/lib/components/facets/common/directive/sii-facet-template.directive.ts","../../../projects/sii-toolkit/src/lib/components/breadcrumb/breadcrumb.component.ts","../../../projects/sii-toolkit/src/lib/components/breadcrumb/breadcrumb.component.html","../../../projects/sii-toolkit/src/lib/components/list/utils/list-row/list-row.directive.ts","../../../projects/sii-toolkit/src/lib/components/list/utils/empty-list-message/empty-list-message.directive.ts","../../../projects/sii-toolkit/src/lib/components/list/grouped-infinite-scroll/utils/sii-grouped-infinite-scroll-data-source.ts","../../../projects/sii-toolkit/src/lib/service/sii-list-controller.service.ts","../../../projects/sii-toolkit/src/lib/components/list/grouped-infinite-scroll/grouped-infinite-scroll.component.ts","../../../projects/sii-toolkit/src/lib/components/list/grouped-infinite-scroll/grouped-infinite-scroll.component.html","../../../projects/sii-toolkit/src/lib/components/list/infinite-scroll/utils/sii-infinite-scroll-data-source.ts","../../../projects/sii-toolkit/src/lib/components/list/infinite-scroll/infinite-scroll.component.ts","../../../projects/sii-toolkit/src/lib/components/list/infinite-scroll/infinite-scroll.component.html","../../../projects/sii-toolkit/src/lib/components/list-icon/list-icon.component.ts","../../../projects/sii-toolkit/src/lib/components/list-icon/list-icon.component.html","../../../projects/sii-toolkit/src/lib/components/list-sorter/list-sorter-option/list-sorter-option.component.ts","../../../projects/sii-toolkit/src/lib/components/list-sorter/list-sorter.component.ts","../../../projects/sii-toolkit/src/lib/components/list-sorter/list-sorter.component.html","../../../projects/sii-toolkit/src/lib/components/list/utils/sii-infinite-scroll-select-all/sii-infinite-scroll-select-all.component.ts","../../../projects/sii-toolkit/src/lib/components/list/utils/sii-infinite-scroll-select-all/sii-infinite-scroll-select-all.component.html","../../../projects/sii-toolkit/src/lib/components/list/sii-list.module.ts","../../../projects/sii-toolkit/src/lib/components/facets/common/service/sii-facet.service.ts","../../../projects/sii-toolkit/src/lib/components/facets/common/facet-toolbar-search/facet-toolbar-search.component.ts","../../../projects/sii-toolkit/src/lib/components/facets/common/facet-toolbar-search/facet-toolbar-search.component.html","../../../projects/sii-toolkit/src/lib/components/facets/facets-container/facets-container.component.ts","../../../projects/sii-toolkit/src/lib/components/facets/facets-container/facets-container.component.html","../../../projects/sii-toolkit/src/lib/components/facets/common/facet-skeleton/facet-skeleton.component.ts","../../../projects/sii-toolkit/src/lib/components/facets/common/facet-skeleton/facet-skeleton.component.html","../../../projects/sii-toolkit/src/lib/components/facets/common/primitive-facet/primitive-facet.directive.ts","../../../projects/sii-toolkit/src/lib/components/facets/common/facet-search/facet-search.component.ts","../../../projects/sii-toolkit/src/lib/components/facets/common/facet-search/facet-search.component.html","../../../projects/sii-toolkit/src/lib/components/facets/common/facet-paginator/facet-paginator.component.ts","../../../projects/sii-toolkit/src/lib/components/facets/common/facet-paginator/facet-paginator.component.html","../../../projects/sii-toolkit/src/lib/components/facets/facet-checkbox/facet-checkbox.component.ts","../../../projects/sii-toolkit/src/lib/components/facets/facet-checkbox/facet-checkbox.component.html","../../../projects/sii-toolkit/src/lib/components/facets/facet/facet.component.ts","../../../projects/sii-toolkit/src/lib/components/facets/facet/facet.component.html","../../../projects/sii-toolkit/src/lib/components/facets/facet-single-toggle/facet-single-toggle.component.ts","../../../projects/sii-toolkit/src/lib/components/facets/facet-single-toggle/facet-single-toggle.component.html","../../../projects/sii-toolkit/src/lib/components/facets/filter/filter.directive.ts","../../../projects/sii-toolkit/src/lib/components/facets/sii-filters.module.ts","../../../projects/sii-toolkit/src/lib/sii-toolkit-components.module.ts","../../../projects/sii-toolkit/src/lib/service/dotcmsInterceptor.service.ts","../../../projects/sii-toolkit/src/lib/service/sii-feedback.service.ts","../../../projects/sii-toolkit/src/lib/service/sii-notarization.service.ts","../../../projects/sii-toolkit/src/lib/service/sii-ping.service.ts","../../../projects/sii-toolkit/src/lib/components/menu/utils/SiiPopupManager.ts","../../../projects/sii-toolkit/src/public-api.ts","../../../projects/sii-toolkit/src/sii-eng-sii-toolkit.ts"],"sourcesContent":["import { Inject, Injectable, InjectionToken, Optional } from '@angular/core';\r\nimport { SiiEnvironment } from './dto/sii-environment.dto';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { MyselfDTO } from './dto/myself.dto';\r\nimport { HelpPageDTO } from './dto/help-page.dto';\r\nimport { Observable, BehaviorSubject, of, Subject } from 'rxjs';\r\nimport { debounceTime, skip, startWith, tap } from 'rxjs/operators';\r\n// const moment = require('moment');\r\n\r\n// import * as moment_ from 'moment';\r\n// const moment = moment_;\r\n\r\n// import 'moment/locale/it';\r\n\r\nimport moment from 'moment';\r\n\r\nimport { WorkerContactInformationDto } from './dto/i-worker-contact-information.dto';\r\nexport const SII_ENVIRONMENT = new InjectionToken<SiiEnvironment>('toolkit.environment');\r\nexport const SII_SESSION_WAITING = new InjectionToken<Promise<void>>('toolkit.sessionwait');\r\nexport const SII_APP_REF = new InjectionToken<SiiEnvironment>('toolkit.appref');\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SiiToolkitService {\r\n  environment: SiiEnvironment;\r\n  public loggedUser = new BehaviorSubject<MyselfDTO>({} as MyselfDTO);\r\n  // public viewportResize = new Subject<void>();\r\n\r\n  get isServerless(){\r\n    return !this.environment;\r\n  }\r\n\r\n\r\n  constructor(private http: HttpClient,  @Optional() @Inject(SII_ENVIRONMENT)  environment: SiiEnvironment,\r\n              @Optional() @Inject(SII_SESSION_WAITING)  ssw: any) {\r\n    this.environment = environment;\r\n\r\n    if ( !this.isServerless){\r\n      if (ssw == null){\r\n        this.loadMyself();\r\n      }else{\r\n        (ssw  as Promise<any>).then(() => {\r\n          this.loadMyself();\r\n        });\r\n      }\r\n    }else{\r\n      console.log('DEFAULT CONFIG');\r\n      const tmpUser = this.findMySelf();\r\n      this.clearLocalstorageIfLanguageChange(tmpUser.locale);\r\n      moment.locale(tmpUser.locale); //  initializr moment locale\r\n      this.loggedUser.next(tmpUser);\r\n    }\r\n  }\r\n\r\n  initializeMySelf() {\r\n    const loading = document.createElement('img');\r\n    loading.src =  'assets/icons/logo.png';\r\n    loading.classList.add('siiAppLoader');\r\n\r\n    document.body.insertAdjacentElement('beforebegin', loading);\r\n\r\n\r\n    return (): Promise<any> => {\r\n      return new Promise<void>((resolve, reject) => {\r\n        if (this.isServerless){\r\n          resolve();\r\n          loading.remove();\r\n        }else{\r\n          this.loggedUser.pipe(\r\n            skip(1),\r\n            tap(() => { loading.remove(); }))\r\n          .subscribe(\r\n            () => resolve(),\r\n            () => resolve()\r\n            );\r\n        }\r\n        });\r\n      };\r\n  }\r\n\r\n  // addEnvironment(environment: SiiEnvironment){\r\n  //   this.environment = environment;\r\n  // }\r\n\r\n  // getMyself(): Observable<MyselfDTO> {\r\n  //   return this.http.get<MyselfDTO>(this.environment.myselfURL);\r\n  // }\r\n\r\n  loadMyself(force= false){\r\n    // load the information only if is not loaded\r\n    if (Object.keys(this.loggedUser.value).length === 0 || force){\r\n      const headers = new HttpHeaders().set('siiHideError', 'true');\r\n      this.http.get<MyselfDTO>(`${this.environment.domain}/sii_common/myself`, {headers})\r\n      .subscribe(\r\n        (ms) => {\r\n          // localStorage.setItem('msi', JSON.stringify(ms));\r\n          this.clearLocalstorageIfLanguageChange(ms.locale);\r\n          moment.locale(ms.locale); //  initializr moment locale\r\n          this.loggedUser.next(ms); },\r\n          (ms) => {\r\n            console.log('ERRORE NEL RECUPERO DELL\\'UTENTE');\r\n            const tmpUser = this.findMySelf();\r\n            this.clearLocalstorageIfLanguageChange(tmpUser.locale);\r\n            moment.locale(tmpUser.locale); //  initializr moment locale\r\n            this.loggedUser.next(tmpUser);\r\n         }\r\n        // in caso di errore emetto comunque un valore per permettere comunque all'applicazione di partire\r\n        );\r\n    }\r\n  }\r\n\r\n  clearLocalstorageIfLanguageChange(currUserLang: string){\r\n    const l = window.localStorage.getItem('siiLang');\r\n    if (l == null || l !== currUserLang){\r\n      console.log('siiLangChange');\r\n      Object.keys(window.localStorage).forEach((lsi) => {window.localStorage.removeItem(lsi); } );\r\n    }\r\n    window.localStorage.setItem('siiLang', currUserLang);\r\n  }\r\n\r\n  findMySelf(): MyselfDTO{\r\n    // const myself = localStorage.getItem('msi');\r\n    // if (!!myself){\r\n    //   return JSON.parse(myself);\r\n    // }else{\r\n      const language = window.location.href.indexOf('/en/') === -1 ? 'it' : 'en';\r\n\r\n      return {\r\n        costCenterId: '',\r\n        accessType: 'Unclassified',\r\n        toolbarMode: 'initial',\r\n        inputDatePattern: 'DD/MM/YYYY',\r\n        displayDatePattern: 'DD MMM, YYYY',\r\n        locale: language,\r\n        username: '',\r\n        workerId: '',\r\n        companyId: '',\r\n        firstName: '',\r\n        lastName: '',\r\n        email: '',\r\n        costCenterDescr: '',\r\n        costCenterResp: {\r\n          username: '',\r\n          firstName: '',\r\n          lastName: '',\r\n          workerId: '',\r\n          id: ''\r\n        },\r\n        userInfo: ''\r\n      }as MyselfDTO;\r\n    // }\r\n  }\r\n\r\n  getHelpPage(functionCode: string): Observable<HelpPageDTO> {\r\n    const headers = new HttpHeaders().set('siiHideError', 'true');\r\n    return this.http.get<HelpPageDTO>(`${this.environment.domain}/sii_common/help`, { params: { functionCode } , headers});\r\n  }\r\n  getWorkerContactInformation(workerId: string,serviceUrl=`${this.environment.domain}/lookup/workerContactInformation`): Observable<WorkerContactInformationDto> {\r\n    return this.http.get<WorkerContactInformationDto>(serviceUrl, { params: { id: workerId } });\r\n  }\r\n\r\n  // fixWieport(){\r\n  //   this.viewportResize.subscribe(() => {\r\n  //     const doc = document.documentElement;\r\n  //     doc.style.setProperty('--app-height', `${window.innerHeight}px`);\r\n  //     // console.log('fixViewport ' + window.innerHeight);\r\n  //   });\r\n  //   // appHeight\r\n  //   window.addEventListener('resize', () => {this.viewportResize.next(); } );\r\n  //   this.viewportResize.next();\r\n  //   }\r\n\r\n  getMatDateConfig(){\r\n    return {\r\n      parse: {\r\n          dateInput: this.loggedUser.value.inputDatePattern,\r\n      },\r\n      display: {\r\n          dateInput: this.loggedUser.value.inputDatePattern,\r\n          monthYearLabel: 'MMM YYYY',\r\n          dateA11yLabel: 'LL',\r\n          monthYearA11yLabel: 'MMMM YYYY',\r\n      }\r\n    };\r\n  }\r\n\r\n}\r\n\r\n\r\n","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { MAT_DIALOG_DATA, MatDialogTitle, MatDialogContent, MatDialogActions, MatDialogClose } from '@angular/material/dialog';\r\nimport { Location } from '@angular/common';\r\nimport { MatButton } from '@angular/material/button';\r\nimport { CdkScrollable } from '@angular/cdk/scrolling';\r\n\r\n@Component({\r\n    selector: 'sii-error-display-dialog',\r\n    templateUrl: './error-display-dialog.component.html',\r\n    styleUrls: ['./error-display-dialog.component.css'],\r\n    standalone: true,\r\n    imports: [MatDialogTitle, CdkScrollable, MatDialogContent, MatDialogActions, MatButton, MatDialogClose]\r\n})\r\nexport class ErrorDisplayDialogComponent implements OnInit {\r\n\r\n  errorTitle: string;\r\n  errorContent: string;\r\n\r\n  constructor(@Inject(MAT_DIALOG_DATA) public data: any, private location: Location) {\r\n    this.errorTitle = data.errorTitle;\r\n    this.errorContent = data.errorContent;\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  goToHome() {\r\n    this.location.go('./');\r\n    location.reload();\r\n  }\r\n\r\n}\r\n","<h2 mat-dialog-title>{{errorTitle}}</h2>\r\n<mat-dialog-content>\r\n  <span style=\"white-space: pre-line\" [innerHTML]=\"errorContent\"></span>\r\n</mat-dialog-content>\r\n<mat-dialog-actions style=\"float: right\">\r\n  <button mat-button class=\"sii-button-light\" [mat-dialog-close]=\"true\" i18n=\"Close button@@closeButton\">CLOSE</button>\r\n  <button mat-button class=\"sii-button-light\" (click)=\"goToHome()\" i18n=\"Go To Home Button@@goToHomeButton\">GO TO HOME</button>\r\n</mat-dialog-actions>\r\n","import { Injectable } from '@angular/core';\r\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\r\nimport { ErrorDisplayDialogComponent } from './error-display-dialog.component';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ErrorDisplayService {\r\n\r\n  constructor(private dialog: MatDialog) { }\r\n\r\n  /**\r\n   * Show an error dialog ore returns the current one if already opened\r\n   * @param errorTitle the title of the dialog\r\n   * @param errorContent the content of the dialog\r\n   */\r\n  showDialog(errorTitle: string, errorContent: string): MatDialogRef<ErrorDisplayDialogComponent, any> {\r\n    const dialogArr = this.dialog.openDialogs.filter((ref: MatDialogRef<any>) => ref.id === 'errorDisplayDialog');\r\n    if (dialogArr.length > 0) {\r\n      return dialogArr[0];\r\n    }\r\n    return this.dialog.open(ErrorDisplayDialogComponent, {\r\n      data: {\r\n        errorTitle,\r\n        errorContent,\r\n      },\r\n      id: 'errorDisplayDialog',\r\n    });\r\n  }\r\n\r\n  isAlreadyOpened(): boolean {\r\n    return this.dialog.openDialogs.filter((ref: MatDialogRef<any>) => ref.id === 'errorDisplayDialog').length > 0;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { distinctUntilChanged } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SiiWaitService {\r\n\r\n  // tslint:disable-next-line:variable-name\r\n  private _display$ = new BehaviorSubject<boolean>(false);\r\n  display$ = this._display$.asObservable().pipe(\r\n    // tap((val: boolean ) => { console.log(val);}),\r\n    distinctUntilChanged());\r\n  private semaphore = 0;\r\n  private _showToSkip =0;\r\n  get haveShowToSkip(){return this._showToSkip > 0;}\r\n  constructor() { }\r\n\r\n  hide() {\r\n    this.semaphore--;\r\n    if (this.semaphore < 0 ) {\r\n      this.semaphore = 0;\r\n    }\r\n    if (this.semaphore === 0) {\r\n      Promise.resolve().then(() =>\r\n       this._display$.next(false)\r\n      );\r\n    }\r\n  }\r\n\r\n  show() {\r\n    if (this.semaphore === 0) {\r\n      Promise.resolve().then(() =>\r\n      this._display$.next(true)\r\n      );\r\n    }\r\n    this.semaphore++;\r\n  }\r\n\r\n  skipNext(){\r\n    this._showToSkip++;\r\n  }\r\n  showSkipped(){\r\n    this._showToSkip--;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpInterceptor, HttpHandler, HttpRequest, HttpErrorResponse, HttpEvent } from '@angular/common/http';\r\nimport { Observable, EMPTY, throwError, Subject, timer } from 'rxjs';\r\nimport { catchError, finalize, startWith, switchMap } from 'rxjs/operators';\r\nimport { ErrorDisplayService } from '../components/error-display-dialog/error-display.service';\r\nimport { SiiWaitService } from '../components/wait/sii-wait.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SiiHttpInterceptorService implements HttpInterceptor{\r\n  static HIDE_ERROR = 'siiHideError';\r\n  lastRequestTime = new Date().getTime();\r\n  constructor(private errorDisplay: ErrorDisplayService, private wait: SiiWaitService) {\r\n    setInterval(() => {\r\n      if (new Date().getTime() - this.lastRequestTime > 1000 * 60 * 20 ){\r\n        this.reloadPageAfterSessioExpired();\r\n      }\r\n    }, 1000 * 10);\r\n  }\r\n\r\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<any> {\r\n    this.resetSessionTimeout();\r\n\r\n    let clonedHeaders = request.headers;\r\n    // add to all requests the timezone offset to manage the dates\r\n    const tz = Intl.DateTimeFormat().resolvedOptions().timeZone;\r\n    if (!!tz){\r\n      clonedHeaders = request.headers.set('timezoneId', Intl.DateTimeFormat().resolvedOptions().timeZone);\r\n  }else{// IE and old browser fix\r\n    clonedHeaders = request.headers.set('timezoneOffset' , '' + (new Date()).getTimezoneOffset());\r\n  }\r\n\r\n    let hideERR = false;\r\n    if (clonedHeaders.has(SiiHttpInterceptorService.HIDE_ERROR)){\r\n      clonedHeaders = clonedHeaders.delete(SiiHttpInterceptorService.HIDE_ERROR);\r\n      hideERR = true;\r\n    }\r\n\r\n\r\n    const effectiveRequest = request.clone({\r\n      withCredentials: true,\r\n      headers: clonedHeaders\r\n  });\r\n\r\n\r\n\r\n    if (request.headers.get('siiIntergeptor') === 'N') {\r\n      return next.handle(effectiveRequest);\r\n  }\r\n    let waitSkipped = false;\r\n    if (this.wait.haveShowToSkip){\r\n    waitSkipped = true;\r\n    this.wait.showSkipped();\r\n  }else{\r\n    this.wait.show();\r\n  }\r\n\r\n    return next.handle(effectiveRequest)\r\n      // Intercepting HTTP responses\r\n      .pipe(\r\n          catchError((error: HttpErrorResponse, caught) => hideERR ? throwError(error) : this.handleError(error, caught)),\r\n          finalize(() => {\r\n            if (!waitSkipped){\r\n              this.wait.hide();\r\n            }\r\n           }),\r\n      );\r\n  }\r\n\r\n  private handleError(errorResponse: HttpErrorResponse, caught: Observable<HttpEvent<any>>): Observable<any> {\r\n    console.error(errorResponse);\r\n    this.wait.hide();\r\n    let errorTitle: string;\r\n    let errorContent: string;\r\n    const contentType = errorResponse.headers.get('content-type');\r\n    if (errorResponse.error) {\r\n        if (errorResponse.error.error) {// spring boot error message structure\r\n            errorTitle = errorResponse.error.error;\r\n        }\r\n        if (errorResponse.error.message) {\r\n            errorContent = errorResponse.error.message;\r\n        } else {\r\n            errorTitle = errorResponse.name;\r\n            errorContent = errorResponse.message;\r\n        }\r\n    } else {\r\n        errorTitle = errorResponse.statusText;\r\n        errorContent = errorResponse.message;\r\n    }\r\n    this.errorDisplay.showDialog(errorTitle, errorContent);\r\n    // throw errorResponse;\r\n    // if I retrow the exception unless there is another catchError in the caller,all the subscription will be terminated\r\n    // return EMPTY;\r\n    return throwError(errorResponse);\r\n}\r\n\r\n\r\n  reloadPageAfterSessioExpired(){\r\n    // alert('sessione scaduta');\r\n    location.reload();\r\n  }\r\n\r\n  resetSessionTimeout(){\r\n    this.lastRequestTime = new Date().getTime();\r\n    // console.log('reset Time'  , this.lastRequestTime );\r\n  }\r\n\r\n}\r\n","import { Platform } from '@angular/cdk/platform';\r\nimport { Inject, Injectable, Optional } from '@angular/core';\r\nimport { MAT_DATE_LOCALE, NativeDateAdapter } from '@angular/material/core';\r\nimport { SiiToolkitService } from '../sii-toolkit.service';\r\n\r\n// import * as moment_ from 'moment';\r\n// const moment = moment_;\r\nimport moment from 'moment';\r\n\r\n\r\n@Injectable()\r\nexport class SIIDateAdapter extends NativeDateAdapter{\r\n\r\n    constructor(@Optional() @Inject(MAT_DATE_LOCALE) matDateLocale: string, \r\n                private siiToolkitService: SiiToolkitService){\r\n\r\n    super(matDateLocale);\r\n  }\r\n\r\n\r\n  format(date: Date, displayFormat: string): string {\r\n    return date == null ? null :  moment(date).format(displayFormat);\r\n  }\r\n  parse(dateString: string): Date | null  {\r\n    if (dateString == null || dateString.length === 0){\r\n      return null;\r\n    }\r\n    const m = moment(dateString, this.siiToolkitService.loggedUser.value.inputDatePattern, true);\r\n    return m.isValid() ? m.toDate() : new Date(NaN);\r\n  }\r\n\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { SiiToolkitService } from '../../sii-toolkit.service';\r\n// import * as moment_ from 'moment';\r\n// const moment = moment_;\r\nimport moment from 'moment';\r\n\r\n\r\n@Pipe({\r\n    name: 'siiDate',\r\n    standalone: true\r\n})\r\nexport class SiiDatePipe implements PipeTransform {\r\n\r\n  constructor(private siiToolkitService: SiiToolkitService){}\r\n\r\n  transform(date: Date | string | Array<any> | number, showTime= false): string {\r\n  let dateObj = null;\r\n\r\n\r\n  if (date != null){\r\n    if (date instanceof Date){\r\n      dateObj = date;\r\n    }\r\n    else if (date instanceof Array && date.length === 3  ){// LocalDate\r\n// \t\t\t\tnew Date(year, monthIndex [, day [, hours [, minutes [, seconds [, milliseconds]]]]])\r\n      dateObj =  new Date(date[0], date[1] - 1, date[2]);\r\n    }else if (date instanceof Array &&  (date.length >= 5 && date.length <= 7) ){// LocalDateTime\r\n// \t\t\t\tnew Date(year, monthIndex [, day [, hours [, minutes [, seconds [, milliseconds]]]]])\r\n      dateObj =  new Date(date[0], date[1] - 1, date[2], date[3], date[4], (date[5] || 0));\r\n    }\r\n    else if (date instanceof String || typeof date === 'string'){\r\n      const m = moment((date as string) , this.siiToolkitService.loggedUser.value.inputDatePattern);\r\n      dateObj =  m.isValid() ? m.toDate() : null;\r\n    }\r\n    else if (date instanceof Number || typeof date === 'number'){\r\n      dateObj =   new Date(date as number) ;\r\n    }\r\n  }\r\n\r\n\r\n  if (dateObj == null){\r\n    return null;\r\n  }else{\r\n    const m = moment(dateObj);\r\n    return m.isValid() ? m.format(this.siiToolkitService.loggedUser.value.displayDatePattern + (!!showTime ? ' HH:mm' : '')) : null;\r\n  }\r\n  }\r\n\r\n}\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'sii-dialog-no-ie',\r\n    templateUrl: './dialog-no-ie.component.html',\r\n    styleUrls: ['./dialog-no-ie.component.scss'],\r\n    standalone: true\r\n})\r\nexport class DialogNoIEComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","NON USARE EXPLORER\r\n","export enum SiiEventStatus {\r\n  VECCHIA='VECCHIA',\r\n  SCADUTA='SCADUTA',\r\n  SCADENZA_OGGI='SCADENZA_OGGI',\r\n  IN_SCADENZA='IN_SCADENZA',\r\n  PROSSIMAMENTE='PROSSIMAMENTE'\r\n\r\n}\r\n    export interface OfficeCalendarEvents {\r\n      // '@odata.context': string;\r\n       '@odata.nextLink'?: string;\r\n       value: OfficeEvent[];\r\n  }\r\n\r\n\r\n  export interface Body {\r\n      contentType: string;\r\n      content: string;\r\n  }\r\n\r\n  export interface DateEvent {\r\n      dateTime: Date;\r\n      timeZone: string;\r\n  }\r\n\r\n\r\n\r\n\r\n  export interface OfficeEvent {\r\n      // @odata.etag: string;\r\n      date?:string;\r\n      endDate?: string;\r\n      time?:string;\r\n      status?:SiiEventStatus;\r\n      hideData?:boolean;\r\n      '@odata.etag': string;\r\n      id: string;\r\n      subject: string;\r\n      bodyPreview: string;\r\n      body: Body;\r\n      start: DateEvent;\r\n      end: DateEvent;\r\n      isAllDay:boolean;\r\n  }\r\n\r\n","import { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\r\nimport { Inject, Injectable, Optional } from '@angular/core';\r\nimport { BehaviorSubject, of } from 'rxjs';\r\nimport { SiiWaitService } from '../components/wait/sii-wait.service';\r\nimport { SiiMenuFolder } from '../components/menu/global-menu/dto/menu-folder';\r\nimport { EngageConfigDTO } from '../dto/engage-config.dto';\r\nimport { SiiEnvironment } from '../dto/sii-environment.dto';\r\nimport { ToolbarMenuDto } from '../dto/toolbar-menu.dto';\r\n// import { ENGAGE_CONFIG } from '../sii-toolkit.module';\r\nimport { SiiToolkitService, SII_ENVIRONMENT } from '../sii-toolkit.service';\r\nimport { startWith } from 'rxjs/operators';\r\nimport { SiiHttpInterceptorService } from './sii-http-interceptor.service';\r\nimport { OfficeCalendarEvents, OfficeEvent, SiiEventStatus } from '../dto/OfficeCalendarEvents.dto';\r\nimport { SiiDatePipe } from '../components/util/sii-date.pipe';\r\n// import { ENGAGE_CONFIG } from './engage-configurations-params.service';\r\n// import { SiiToolkitService } from '../sii-toolkit.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SiiEngageService {\r\n\r\n  get isEngage(){\r\n    return this.environment?.isEngage;\r\n  }\r\n\r\n  // get isServerless(){\r\n  //   return !this.environment;\r\n  // }\r\n\r\n  get loggedUserId(){\r\n    return this.toolkitServ.loggedUser.value.workerId;\r\n  }\r\n  get languageId(){\r\n    return this.toolkitServ.loggedUser.value.locale;\r\n  }\r\n\r\n  public currentMenu = new BehaviorSubject<SiiMenuFolder[]>([]);\r\n  public favoriteItems = new BehaviorSubject<string[]>([]);\r\n  public corporateCalendarEvents = new BehaviorSubject<OfficeEvent[]>([]);\r\n  public corporateCalendarEventsCount = 0;\r\n  // public engageNotification = new BehaviorSubject<any[]>([]);\r\n  // public engageNotificationCount = 0;\r\n  private engageConfig = new BehaviorSubject<EngageConfigDTO>(null);\r\n  public get engageBEDomain(){\r\n    return this.engageConfig.value.ENGAGE_DOTCMS;\r\n  }\r\n  public get engageDomain(){\r\n    return this.engageConfig.value.ENGAGE;\r\n  }\r\n\r\n  public get engageAvailable(){\r\n    return !!this.engageConfig.value;\r\n  }\r\n\r\n\r\n  // toolbarMenuVoices: string;\r\n\r\n  constructor(private http: HttpClient, @Optional() @Inject(SII_ENVIRONMENT) private environment: SiiEnvironment , private toolkitServ: SiiToolkitService, private  siiwait: SiiWaitService){\r\n\r\n    if (this.environment){\r\n      const subs = this.toolkitServ.loggedUser.pipe(startWith(this.toolkitServ.loggedUser.value)).subscribe(lu => {\r\n        if (!!lu && !!lu.workerId){\r\n          this.clearLocalstorage();\r\n          subs.unsubscribe();\r\n          this.preloadMenu();\r\n        }\r\n      });\r\n      this.engageConfig.subscribe((res) => {\r\n        if (res !== null){\r\n          this.fetchMenu();\r\n          this.loadEventsFromCorporateITCalendar();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n\r\n  clearLocalstorage(){\r\n    Object.keys(window.localStorage).forEach((lsi) => {\r\n      if (lsi.startsWith('menu-') && lsi !== 'menu-' + this.loggedUserId){\r\n        // console.log(\"rimuovo menu altro utente\")\r\n        window.localStorage.removeItem(lsi);\r\n      }\r\n      if (lsi.startsWith('favVoice-') && lsi !== 'favVoice-' + this.loggedUserId){\r\n        // console.log(\"rimuovo favVoice altro utente\")\r\n        window.localStorage.removeItem(lsi);\r\n      }\r\n    });\r\n  }\r\n\r\n  getToolbarMenuVoices(){\r\n    if (this.engageAvailable){\r\n      const headers = new HttpHeaders().set(SiiHttpInterceptorService.HIDE_ERROR, 'true');\r\n      return this.http.get<ToolbarMenuDto>(this.engageBEDomain + 'vtl/toolbarMenu?id=v1', {headers});\r\n    }else{\r\n      return of({menu: []});\r\n    }\r\n  }\r\n\r\n  fetchEngageConfig(){\r\n    return (): Promise<any> => {\r\n      return new Promise<void>((resolve, reject) => {\r\n        if (!this.environment){\r\n          resolve();\r\n        }else  if (this.isEngage){\r\n          const conf = {ENGAGE_DOTCMS: this.environment.domain.replace('/api', '/sii_content/api'), ENGAGE:this.environment.domain.replace('/sial/api','/')};\r\n          this.resolveAfterUserResolve(conf, resolve);\r\n        }else{\r\n          const headers = new HttpHeaders().set('siiHideError', 'true');\r\n          this.http.get<EngageConfigDTO>(this.environment.domain + '/engage/config', {headers})\r\n          .subscribe(\r\n            (res) => {\r\n              localStorage.setItem('ecfg', JSON.stringify(res));\r\n              this.resolveAfterUserResolve(res, resolve);          },\r\n            () => {\r\n              const ec = this.findEngageConf();\r\n              this.resolveAfterUserResolve(ec, resolve);\r\n            });\r\n        }\r\n        });\r\n      };\r\n  }\r\n\r\n  findEngageConf(): EngageConfigDTO | null{\r\n    const ec = localStorage.getItem('ecfg');\r\n    if (!!ec){\r\n      return JSON.parse(ec);\r\n    }\r\n  }\r\n\r\n  private endsBySlashP(s: string): boolean {\r\n    return (s.length - 1) === s.lastIndexOf('/');\r\n  }\r\n\r\n  private resolveAfterUserResolve(configuration: EngageConfigDTO , resolve){\r\n    const luSubscr = this.toolkitServ.loggedUser.pipe(startWith(this.toolkitServ.loggedUser.value))\r\n    .subscribe((user) => {\r\n      if (user.workerId !== undefined){\r\n        if (!!configuration?.ENGAGE && !this.endsBySlashP(configuration.ENGAGE)){ configuration.ENGAGE =  configuration.ENGAGE + '/'; }\r\n        if (!!configuration?.ENGAGE_DOTCMS && !this.endsBySlashP(configuration.ENGAGE_DOTCMS)){ configuration.ENGAGE_DOTCMS =  configuration.ENGAGE_DOTCMS + '/'; }\r\n        this.engageConfig.next(configuration);\r\n        resolve();\r\n        setTimeout(() => {\r\n          luSubscr?.unsubscribe();\r\n        }, 1000);\r\n      }\r\n    });\r\n  }\r\n\r\n  private getMenuVoices(){\r\n    this.siiwait.skipNext();\r\n    const headers = new HttpHeaders().set('siiHideError', 'true');\r\n    return this.http.get<SiiMenuFolder[]>(`${this.toolkitServ.environment.domain}/sii-menu/menu/voices`, {headers});\r\n  }\r\n\r\n  public forceReloadMenu(){\r\n    Object.keys(window.localStorage).forEach((lsi) => {\r\n      if (lsi.startsWith('menu-') || lsi.startsWith('favVoice-')  || lsi === 'menuTimestamp'){\r\n        // console.log(\"rimuovo menu altro utente\")\r\n        window.localStorage.removeItem(lsi);\r\n      }\r\n    });\r\n    this.fetchMenu();\r\n  }\r\n\r\n  private fetchMenu(){\r\n\r\n    const mi = window.localStorage.getItem('menu-' + this.loggedUserId);\r\n    const menuTimestamp = window.localStorage.getItem('menuTimestamp');\r\n    if (mi == null || menuTimestamp == null || ((new Date().getTime()) - parseInt(menuTimestamp, 10)  - (2 * 60 * 60 * 1000) > 0)){\r\n      this.getMenuVoices().subscribe((res) => {\r\n        window.localStorage.setItem('menu-' + this.loggedUserId, JSON.stringify(res));\r\n        window.localStorage.setItem('menuTimestamp', new Date().getTime().toString());\r\n        this.currentMenu.next(res);\r\n        this.fetchFavoritesVoices();\r\n      });\r\n    }else{\r\n        // console.log('menu  giÃ  caricato nel preloadMenu');\r\n        this.fetchFavoritesVoices();\r\n    }\r\n  }\r\n\r\n  private preloadMenu(){\r\n    const mi = window.localStorage.getItem('menu-' + this.loggedUserId);\r\n    if (mi != null){\r\n         this.currentMenu.next(JSON.parse(mi));\r\n         this.preloadLocalFavoritesVoices();\r\n    }\r\n  }\r\n\r\n  fetchFavoritesVoices(){\r\n    this.getMenuFavoriteVoices().subscribe((res) => {\r\n      if (this.favoriteItems.value == null || JSON.stringify(this.favoriteItems.value) !== JSON.stringify(res)){\r\n        // console.log('favoriti cambiati, li aggiorno');\r\n        // se i favoriti non erano salvati in sessione oppure sono diversi da quelli caricati\r\n        this.favoriteItems.next(res);\r\n        window.localStorage.setItem('favVoice-' + this.loggedUserId, JSON.stringify(res));\r\n      }else{\r\n      // console.log('favoriti NON cambiati');\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  preloadLocalFavoritesVoices(){\r\n    const localF = window.localStorage.getItem('favVoice-' + this.loggedUserId);\r\n    if (localF != null){\r\n      this.favoriteItems.next(JSON.parse(localF));\r\n    }\r\n  }\r\n\r\n  getMenuFavoriteVoices(){\r\n    this.siiwait.skipNext();\r\n    const headers = new HttpHeaders().set(SiiHttpInterceptorService.HIDE_ERROR, 'true');\r\n    return this.http.get<string[]>(`${this.toolkitServ.environment.domain}/sii-menu/menu/favorite`, {headers});\r\n  }\r\n  saveFavoritesVoice(fav: string[]){\r\n    return this.http.post(`${this.toolkitServ.environment.domain}/sii-menu/menu/saveFavorite`, fav.join(','));\r\n  }\r\n\r\n  // loadNotifications(){\r\n  //   if (this.engageAvailable){\r\n  //     const headers = new HttpHeaders().set(SiiHttpInterceptorService.HIDE_ERROR, 'true');\r\n  //     this.http.get<any>(this.engageBEDomain + 'vtl/notifications?languageId=' + this.languageId, {headers})\r\n  //       .subscribe(nj => {\r\n  //           this.engageNotification.next(nj.results.map(i => {i.notificationDate = new Date(i.notificationDate); return i; }));\r\n  //           this.engageNotificationCount = nj.results.length;\r\n  //       }, err => this.engageNotification.next([])) ;\r\n  //   }\r\n  // }\r\n\r\n  loadEventsFromCorporateITCalendar(){\r\n    if (this.engageAvailable){\r\n      let headers = new HttpHeaders()\r\n      .append('siiHideError', 'true');\r\n\r\n      const tz = Intl.DateTimeFormat().resolvedOptions().timeZone;\r\n      if (!!tz){\r\n        headers = headers.append('Prefer',`outlook.timezone=\"${tz}\"`);\r\n      }\r\n\r\n      // const today=new Date();\r\n      // const tomorrow=new Date();\r\n      // tomorrow.setDate(tomorrow.getDate() + 1);//2mesi\r\n\r\n      var start = new Date();\r\n      start.setHours(0,0,0,0);\r\n\r\n      var end = new Date();\r\n      end.setDate(end.getDate() + 1);//2mesi\r\n      end.setHours(23,59,59,999);\r\n\r\n      let params = new HttpParams()\r\n      .append('$select', \"subject,body,bodyPreview,start,end,isAllDay\")\r\n      .append('startdatetime', start.toISOString())\r\n      .append('enddatetime', end.toISOString())\r\n      .append('$top', 15);\r\n\r\n      this.siiwait.skipNext()\r\n      this.http.get<OfficeCalendarEvents>(this.engageDomain + 'sial/corporateCalendar/calendarview?languageId=' + this.languageId, {params,headers})\r\n        .subscribe(nj => {\r\n            this.corporateCalendarEvents.next(this.buildCorporateItEventData(nj.value));\r\n            this.corporateCalendarEventsCount = nj.value.length;\r\n        }, err => this.corporateCalendarEvents.next([])) ;\r\n    }\r\n  }\r\n\r\n  private buildCorporateItEventData(originalData:OfficeEvent[]){\r\n    const siiDatePipe = new SiiDatePipe(this.toolkitServ)\r\n    const data=[...originalData]\r\n    const today=new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate()).getTime();\r\n    data.forEach((d,i,a)=>{\r\n      const eventDate= new Date(d.start.dateTime)\r\n      const  evDateNoTime= new Date(eventDate.getFullYear(), eventDate.getMonth(), eventDate.getDate()).getTime();\r\n      d.date= siiDatePipe.transform(eventDate);\r\n      d.time = String(eventDate.getHours()%12).padStart(2, '0')+\":\"+String(eventDate.getMinutes()).padStart(2, '0')+(eventDate.getHours() > 12 ? ' PM' : ' AM');\r\n      const dayDiff= Math.floor((evDateNoTime-today)/(24*3600*1000));\r\n      if(dayDiff==0){ d.status=SiiEventStatus.SCADENZA_OGGI;}\r\n      else if(dayDiff<-5){ d.status=SiiEventStatus.VECCHIA;}\r\n      else if(dayDiff<0 && dayDiff>=-5){ d.status=SiiEventStatus.SCADUTA;}\r\n      else if(dayDiff>0 && dayDiff<=5){ d.status=SiiEventStatus.IN_SCADENZA;}\r\n      else if(dayDiff>5){ d.status=SiiEventStatus.PROSSIMAMENTE;}\r\n\r\n      if(i!=0){\r\n        const prevItemDate= new Date(a[i-1].start.dateTime);\r\n        d.hideData= new Date(prevItemDate.getFullYear(), prevItemDate.getMonth(), prevItemDate.getDate(),0,0,0,0).getTime()==evDateNoTime;\r\n      }\r\n    });\r\n    // this.data=data;\r\n    return data;\r\n  }\r\n\r\n\r\n\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {  ActivatedRoute,  ActivatedRouteSnapshot,    ActivationStart,      DefaultUrlSerializer,\r\n       GuardsCheckEnd,      NavigationStart,  Router,  UrlTree } from '@angular/router';\r\nimport { BehaviorSubject, Subject } from 'rxjs';\r\nimport { filter } from 'rxjs/operators';\r\n\r\n\r\nexport type BreadcrumbItem= {\r\n  url: string;\r\n  label: string;\r\n  fragment: string;\r\n  queryParams: any;\r\n};\r\n\r\n\r\n\r\n/**\r\n * available states for routing\r\n *\r\n * breacbrumb        -> the custom name of the current path\r\n * breadcrumbReset   -> to reset the breadcrumb to the current route\r\n * breadcrumbHome    -> to set the current path as home if is different of '' or '**'\r\n *\r\n */\r\n\r\n\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class SiiBreadcrumbService {\r\n\r\n  private breadcrumbActionSubj = new Subject<{action: string, data: any}>();\r\n  public breadcrumbAction = this.breadcrumbActionSubj.asObservable();\r\n\r\n  private breadcrumbList: BreadcrumbItem[] = [];\r\n  private breadcrumbSubj = new BehaviorSubject<BreadcrumbItem[]>([]);\r\n  public breadcrumb = this.breadcrumbSubj.asObservable();\r\n\r\n  private currNavigationStart?: NavigationStart;\r\n\r\n  constructor( private router: Router) {\r\n\r\n    this.breadcrumbAction.subscribe((res) => {\r\n      this.doAction(res.action, res.data);\r\n    });\r\n\r\n    }\r\n\r\n\r\n  init(){\r\n    return (): Promise<any> => {\r\n      return new Promise<void>((resolve, reject) => {\r\n        this.initBreadcrumb();\r\n        resolve();\r\n        });\r\n      };\r\n  }\r\n\r\n\r\n  private doAction(actionType: string, actionData: any){\r\n\r\n    switch (actionType){\r\n      case 'PAGE_CHANGE' :\r\n         this.pageChange( actionData.url ,  actionData.snapshot);\r\n         delete this.currNavigationStart;\r\n         break;\r\n\r\n      case 'CHANGE_LAST_BREAD_LABEL':\r\n        this.breadcrumbList[this.breadcrumbList.length - 1].label = actionData.label;\r\n        this.breadcrumbSubj.next(this.breadcrumbList);\r\n        break;\r\n\r\n      case 'REMOVE_LAST_BREAD':\r\n        this.breadcrumbList.length = this.breadcrumbList.length - 1;\r\n        this.breadcrumbSubj.next(this.breadcrumbList);\r\n        break;\r\n\r\n      case 'RESET':\r\n        this.breadcrumbList.length = 0;\r\n        break;\r\n    }\r\n\r\n  }\r\n\r\n  private findCurrentRoute(url: UrlTree, root: ActivatedRouteSnapshot){\r\n    if (url.root.children.primary === undefined){\r\n      return root.firstChild;\r\n    }\r\n\r\n\r\n\r\n    const fullUrl = this.getFullUrl(root);\r\n    if ( root.fragment === url.fragment &&\r\n       JSON.stringify(root.queryParams) === JSON.stringify(url.queryParams) &&\r\n        JSON.stringify(url.root.children.primary.segments) === JSON.stringify(fullUrl)\r\n        ){\r\n      return root;\r\n    }else if (root.firstChild != null){\r\n      return this.findCurrentRoute(url, root.firstChild);\r\n    }else{\r\n      console.log('ROTTA NON TROVATA');\r\n    }\r\n\r\n  }\r\n\r\n  private initBreadcrumb(){\r\n\r\n    this.router.events\r\n    .pipe(filter(event => event instanceof GuardsCheckEnd || event instanceof NavigationStart ))\r\n    .subscribe((event: GuardsCheckEnd | NavigationStart ) => {\r\n\r\n      if (event instanceof NavigationStart){\r\n        if (event.navigationTrigger === 'popstate' ){\r\n          // se baccio back o foward con il browser, resetto la breadcrumb\r\n          this.breadcrumbActionSubj.next({action: 'RESET', data: null});\r\n        }\r\n      }else{\r\n        const url = (new DefaultUrlSerializer()).parse(event.url);\r\n        const currActivatedRouteSnapshot = this.findCurrentRoute(url, event.state.root);\r\n        this.breadcrumbActionSubj.next({action: 'PAGE_CHANGE', data: {url: event.url, snapshot: currActivatedRouteSnapshot }});\r\n      }\r\n\r\n    });\r\n    // this.router.events\r\n    // .pipe(filter((event) => event instanceof ActivationStart || event instanceof NavigationStart))\r\n    // .subscribe((event: ActivationStart | NavigationStart)  => {\r\n\r\n    //   if (event instanceof ActivationStart  ){\r\n    //     this.breadcrumbActionSubj.next({action: 'PAGE_CHANGE', data: {url: this.currNavigationStart.url, state: event }});\r\n    //   }else if (event instanceof NavigationStart){\r\n    //     this.currNavigationStart = event;\r\n    //   }\r\n    // });\r\n    // .pipe(filter((event) => event instanceof NavigationEnd))\r\n    // .subscribe((event: NavigationEnd) => {\r\n    //     this.pageChange(this.router.routerState.snapshot);\r\n    // });\r\n  }\r\n\r\n  private pageChange( url: string ,  snapshot: ActivatedRouteSnapshot){\r\n    const isRoot = this.isRoot( snapshot);\r\n    if (isRoot){\r\n      this.breadcrumbList = [this.buildBreadcrumbItem(url, snapshot)];\r\n    }else if (this.breadcrumbList.length === 0 || !!snapshot.routeConfig.data.breadcrumbReset){\r\n      this.breadcrumbList = [{url: '/', label: 'Home', fragment: null, queryParams: null}];\r\n    }\r\n\r\n    if (!isRoot){\r\n      this.breadcrumbList.push(this.buildBreadcrumbItem(url, snapshot));\r\n      const lastCrumb = this.breadcrumbList[this.breadcrumbList.length - 1];\r\n      const firstIndexOfNewUrl = this.breadcrumbList.findIndex(i => i.url === lastCrumb.url);\r\n\r\n      if (firstIndexOfNewUrl !== this.breadcrumbList.length - 1){\r\n        this.breadcrumbList.length = firstIndexOfNewUrl + 1;\r\n      }\r\n\r\n    }\r\n\r\n    this.breadcrumbSubj.next(this.breadcrumbList);\r\n  }\r\n  // private pageChange( url: string ,  state: ActivationStart){\r\n  //   if (this.breadcrumbList.length === 0 || !!state.snapshot.routeConfig.data.breadcrumbReset){\r\n  //     this.breadcrumbList = [{url: '/', label: 'Home', fragment: null, queryParams: null}];\r\n  //   }\r\n\r\n  //   if (!this.isRoot(url, state)){\r\n  //     this.breadcrumbList.push(this.buildBreadcrumbItem(url, state.snapshot));\r\n  //     const lastCrumb = this.breadcrumbList[this.breadcrumbList.length - 1];\r\n  //     const firstIndexOfNewUrl = this.breadcrumbList.findIndex(i => i.url === lastCrumb.url);\r\n\r\n  //     if (firstIndexOfNewUrl !== this.breadcrumbList.length - 1){\r\n  //       this.breadcrumbList.length = firstIndexOfNewUrl + 1;\r\n  //     }\r\n\r\n  //   }\r\n\r\n  //   this.breadcrumbSubj.next(this.breadcrumbList);\r\n  // }\r\n\r\n  buildBreadcrumbItem(url: string, state: ActivatedRouteSnapshot): BreadcrumbItem{\r\n\r\n    // const urlObj = new URL(url, 'http://example.com');\r\n    // const searchParamObj = {};\r\n    // urlObj.searchParams.forEach((value, key) => {\r\n    //   searchParamObj[key] = value;\r\n    // });\r\n\r\n    // const fragment = urlObj.hash !== '' ? urlObj.hash.replace('#', '') : null;\r\n\r\n\r\n    return {\r\n      url: '/' + this.getFullUrl(state).map( p => p.path).join('/'),\r\n      // url: state.url.reduce((acc, att) => acc + att.path + '/', ''),\r\n      // urlOld: urlObj.pathname,\r\n      label: state.routeConfig?.data?.breadcrumb || (url.startsWith(\"/\") ? url.slice(1): url).replace(\"/\",\" / \"),\r\n      fragment: state.fragment,\r\n      queryParams: state.queryParams\r\n    } ;\r\n\r\n  }\r\n\r\n  getFullUrl(root: ActivatedRouteSnapshot, arr= []){\r\n    if (root.parent != null){\r\n      this.getFullUrl(root.parent, arr);\r\n    }\r\n\r\n    root.url.forEach(i => arr.push(i));\r\n    return arr;\r\n  }\r\n\r\n  private isRoot(snapshot: ActivatedRouteSnapshot){\r\n    return snapshot.url.length === 0 || snapshot.url[0].path === ''  || snapshot.data.breadcrumbHome;\r\n  }\r\n\r\n\r\n  public changeLastBreadLabel(label: string){\r\n      this.breadcrumbActionSubj.next({action: 'CHANGE_LAST_BREAD_LABEL', data: {label}});\r\n  }\r\n\r\n  public removeLastBread(){\r\n    this.breadcrumbActionSubj.next({action: 'REMOVE_LAST_BREAD', data: null});\r\n\r\n  }\r\n\r\n  public reset(){\r\n    this.breadcrumbActionSubj.next({action: 'RESET', data: null});\r\n\r\n  }\r\n\r\n}\r\n","import { APP_INITIALIZER, LOCALE_ID, NgModule } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { HTTP_INTERCEPTORS, provideHttpClient, withInterceptorsFromDi } from '@angular/common/http';\r\n\r\nimport { ErrorDisplayService } from './components/error-display-dialog/error-display.service';\r\nimport { SiiHttpInterceptorService } from './service/sii-http-interceptor.service';\r\nimport { MatIconRegistry } from '@angular/material/icon';\r\nimport { SiiToolkitService } from './sii-toolkit.service';\r\nimport {SIIDateAdapter} from './common/SiiDateAdapter';\r\n\r\nimport { registerLocaleData } from '@angular/common';\r\nimport localeIt from '@angular/common/locales/it';\r\nimport localeEn from '@angular/common/locales/en';\r\nimport { DateAdapter, MAT_DATE_FORMATS } from '@angular/material/core';\r\nimport { SiiDatePipe } from './components/util/sii-date.pipe';\r\nimport { DialogNoIEComponent } from './common/dialog-no-ie/dialog-no-ie.component';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { SiiEngageService } from './service/sii-engage.service';\r\nimport { SiiBreadcrumbService } from './components/breadcrumb/services/breadcrumb.service';\r\nimport { SiiDownloadService } from './service/sii-download-service';\r\n\r\n\r\nregisterLocaleData(localeIt);\r\nregisterLocaleData(localeEn);\r\n\r\n// export const ENGAGE_CONFIG = new InjectionToken<BehaviorSubject<EngageConfigDTO>>('toolkit.engageConfig');\r\n\r\n\r\n@NgModule({\r\n    providers: [\r\n        // SiiWaitService,\r\n        SiiDatePipe,\r\n        { provide: HTTP_INTERCEPTORS, useClass: SiiHttpInterceptorService, multi: true },\r\n        // { provide: HTTP_INTERCEPTORS, useClass:  DotCmsInterceptorService, multi: true},\r\n        {\r\n            provide: APP_INITIALIZER,\r\n            // useFactory: (sts) => sts.initializeMySelf(),\r\n            useFactory(sts) { return sts.initializeMySelf(); },\r\n            deps: [SiiToolkitService],\r\n            multi: true\r\n        },\r\n        {\r\n            provide: APP_INITIALIZER,\r\n            // useFactory: (sts) => sts.initializeMySelf(),\r\n            useFactory(sts) { return sts.fetchEngageConfig(); },\r\n            deps: [SiiEngageService],\r\n            multi: true\r\n        },\r\n        {\r\n            provide: APP_INITIALIZER,\r\n            // useFactory: (sts) => sts.initializeMySelf(),\r\n            useFactory(sbs) { return sbs.init(); },\r\n            deps: [SiiBreadcrumbService],\r\n            multi: true\r\n        },\r\n        // {\r\n        //   provide:  ENGAGE_CONFIG,\r\n        //   useFactory(sts){return sts.engageConfig; },\r\n        //   deps: [EngageConfigurationsParamsService],\r\n        // },\r\n        {\r\n            provide: LOCALE_ID,\r\n            deps: [SiiToolkitService],\r\n            useFactory(siiToolkitService: SiiToolkitService) {\r\n                // return 'en';\r\n                return siiToolkitService.loggedUser.value.locale || 'it';\r\n            }\r\n        },\r\n        { provide: DateAdapter, useClass: SIIDateAdapter },\r\n        { provide: MAT_DATE_FORMATS, deps: [SiiToolkitService], useFactory: (st: SiiToolkitService) => st.getMatDateConfig() },\r\n        provideHttpClient(withInterceptorsFromDi()),\r\n    ] })\r\n\r\n\r\nexport class SiiToolkitModule {\r\n  constructor(matIconRegistry: MatIconRegistry, domSanitizer: DomSanitizer, private dialog: MatDialog) {\r\n    //  this.checkIfOldBrowser();\r\n\r\n \r\n     matIconRegistry.addSvgIconSet(domSanitizer.bypassSecurityTrustResourceUrl('./assets/sii_icons.svg'));\r\n     matIconRegistry.addSvgIcon('upload-solid', domSanitizer.bypassSecurityTrustResourceUrl('./assets/icons/upload-solid.svg'));\r\n     matIconRegistry.addSvgIcon('attachment', domSanitizer.bypassSecurityTrustResourceUrl('./assets/icons/attachment.svg'));\r\n     matIconRegistry.addSvgIcon('file_signature', domSanitizer.bypassSecurityTrustResourceUrl('./assets/icons/file_signature.svg'));\r\n     matIconRegistry.addSvgIcon('receipt_download', domSanitizer.bypassSecurityTrustResourceUrl('./assets/icons/receipt_download.svg'));\r\n     matIconRegistry.addSvgIcon('logo_engage', domSanitizer.bypassSecurityTrustResourceUrl('./assets/icons/logo-engage-neg.svg'));\r\n\r\n     matIconRegistry.addSvgIcon('file', domSanitizer.bypassSecurityTrustResourceUrl('./assets/icons/file-solid.svg'));\r\n     matIconRegistry.addSvgIcon('file-csv', domSanitizer.bypassSecurityTrustResourceUrl('./assets/icons/file-csv-solid.svg'));\r\n     matIconRegistry.addSvgIcon('file-excel', domSanitizer.bypassSecurityTrustResourceUrl('./assets/icons/file-excel-solid.svg'));\r\n     matIconRegistry.addSvgIcon('file-image', domSanitizer.bypassSecurityTrustResourceUrl('./assets/icons/file-image-solid.svg'));\r\n     matIconRegistry.addSvgIcon('file-pdf', domSanitizer.bypassSecurityTrustResourceUrl('./assets/icons/file-pdf-solid.svg'));\r\n     matIconRegistry.addSvgIcon('file-powerpoint', domSanitizer.bypassSecurityTrustResourceUrl('./assets/icons/file-powerpoint-solid.svg'));\r\n     matIconRegistry.addSvgIcon('file-word', domSanitizer.bypassSecurityTrustResourceUrl('./assets/icons/file-word-solid.svg'));\r\n\r\n     matIconRegistry.addSvgIcon('menu-calendar', domSanitizer.bypassSecurityTrustResourceUrl('./assets/icons/menu-icon-calendar.svg'));\r\n     matIconRegistry.addSvgIcon('menu-notifications', domSanitizer.bypassSecurityTrustResourceUrl('./assets/icons/menu-icon-notifiche.svg'));\r\n     matIconRegistry.addSvgIcon('menu-download', domSanitizer.bypassSecurityTrustResourceUrl('./assets/icons/menu-download.svg'));\r\n    }\r\n\r\n\r\n  checkIfOldBrowser() {\r\n    const ua = window.navigator.userAgent; // Check the userAgent property of the window.navigator object\r\n    const msie = ua.indexOf('MSIE '); // IE 10 or older\r\n    const trident = ua.indexOf('Trident/'); // IE 11\r\n    if (msie > 0 || trident > 0){\r\n    this.dialog.open(DialogNoIEComponent, {\r\n        disableClose: true,\r\n        minHeight: '100vh',\r\n        maxHeight: '100vh',\r\n        minWidth: '100vw',\r\n        maxWidth: '100vw'\r\n      });\r\n    }\r\n}\r\n}\r\n\r\n","import { Clipboard } from '@angular/cdk/clipboard';\r\nimport { Component, Input, OnChanges, OnInit, SimpleChanges, ViewChild } from '@angular/core';\r\nimport { MatMenuTrigger, MatMenu, MatMenuItem } from '@angular/material/menu';\r\nimport { WorkerContactInformationDto } from '../../dto/i-worker-contact-information.dto';\r\nimport { SiiToolkitService } from '../../sii-toolkit.service';\r\nimport { SiiWaitService } from '../wait/sii-wait.service';\r\nimport { MatTooltip } from '@angular/material/tooltip';\r\nimport { MatProgressSpinner } from '@angular/material/progress-spinner';\r\nimport { MatIcon } from '@angular/material/icon';\r\nimport { MatIconButton } from '@angular/material/button';\r\n\r\n@Component({\r\n    selector: 'sii-worker-contact-information',\r\n    templateUrl: './worker-contact-information.component.html',\r\n    styleUrls: ['./worker-contact-information.component.scss'],\r\n    standalone: true,\r\n    imports: [MatIconButton, MatMenuTrigger, MatIcon, MatMenu, MatProgressSpinner, MatMenuItem, MatTooltip]\r\n})\r\nexport class WorkerContactInformationComponent implements OnInit, OnChanges {\r\n@Input() workerId;\r\n@Input() serviceUrl?:string;\r\n  data: WorkerContactInformationDto;\r\n  noContacsInformation = false;\r\n  @ViewChild(MatMenuTrigger) trigger: MatMenuTrigger;\r\n\r\n  constructor(public siiToolkitService: SiiToolkitService, private clipboard: Clipboard, private siiWait: SiiWaitService) { }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n  if (  changes.workerId.currentValue !== changes.workerId.previousValue){\r\n    this.data = null;\r\n    this.noContacsInformation = false;\r\n  }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n  public openMenu(){\r\n    this.trigger.openMenu();\r\n  }\r\n\r\n  loadInformation(){\r\n    if (this.data == null){\r\n      this.siiWait.skipNext();\r\n      this.siiToolkitService.getWorkerContactInformation(this.workerId,this.serviceUrl).subscribe(r => {\r\n        this.data = r;\r\n        this.noContacsInformation = Object.values(r).findIndex(i => i != null) === -1;\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  call(phone){\r\n    this.createAndClickHref(`tel:${phone}`);\r\n  }\r\n\r\n  sendMail(mail){\r\n    this.createAndClickHref(`mailto:${mail}`);\r\n  }\r\n\r\n  openTeams(mail){\r\n    this.createAndClickHref(`sip:${mail}`);\r\n  }\r\n\r\n  private createAndClickHref(href){\r\n    const openLink = document.createElement('a');\r\n    openLink.href = href;\r\n    document.body.appendChild(openLink);\r\n    openLink.click();\r\n    document.body.removeChild(openLink);\r\n  }\r\n\r\n  copyToClipboard(item, ev: MouseEvent){\r\n    ev.stopPropagation();\r\n    (ev.target as any).classList.add('copingInProgress');\r\n    this.clipboard.copy(item);\r\n    setTimeout(() => {\r\n      (ev.target as any).classList.replace('copingInProgress', 'copingDone');\r\n      setTimeout(() => {\r\n        (ev.target as any).classList.remove('copingDone');\r\n      }, 1000);\r\n    }, 500);\r\n  }\r\n\r\n\r\n\r\n}\r\n","@if (workerId!=null) {\r\n  <button mat-icon-button (menuOpened)=\"loadInformation()\" [matMenuTriggerFor]=\"menu\" aria-label=\"Example icon-button with a menu\">\r\n    <mat-icon>contacts</mat-icon>\r\n  </button>\r\n}\r\n<mat-menu #menu=\"matMenu\">\r\n  @if (data==null) {\r\n    <mat-spinner style=\"margin: 25px;\"></mat-spinner>\r\n  }\r\n  @if (noContacsInformation) {\r\n    <span style=\"display:block; padding: 15px;\" i18n=\"@@NoDataAvailable\">No Data Available</span>\r\n  }\r\n  @if (data!=null) {\r\n    @if (data.businessOfficePhone) {\r\n      <button mat-menu-item (click)=\"call(data.businessOfficePhone)\"  i18n-matTooltip=\"@@Businessofficephonenumber\" matTooltipShowDelay='2000' matTooltip=\"Business office phone number\">\r\n        <mat-icon matTooltipShowDelay='500' matTooltipPosition=\"right\"  i18n-matTooltip=\"@@copyToClipboard\" matTooltip=\"Copy to clipboard\" class=\"copyEle\" (click)=\"copyToClipboard(data.businessOfficePhone,$event)\">phone</mat-icon>\r\n        <span>{{data.businessOfficePhone}}</span>\r\n      </button>\r\n    }\r\n    @if (data.businessCellphone) {\r\n      <button mat-menu-item (click)=\"call(data.businessCellphone)\"  i18n-matTooltip=\"@@Businesscellphonenumber\" matTooltipShowDelay='2000' matTooltip=\"Business cell phone number\">\r\n        <mat-icon matTooltipShowDelay='500' matTooltipPosition=\"right\"  i18n-matTooltip=\"@@copyToClipboard\" matTooltip=\"Copy to clipboard\" class=\"copyEle\" (click)=\"copyToClipboard(data.businessCellphone,$event)\">smartphone</mat-icon>\r\n        <span>{{data.businessCellphone}}</span>\r\n      </button>\r\n    }\r\n    @if (data.personalCellphone) {\r\n      <button mat-menu-item (click)=\"call(data.personalCellphone)\"  i18n-matTooltip=\"@@Personalcellphonenumber\" matTooltipShowDelay='2000' matTooltip=\"Personal cell phone number\">\r\n        <mat-icon matTooltipShowDelay='500' matTooltipPosition=\"right\"  i18n-matTooltip=\"@@copyToClipboard\" matTooltip=\"Copy to clipboard\" class=\"copyEle\" (click)=\"copyToClipboard(data.personalCellphone,$event)\">remember_me</mat-icon>\r\n        <span>{{data.personalCellphone}}</span>\r\n      </button>\r\n    }\r\n    @if (data.email) {\r\n      <button mat-menu-item (click)=\"sendMail(data.email)\">\r\n        <mat-icon matTooltipShowDelay='500' matTooltipPosition=\"right\"  i18n-matTooltip=\"@@copyToClipboard\" matTooltip=\"Copy to clipboard\" class=\"copyEle\" (click)=\"copyToClipboard(data.email,$event)\">mail</mat-icon>\r\n        <span>{{data.email}}</span>\r\n      </button>\r\n    }\r\n    @if (data.email) {\r\n      <button mat-menu-item (click)=\"openTeams(data.email)\">\r\n        <mat-icon ><svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" aria-hidden=\"true\" focusable=\"false\" width=\"1em\" height=\"1em\" style=\"-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);\" preserveAspectRatio=\"xMidYMid meet\" viewBox=\"0 0 24 24\"><path d=\"M19.19 8.77q-.46 0-.86-.17q-.39-.17-.69-.47q-.3-.3-.47-.69q-.17-.4-.17-.86q0-.45.17-.85q.17-.4.47-.69q.3-.3.69-.47q.4-.18.86-.17q.45-.01.85.17q.4.17.7.47q.29.29.47.69q.17.4.17.85q0 .46-.17.86q-.17.39-.47.69q-.3.3-.7.47q-.4.17-.85.17m0-3.12q-.39 0-.69.27q-.25.27-.25.66t.25.67q.3.25.69.25q.39 0 .66-.25q.28-.25.28-.67q0-.39-.28-.66q-.27-.27-.66-.27M22 10.33V15q0 .63-.24 1.2q-.26.57-.67.99q-.43.43-1 .67q-.59.25-1.21.25q-.38 0-.76-.11q-.39-.07-.71-.25q-.24.79-.71 1.44q-.47.65-1.1 1.11q-.63.46-1.39.7q-.76.27-1.58.27q-.96 0-1.81-.33q-.82-.33-1.5-.94q-.66-.57-1.09-1.36q-.44-.8-.57-1.74H2.83q-.33 0-.59-.25q-.24-.24-.24-.58V7.73q0-.34.24-.59q.26-.24.59-.24H10q-.29-.6-.29-1.25q0-.61.23-1.15q.22-.5.62-.92q.4-.39.94-.62q.5-.23 1.12-.23q.61 0 1.14.23q.53.23.93.62q.4.42.62.92q.23.54.23 1.15q0 .6-.23 1.14q-.22.53-.62.92q-.4.4-.93.63q-.53.23-1.14.23q-.15 0-.31-.02q-.15-.02-.31-.05v.9h9.06q.39 0 .67.27q.27.27.27.66M12.63 4q-.35 0-.63.11q-.33.13-.56.36q-.22.23-.35.53q-.13.31-.13.65q0 .35.13.65q.13.3.35.53q.23.22.56.36q.28.13.63.13q.34 0 .64-.13q.3-.14.53-.36q.23-.23.36-.53q.14-.3.14-.65q0-.34-.14-.65q-.13-.3-.36-.53q-.23-.23-.53-.36q-.3-.11-.64-.11m-4.85 6.18h1.88V8.62H4.34v1.56h1.88v5h1.56m8.6 1.09v-5.62H12v5.42q0 .34-.24.58q-.26.25-.59.25H8.92q.13.67.47 1.25q.34.57.82.99q.48.41 1.1.65q.61.21 1.32.21q.77 0 1.45-.27q.68-.3 1.2-.81q.51-.51.8-1.19q.3-.68.3-1.46M20.75 15v-4.35h-3.12v5.71q.25.25.57.38q.3.12.68.12q.39 0 .73-.15q.34-.15.59-.4q.26-.25.4-.6q.15-.34.15-.71z\" fill=\"#626262\"/></svg></mat-icon>\r\n        <span i18n=\"@@contactOnTeams\">Contact on Teams</span>\r\n      </button>\r\n    }\r\n  }\r\n</mat-menu>\r\n","import { Component, OnInit, Input, OnChanges, SimpleChanges, ViewChild } from '@angular/core';\r\nimport { SiiToolkitService } from '../../sii-toolkit.service';\r\nimport { WorkerContactInformationComponent } from '../worker-contact-information/worker-contact-information.component';\r\nimport { NgStyle } from '@angular/common';\r\nimport { MatMiniFabButton } from '@angular/material/button';\r\n\r\n@Component({\r\n    selector: 'sii-worker-icon',\r\n    templateUrl: './worker-icon.component.html',\r\n    styleUrls: ['./worker-icon.component.css'],\r\n    standalone: true,\r\n    imports: [MatMiniFabButton, NgStyle, WorkerContactInformationComponent]\r\n})\r\nexport class WorkerIconComponent implements OnChanges {\r\n  @ViewChild(WorkerContactInformationComponent) wci: WorkerContactInformationComponent;\r\n  @Input() lavuid: string;\r\n  @Input() showContact = false;\r\n  @Input() siiWorkerContactInformationServiceUrl?:string;\r\n  photoURL: string ;\r\n\r\n\r\n  constructor(public siiToolkitService: SiiToolkitService) { }\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.lavuid){\r\n      this.photoURL = `${this.siiToolkitService.environment.domain}/sii_common/photo/${changes.lavuid.currentValue}.jpg`;\r\n    }\r\n  }\r\n\r\n  public openContactInformation(){\r\n    if (this.showContact){\r\n      this.wci.openMenu();\r\n    }\r\n  }\r\n\r\n}\r\n","<svg class=\"list-ico list-ico-selected\" [attr.width]=\"40\" [attr.height]=\"40\" fill=\"#AAA\" viewBox=\"2 2 20 20\" >\r\n  <path d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n  <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\" />\r\n</svg>\r\n\r\n<button class=\"sii-profile-button__avatar list-ico-unselected\" mat-mini-fab (click)=\"openContactInformation()\"\r\n[ngStyle]=\"{'background-image':'url(' + photoURL + ')'}\"></button>\r\n\r\n@if (showContact) {\r\n  <sii-worker-contact-information [workerId]=\"lavuid\" [serviceUrl]=\"siiWorkerContactInformationServiceUrl\"  #wci ></sii-worker-contact-information>\r\n}\r\n","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA, MatDialogTitle, MatDialogContent, MatDialogActions, MatDialogClose } from '@angular/material/dialog';\r\nimport { Observable } from 'rxjs';\r\nimport { ILookupEmployeeDTO } from '../../lookup-employee/domain/lookup-employee.dto';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { MyselfDelegateduserDTO } from '../../../../dto/myself.dto';\r\nimport { SiiToolkitService } from '../../../../sii-toolkit.service';\r\nimport { MatButton } from '@angular/material/button';\r\nimport { WorkerIconComponent } from '../../../worker-icon/worker-icon.component';\r\nimport { MatSelectionList, MatListOption } from '@angular/material/list';\r\nimport { CdkScrollable } from '@angular/cdk/scrolling';\r\n\r\n@Component({\r\n    selector: 'sii-delegation-dialog',\r\n    templateUrl: './delegation-dialog.component.html',\r\n    styleUrls: ['./delegation-dialog.component.css'],\r\n    standalone: true,\r\n    imports: [MatDialogTitle, CdkScrollable, MatDialogContent, MatSelectionList, MatListOption, WorkerIconComponent, MatDialogActions, MatButton, MatDialogClose]\r\n})\r\nexport class DelegationDialogComponent implements OnInit {\r\n  availableDelegations=[] as MyselfDelegateduserDTO[];\r\n  constructor(public dialogRef: MatDialogRef<DelegationDialogComponent>,    siiToolkitService: SiiToolkitService) {\r\n      this.availableDelegations =siiToolkitService.loggedUser.value.delegatedUsers;\r\n     }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n\r\n}\r\n\r\n","<h2 mat-dialog-title i18n=\"@@DelegateLogin\">Login as delegated</h2>\r\n\r\n<div mat-dialog-content>\r\n  <mat-selection-list #deluser [multiple]=\"false\">\r\n    @for (del of  this.availableDelegations; track del) {\r\n      <mat-list-option [value]=\"del\">\r\n        <div class=\"usrRow\">\r\n          <sii-worker-icon [lavuid]=\"del.username\"></sii-worker-icon>\r\n          <div class=\"infoName\">{{del.name}} {{del.surname}}</div>\r\n        </div>\r\n      </mat-list-option>\r\n    }\r\n  </mat-selection-list>\r\n\r\n</div>\r\n\r\n\r\n<div mat-dialog-actions style=\"justify-content: flex-end;\">\r\n  <button mat-button mat-dialog-close  i18n=\"@@cancel\">Cancel</button>\r\n  <button mat-flat-button cdkFocusInitial [mat-dialog-close]=\"deluser?.selectedOptions?.selected[0]?.value\" color=\"primary\"   [disabled]=\"!deluser.selectedOptions.hasValue()\">Perform Relogin</button>\r\n</div>\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { ILookupEmployeeDTO } from '../lookup-employee/domain/lookup-employee.dto';\r\nimport { HttpParams, HttpClient } from '@angular/common/http';\r\nimport { SiiToolkitService } from '../../../sii-toolkit.service';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { DelegationDialogComponent } from './delegation-dialog/delegation-dialog.component';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DelegationService {\r\n\r\n  constructor(private http: HttpClient, private siiToolkitService:SiiToolkitService,public dialog: MatDialog) { }\r\n\r\n  \r\n  logout(){\r\n\r\n    window.open(this.siiToolkitService.environment.domain+'/delegate/logout', '_self')\r\n    // this.http.get(this.siiToolkitService.environment.domain+'/delegate/logout').subscribe(()=>{\r\n    //   window.location.reload();\r\n    // })\r\n  }\r\n\r\n  openDelegation(){\r\n    this.dialog.open(DelegationDialogComponent,\r\n      {\r\n      })\r\n      .afterClosed().subscribe((result: ILookupEmployeeDTO) => {\r\n\r\n      if(!!result){\r\n      window.open(this.siiToolkitService.environment.domain+'/delegate?userid='+result.username, '_self')\r\n      }\r\n\r\n    });;\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { SiiToolkitService } from '../../../../sii-toolkit.service';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { SiiWaitService } from '../../../wait/sii-wait.service';\r\nimport { SiiSdacPreviewResponse } from '../dto/sdac-preview-response.dto';\r\nimport { Router } from '@angular/router';\r\nimport { SiiEngageService } from '../../../../service/sii-engage.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SdacPreviewService {\r\n\r\n  get isEngage(){\r\n   return this.es.isEngage;\r\n  }\r\n\r\n  ticketPreview = new BehaviorSubject([]);\r\n  notificationPreview = new BehaviorSubject([]);\r\n  ticketCount = 0;\r\n  notificationCount = 0;\r\n  refreshInProgress = new BehaviorSubject<boolean>(false);\r\n\r\n  constructor(private http: HttpClient, public siiToolkitService: SiiToolkitService, private waitServ: SiiWaitService, private router: Router, private es: SiiEngageService ) {\r\n    if (!siiToolkitService.isServerless){\r\n      this.loadSdacPreview();\r\n    }\r\n   }\r\n\r\n  public loadSdacPreview(){\r\n\r\n    this.refreshInProgress.next(true);\r\n    this.waitServ.skipNext();\r\n    const headers = new HttpHeaders().set('siiHideError', 'true');\r\n    this.http.get<SiiSdacPreviewResponse>(`${this.siiToolkitService.environment.domain}/sdac_lookup/preview`, {headers})\r\n      .subscribe(cmp => {\r\n        this.ticketPreview.next(cmp.items) ;\r\n        this.notificationPreview.next(cmp.notification) ;\r\n        this.ticketCount = (cmp.items||[]).reduce((acc, ticketGroup) => (acc + ticketGroup.count), 0);\r\n        this.notificationCount = (cmp.notification||[]).reduce((acc, ticketGroup) => (acc + ticketGroup.count), 0);\r\n        this.refreshInProgress.next(false);\r\n      }, () => {\r\n        this.refreshInProgress.next(false);\r\n      });\r\n  }\r\n\r\n  openSdacTiketsByCode(ssRef?: string ){\r\n    if(this.es.engageAvailable){\r\n      if (this.isEngage){\r\n        this.router.navigate(['sdac'], { queryParams: !!ssRef ?  { sdacSS: ssRef } : {} });\r\n      }else{\r\n        const ref = encodeURIComponent(ssRef);\r\n        window.open(this.es.engageDomain + (!!ssRef ? `sdac?sdacSS=${ref}` : 'sdac'), '_blank', );\r\n      }\r\n    }else{\r\n      alert('engage unavailable');\r\n    }\r\n  }\r\n\r\n  openSdacType(notifica?:boolean){\r\n    const type=!!notifica ?  'TICKET_TYPE_NOTIFICA':'TICKET_TYPE_TICKET';\r\n    if(this.es.engageAvailable){\r\n      if (this.isEngage){\r\n        this.router.navigate(['sdac'], { queryParams:  { sdacType: type } });\r\n      }else{\r\n        window.open(this.es.engageDomain + `sdac?sdacType=${type}` , '_blank' );\r\n      }\r\n    }else{\r\n      alert('engage unavailable');\r\n    }\r\n\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { SiiToolkitService } from '../../sii-toolkit.service';\r\nimport { MyselfDTO } from '../../dto/myself.dto';\r\nimport { SdacPreviewService } from '../dsii-components/sdac-preview/service/sdac-preview.service';\r\nimport { SiiEngageService } from '../../service/sii-engage.service';\r\nimport { Router } from '@angular/router';\r\nimport { DelegationService } from '../dsii-components/delegation/delegation.service';\r\nimport { MatIcon } from '@angular/material/icon';\r\nimport { NgStyle } from '@angular/common';\r\nimport { MatMiniFabButton } from '@angular/material/button';\r\n\r\n@Component({\r\n    selector: 'sii-profile-button',\r\n    templateUrl: './profile-button.component.html',\r\n    styleUrls: ['./profile-button.component.scss'],\r\n    standalone: true,\r\n    imports: [MatMiniFabButton, NgStyle, MatIcon]\r\n})\r\nexport class ProfileButtonComponent implements OnInit {\r\n  @Input() mySelf: MyselfDTO;\r\n  @Input() hideDetail: boolean;\r\n\r\n  get sdacTicketCount(){\r\n    return this.sdacPreviewService.ticketCount;\r\n  }\r\n  get sdacNotificationCount(){\r\n    return this.sdacPreviewService.notificationCount;\r\n  }\r\n  get corporateItCalendarEventsCount(){\r\n    return this.engageService.corporateCalendarEventsCount;\r\n  }\r\n\r\n\r\n  photoURL: string ;\r\n\r\n  constructor(public siiToolkitService: SiiToolkitService, public delegationService: DelegationService, private router: Router,\r\n              private sdacPreviewService: SdacPreviewService, private engageService: SiiEngageService) { }\r\n\r\n  ngOnInit(): void {\r\n    // this.photoURL = `${this.siiToolkitService.environment.domain}/sii_common/photo.jpg?${(new Date()).getTime()}`;\r\n    this.photoURL = `${this.siiToolkitService.environment.domain}/sii_common/photo.jpg?${btoa(this.siiToolkitService.loggedUser.value.workerId || '')}`;\r\n  }\r\n\r\n  doLogout() {\r\n     window.location.href = `${this.siiToolkitService.environment.domain}/sii_common/logout`;\r\n  }\r\n  doDelegation() {\r\n   this.delegationService.openDelegation();\r\n  }\r\n\r\n  doDelegationLogout(){\r\n    this.delegationService.logout();\r\n  }\r\n\r\n\r\n  openSdacTiketsByCode(code?){\r\n    this.sdacPreviewService.openSdacTiketsByCode(code);\r\n  }\r\n\r\n  openSdacNotification(){\r\n    this.sdacPreviewService.openSdacType(true);\r\n  }\r\n  openSdacTicket(){\r\n    this.sdacPreviewService.openSdacType(false);\r\n  }\r\n\r\n  goToDeadlines(){\r\n    if (this.engageService.engageAvailable){\r\n      if (this.engageService.isEngage){\r\n        this.router.navigateByUrl('deadlines');\r\n      }else{\r\n        this.openUrlInWindow(this.engageService.engageDomain + '/deadlines' );\r\n      }\r\n    }else{\r\n      alert('enagage unavailable');\r\n    }\r\n  }\r\n\r\n  goToProfile(){\r\n    if (this.engageService.engageAvailable){\r\n      if (this.engageService.isEngage){\r\n        this.router.navigateByUrl('profile');\r\n      }else{\r\n      this.openUrlInWindow(this.engageService.engageDomain + '/profile');\r\n      }\r\n    }else{\r\n      alert('enagage unavailable');\r\n    }\r\n  }\r\n\r\n  openUrlInWindow(url:string){\r\n    window.open(url,'_blank',`target=_blank,width=4000,height=4000`)\r\n  }\r\n\r\n}\r\n","\r\n<button class=\"sii-profile-button__avatar\" mat-mini-fab\r\n  [ngStyle]=\"{'background-image':'url(' + photoURL + ')'}\"\r\n  >\r\n  @if (corporateItCalendarEventsCount!=0) {\r\n    <span class=\"notificationCount\"> {{corporateItCalendarEventsCount}}</span>\r\n  }\r\n  @if (sdacTicketCount!=0 || sdacNotificationCount!=0) {\r\n    <span    class=\"notificationCountSdac\">{{sdacTicketCount+sdacNotificationCount}}</span>\r\n  }\r\n</button>\r\n@if (!hideDetail) {\r\n  <div class=\"profButtDetailBox\">\r\n    <div class=\"profButtDetailBox_spacer\"></div>\r\n    <div class=\"profButtDetail_container\">\r\n      <div class=\"profile\">\r\n        <p   class=\"text-uppercase name\"><b>{{mySelf?.firstName}} {{mySelf?.lastName}}</b></p>\r\n        <!-- Dettagli utente -->\r\n        <dl class=\"eng-user-details \">\r\n          <dt i18n=\"@@toolbar_workerId\">Worker ID</dt>\r\n          <dd>{{mySelf?.workerId}}</dd>\r\n          <dt><abbr i18n-title=\"@@toolbar_cc\" title=\"Competence Center\" i18n=\"@@toolbar_cc_dim\">CC</abbr></dt>\r\n          <dd><abbr  [title]=\"mySelf.costCenterDescr\" >{{mySelf?.costCenterId}}</abbr></dd>\r\n          <!-- <dd [matTooltip]=\"mySelf.costCenterDescr\">{{mySelf?.costCenterId}}</dd> -->\r\n          <dt i18n=\"@@toolbar_manager\">Manager</dt>\r\n          <dd>{{mySelf.costCenterResp?.firstName}} {{mySelf.costCenterResp?.lastName}}</dd>\r\n          @if (!!mySelf.tutorWorkerId) {\r\n            <dt i18n=\"@@toolbar_tutor\">Tutor</dt>\r\n            <dd>{{mySelf.tutorFistName}} {{mySelf.tutorLastName}}</dd>\r\n          }\r\n          @if (!!mySelf.evaluatorWorkerId) {\r\n            <dt i18n=\"@@toolbar_evaluator\">Evaluator</dt>\r\n            <dd>{{mySelf.evaluatorFistName}} {{mySelf.evaluatorLastName}}</dd>\r\n          }\r\n        </dl>\r\n        <ul class=\"list-unstyled user-actions\">\r\n          <li><a (click)=\"goToProfile()\" tabindex=\"0\" title=\"\" class=\"\"><b i18n=\"@@navbar_goToProfile\">Go To Profile</b> <mat-icon>navigate_next</mat-icon></a></li>\r\n          <li><a href=\"https://password.eng.it/\" target=\"_blank\" title=\"\" class=\"\"><b i18n=\"@@navbar_changePassford\">Change Password</b> <mat-icon>navigate_next</mat-icon></a></li>\r\n          <li><a href=\"https://mysignins.microsoft.com/security-info\" target=\"_blank\" title=\"\" class=\"\"><b i18n=\"@@navbar_mfaSettings\">MFA Settings</b> <mat-icon>navigate_next</mat-icon></a></li>\r\n          <li><a  (click)=\"doLogout()\" tabindex=\"0\" title=\"\" class=\"\"><b i18n=\"@@navbar_logout\">Logout</b> <mat-icon>navigate_next</mat-icon></a></li>\r\n          <br><br>\r\n          @if (!!mySelf.delegatedUsers) {\r\n            <li (click)=\"doDelegation()\" ><a       title=\"\" class=\"\"><b i18n=\"@@DelegateLogin\">Login as delegated</b> <mat-icon>navigate_next</mat-icon></a></li>\r\n          }\r\n          @if (!!mySelf.isInDelegation) {\r\n            <li (click)=\"doDelegationLogout()\"><a  title=\"\" class=\"\"><b ii18n=\"@@DelegateLogout\">Logout from delegation</b> <mat-icon>navigate_next</mat-icon></a></li>\r\n          }\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n}\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { SiiWaitService } from './sii-wait.service';\r\nimport { AsyncPipe } from '@angular/common';\r\nimport { MatProgressSpinner } from '@angular/material/progress-spinner';\r\n\r\n@Component({\r\n    selector: 'sii-wait',\r\n    templateUrl: './wait.component.html',\r\n    styleUrls: ['./wait.component.css'],\r\n    standalone: true,\r\n    imports: [MatProgressSpinner, AsyncPipe]\r\n})\r\nexport class WaitComponent implements OnInit {\r\n\r\n  display$: Observable<boolean>;\r\n  constructor(private wait: SiiWaitService) { }\r\n\r\n  ngOnInit() {\r\n    this.display$ = this.wait.display$;\r\n  }\r\n\r\n}\r\n","@if (display$ | async) {\r\n  <div class=\"sii-wait-screen\">\r\n    <mat-spinner ></mat-spinner>\r\n  </div>\r\n}\r\n","import { Component, Input, OnInit, HostBinding } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'sii-out',\r\n    templateUrl: './sii-out.component.html',\r\n    styleUrls: ['./sii-out.component.scss'],\r\n    standalone: true,\r\n})\r\nexport class SiiOutComponent implements OnInit {\r\n  appearanceProp=['column','inline','column-reverse'];\r\n\r\n  @HostBinding('class') hostClass='sii-out-appearance-column';\r\n  @Input() set appearance(val){\r\n    if(val !== undefined && this.appearanceProp.indexOf(val)!==-1){\r\n      this.hostClass='sii-out-appearance-'+val;\r\n    }else{\r\n      this.hostClass='sii-out-appearance-column';\r\n    }\r\n  };\r\n\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<span class=\"siiOUT_label\"><ng-content select=\"label\"></ng-content></span>\r\n<span class=\"siiOUT_content\"><ng-content select=\"content\"></ng-content></span>\r\n","import { Component, OnInit, HostBinding } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'sii-page-hover-mask',\r\n    template: '',\r\n    styleUrls: ['./page-hover-mask.component.css'],\r\n    standalone: true\r\n})\r\nexport class PageHoverMaskComponent implements OnInit {\r\n  @HostBinding('style.display') display = 'none';\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","import { SiiMenuVoice } from '../global-menu/dto/menu-voice';\r\n\r\n// here is the code that deals with the legacy systems.\r\nexport class SIILinkManager {\r\n\r\n  private openedLinks: Window[] = [];\r\n\r\n  openLink(menuVoice: SiiMenuVoice,openInThisWindow:boolean,  companyId?: string) {\r\n    let urlToCall=menuVoice.link;\r\n    const windowTarget=openInThisWindow?'_self':'blank';\r\n    const features=`target=${windowTarget},width=400,height=400,resizable=0,scrollbars=1,status=1,toolbar=0,menubar=0`;\r\n    if (urlToCall.indexOf('?') < 0) {\r\n      urlToCall += '?';\r\n    }\r\n    urlToCall += '&WebCacheLocalId=' + new Date().getTime().toString();\r\n    if (companyId) {\r\n      urlToCall += '&soccodice=' + companyId;\r\n    }\r\n    // the 2Â°parameter is the name of the opened window. if a window with the same name is opened, the same widow is used\r\n    // if add the 3Â°parameter features , the new link is opened in a new window intead of tab\r\n    const win = window.open(\r\n      urlToCall,\r\n      openInThisWindow?'_self':`${menuVoice.title}${(' - '+companyId) || ''}`\r\n      ,features\r\n      );\r\n\r\n\r\n      if(!openInThisWindow){\r\n        win.addEventListener('load', ()=>{\r\n        if(win.location.href.toLowerCase().indexOf('login')!==-1){\r\n          console.log('sessione scaduta');\r\n          win.close();\r\n          window.location.reload();\r\n        }\r\n        }, false);\r\n      }\r\n\r\n\r\n    this.openedLinks.push(win);\r\n    return win;\r\n  }\r\n\r\n  closeAllOpenedLinks() {\r\n    for (const win of this.openedLinks) {\r\n      win.close();\r\n    }\r\n  }\r\n}\r\n\r\n/*\r\nwindow.SII_LEGACY = {};\r\n(function (window, document, undefined) {\r\n  window.SII_LEGACY.openedLinks = [];\r\n  window.SII_LEGACY.openLinkInNewWIndow = (URL,companyId) => openLink(URL,companyId, '_blank');\r\n  window.SII_LEGACY.closeAllOpenedLinks = () => closeAllOpenedLinks();\r\n\r\n  function closeAllOpenedLinks() {\r\n    for (var idx in window.SII_LEGACY.openedLinks) {\r\n      var win = window.SII_LEGACY.openedLinks[idx];\r\n      win.close();\r\n    }\r\n  }\r\n\r\n  function openLink(URL, windowName, companyId) {\r\n    if (target.indexOf('?') < 0) {\r\n      target += '?';\r\n    }\r\n    target += '&WebCacheLocalId=' + eval('(new Date().getTime())');\r\n    target += '&sii_cod_soc=' + companyId;\r\n    var win = window.open(URL, windowName, 'target=' + windowName + ',\r\n    width=400,height=400,resizable=0,scrollbars=1,status=1,toolbar=0,menubar=0');\r\n    window.SII_LEGACY.openLinks.push(win)\r\n    return win;\r\n  }\r\n\r\n\r\n})(window, document);\r\n*/\r\n","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { MAT_DIALOG_DATA, MatDialogRef, MatDialogTitle, MatDialogContent, MatDialogActions, MatDialogClose } from '@angular/material/dialog';\r\nimport { EngCompany } from '../../dto/menu-user-Info.dto';\r\nimport { MatButton } from '@angular/material/button';\r\nimport { CdkScrollable } from '@angular/cdk/scrolling';\r\nexport interface CompanySelectionDialogComponentData{\r\n  companies:EngCompany[];\r\n  title:string;\r\n}\r\n\r\n\r\n@Component({\r\n    selector: 'sii-company-selection-dialog',\r\n    templateUrl: './company-selection-dialog.component.html',\r\n    styleUrls: ['./company-selection-dialog.component.css'],\r\n    standalone: true,\r\n    imports: [MatDialogTitle, CdkScrollable, MatDialogContent, MatDialogActions, MatButton, MatDialogClose]\r\n})\r\nexport class CompanySelectionDialogComponent {\r\n\r\n  constructor(public dialogRef: MatDialogRef<CompanySelectionDialogComponent>,\r\n              @Inject(MAT_DIALOG_DATA) public data: CompanySelectionDialogComponentData) {\r\n  }\r\n\r\n  selectCompany(companyId: string) {\r\n    this.dialogRef.close(companyId);\r\n  }\r\n\r\n}\r\n\r\n","<h2 mat-dialog-title>{{data.title}} - <span i18n=\"@@dialogSelectCompany-choose_company\">choose a company</span></h2>\r\n<mat-dialog-content>\r\n  @for (company of data.companies; track company) {\r\n    <div class=\"item-word-wrap\" (click)=\"selectCompany(company.id)\">\r\n      <div class=\"item-title\"> {{company?.briefDescription}}</div>\r\n    </div>\r\n  }\r\n</mat-dialog-content>\r\n<mat-dialog-actions>\r\n  <button mat-button mat-dialog-close i18n=\"@@cancel\">Cancel</button>\r\n</mat-dialog-actions>\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { SiiMenuFolder } from '../dto/menu-folder';\r\nimport { SiiMenuVoice } from '../dto/menu-voice';\r\n\r\n@Pipe({\r\n    name: 'globalMenuVoicesFilter',\r\n    standalone: true\r\n})\r\nexport class GlobalMenuVoicesFilterPipe implements PipeTransform {\r\n\r\n  transform(menuVoices: SiiMenuVoice[], company:string, textFilter:string) {\r\n    if (!menuVoices || (!textFilter && (!company || company.length===0))) {\r\n      return menuVoices;\r\n    }\r\n    return menuVoices.filter(mv=>(\r\n                              !mv.companyDep\r\n                              || company==null || company.length===0\r\n                              || (!!mv.companies && mv.companies.find(cmp=> cmp===company)!=null)))\r\n                        .filter(mv=>mv.title.toLowerCase().indexOf(textFilter.toLowerCase())!==-1);\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { SiiMenuFolder } from '../dto/menu-folder';\r\n\r\n@Pipe({\r\n    name: 'globalMenuFilter',\r\n    standalone: true\r\n})\r\nexport class GlobalMenuFilterPipe implements PipeTransform {\r\n\r\n  transform(menuCategories: SiiMenuFolder[], company:string, textFilter:string) {\r\n    if (!menuCategories || (!textFilter && (!company || company.length===0))) {\r\n      return menuCategories;\r\n    }\r\n  // filter items array, items which match and return true will be\r\n  // kept, false will be filtered out\r\n  // return items.filter(item => item.title.indexOf(filter.title) !== -1);\r\n  return menuCategories.map((menuCat)=>{\r\n    const filtredMenu=  {...menuCat };\r\n    filtredMenu.voices=filtredMenu.voices\r\n                    .filter(mv=> ( !mv.companyDep\r\n                                   || company==null || company.length===0\r\n                                   ||  (!!mv.companies && mv.companies.find(cmp=> cmp===company)!=null)))\r\n                    .filter(mv=>\r\n                      menuCat.category.toLowerCase().indexOf(textFilter.toLowerCase())!==-1\r\n                      || mv.title.toLowerCase().indexOf(textFilter.toLowerCase())!==-1);\r\n    return filtredMenu;\r\n  }).filter(mc=>mc.voices.length>0);\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { SiiToolkitService } from '../../../../sii-toolkit.service';\r\nimport {  Subject, BehaviorSubject } from 'rxjs';\r\nimport { SiiMenuFolder } from '../dto/menu-folder';\r\nimport { map, publishReplay, refCount } from 'rxjs/operators';\r\nimport { SiiMenuUserInfo, EngCompany } from '../dto/menu-user-Info.dto';\r\nimport { SiiMenuVoice } from '../dto/menu-voice';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class GlobalMenuService {\r\n  // favoriteVoices=[] as SiiMenuVoice[];\r\n  favoriteVoice = new BehaviorSubject<SiiMenuVoice[]>([]);\r\n\r\n  menu = new BehaviorSubject<SiiMenuFolder[]>([]);\r\n  selectedCompany= new BehaviorSubject<string>(null);\r\n  availableCompany= new BehaviorSubject<EngCompany[]>([]);\r\n  menuUserInfo:  SiiMenuUserInfo;\r\n\r\n  constructor(private http: HttpClient, public siiToolkitService: SiiToolkitService) {  }\r\n\r\n  initMenu() {\r\n    // load if never loaded before\r\n    if(this.menu.value.length===0){\r\n      this.loadMenu();\r\n    }\r\n  }\r\n\r\n  private loadMenu(){\r\n    this.http.get<SiiMenuFolder[]>(`${this.siiToolkitService.environment.domain}/sii-menu/menu/voices`)\r\n      // publishReplay(1), refCount() means cache the value\r\n      .pipe(\r\n        map(menuFolders => this.enrichMenus(menuFolders)),\r\n        publishReplay(1),\r\n        refCount()\r\n      ).subscribe(menus => {\r\n        this.menu.next(menus);\r\n        this.loadMenuUserInfo()\r\n        this.loadFavoriteVoices();\r\n       });\r\n  }\r\n\r\n  private buildAvailableCompany(){\r\n    let cmp=[];\r\n    this.menu.value.forEach(menu =>\r\n      menu.voices.forEach(voice =>\r\n        cmp = (voice.companies ? Array.from(new Set(cmp.concat(voice.companies))) : cmp))\r\n      );\r\n      const cmpObj:EngCompany[]=cmp.map(c=>this.menuUserInfo.companies[c]);\r\n      cmpObj.sort((a,b)=>a.briefDescription.localeCompare(b.briefDescription))\r\n\r\n      this.availableCompany.next(cmpObj)   ;\r\n}\r\n\r\n  private loadMenuUserInfo(){\r\n    this.http.get<SiiMenuUserInfo>(`${this.siiToolkitService.environment.domain}/sii-menu/menu/user_info`)\r\n      // rxjs way to do caching\r\n      .pipe(\r\n        // map(userInfo => this.enrichUserInfo(userInfo)),\r\n        publishReplay(1),\r\n        refCount()\r\n      ).subscribe(cmp => {\r\n        this.menuUserInfo=cmp ;\r\n        this.buildAvailableCompany();\r\n        this.initSelectedCompany();\r\n      });\r\n  }\r\n\r\n\r\n  private enrichMenus(folders: SiiMenuFolder[]): SiiMenuFolder[] {\r\n    folders.forEach((f)=>this.enrichMenu(f));\r\n    return folders;\r\n  }\r\n\r\n  private enrichMenu(folder: SiiMenuFolder): SiiMenuFolder {\r\n    switch (folder.category.toUpperCase()) {\r\n      // case 'SIIWEB': folder.icon = 'assignment'; // siiweb\r\n      //         break;\r\n      case 'MODULI SIIWEBLITE': folder.icon = 'moduli'; // modules\r\n              break;\r\n      case 'SCUOLA': folder.icon = 'scuola'; // modules\r\n              break;\r\n      case 'COMMESSE': folder.icon = 'commesse'; // internal order\r\n              break;\r\n      case 'LAVORATORI': folder.icon = 'lavoratori_dipendenti'; // workers\r\n              break;\r\n      case 'ACQUISTI': folder.icon = 'acquisti'; // Purchase management\r\n              break;\r\n      case 'UTILITY': folder.icon = 'utility'; // utility\r\n              break;\r\n    case 'VENDITE': folder.icon = 'vendite'; // Sales management\r\n               break;\r\n      case 'REPORT': folder.icon = 'report'; // REPORT\r\n               break;\r\n    case 'PREFERENZE': folder.icon = 'preferenze'; // Preferenze\r\n               break;\r\n      case 'CDC': folder.icon = 'cdc'; // cost center\r\n               break;\r\n      case 'ALTRE APPLICAZIONI': folder.icon = 'altri_applicativi'; // other\r\n               break;\r\n      case 'DIPENDENTI': folder.icon = 'lavoratori_dipendenti'; // employees\r\n               break;\r\n      case 'ESTERNI': folder.icon = 'lavoratori_esterni'; // freelancers\r\n               break;\r\n      case 'ORME': folder.icon = 'orme'; // OrME\r\n               break;\r\n      case 'TRAVELLENG': folder.icon = 'tram'; // TravellENG\r\n               break;\r\n      default :  folder.icon = 'application';\r\n                   console.log(`icona per categoria menu ${folder.category} non censita` );\r\n    }\r\n\r\n    return folder;\r\n  }\r\n\r\n  SelectCompany(company: string) {\r\n    this.selectedCompany.next(company);\r\n    localStorage.setItem('lastSelCompany', JSON.stringify({company, user:this.menuUserInfo.workerId}));\r\n  }\r\n\r\n  initSelectedCompany() {\r\n    const value = localStorage.getItem('lastSelCompany');\r\n    if (value) {\r\n      const lsc= JSON.parse(localStorage.getItem('lastSelCompany'));\r\n      if(lsc.user===this.menuUserInfo.workerId && this.menuUserInfo.companies.hasOwnProperty(lsc.company)){\r\n        this.SelectCompany(lsc.company);\r\n      }\r\n    }\r\n  }\r\n\r\n  saveFavorites(){\r\n    this.http.post(`${this.siiToolkitService.environment.domain}/sii-menu/menu/favorite`,this.favoriteVoice.value.map(fv=>fv.id))\r\n    .subscribe((res)=>{\r\n      console.log('favorite saved')\r\n    })\r\n  }\r\n\r\n  loadFavoriteVoices() {\r\n    this.http.get<string[]>(`${this.siiToolkitService.environment.domain}/sii-menu/menu/favorite`)\r\n    .subscribe((res)=>{\r\n\r\n      if(res.length>0){\r\n        const f=[];\r\n        this.menu.value.forEach(m=>{\r\n          m.voices.forEach(v=>{\r\n            if(res.indexOf(v.id)!==-1){\r\n              f.push(v);\r\n            }\r\n          })\r\n        })\r\n        this.favoriteVoice.next(f);\r\n      }\r\n\r\n\r\n    })\r\n\r\n  }\r\n\r\n\r\n  addToFavorites(voice: SiiMenuVoice) {\r\n    const fv= [...this.favoriteVoice.value];\r\n    fv.push(voice);\r\n    this.favoriteVoice.next(fv);\r\n    this.saveFavorites();\r\n  }\r\n\r\n  removeFromFavorites(voice: SiiMenuVoice, index: number) {\r\n    const fv= [...this.favoriteVoice.value];\r\n    fv.splice(index, 1);\r\n    this.favoriteVoice.next(fv);\r\n    this.saveFavorites();\r\n  }\r\n\r\n\r\n  isInFavorites(voice: SiiMenuVoice) {\r\n    return this.favoriteVoice.value.some(e => e.title === voice.title);\r\n  }\r\n\r\n\r\n  // isEnabledForCurrentSelectedCompany(voice: SiiMenuVoice, company:string) {\r\n  //   if (!company || company === '' ) {\r\n  //     return true;\r\n  //   } else {\r\n  //     return voice.companies ? voice.companies.includes(company) : true;\r\n  //   }\r\n  // }\r\n\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { GlobalMenuService } from '../../service/global-menu.service';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { EngCompany } from '../../dto/menu-user-Info.dto';\r\nimport { NgStyle } from '@angular/common';\r\nimport { MatTooltip } from '@angular/material/tooltip';\r\nimport { MatIcon } from '@angular/material/icon';\r\nimport { MatMenuTrigger, MatMenu, MatMenuItem } from '@angular/material/menu';\r\n\r\n@Component({\r\n    selector: 'sii-company-selection',\r\n    templateUrl: './company-selection.component.html',\r\n    styleUrls: ['./company-selection.component.css'],\r\n    standalone: true,\r\n    imports: [MatMenuTrigger, MatIcon, MatTooltip, MatMenu, MatMenuItem, NgStyle]\r\n})\r\nexport class SiiCompanySelectionComponent implements OnInit {\r\n\r\n  get companies(){\r\n    return this.menuRepository.availableCompany.value;\r\n  }\r\n  get selectedCompany():EngCompany{\r\n    return this.menuRepository.menuUserInfo?.companies[this.menuRepository.selectedCompany.value];\r\n  }\r\n\r\n  constructor(private menuRepository: GlobalMenuService) { }\r\n\r\n  ngOnInit() {}\r\n\r\n\r\n  onCompanySelect(company: string, event: any) {\r\n    this.menuRepository.SelectCompany(company);\r\n  }\r\n}\r\n","<div class=\"companySel-trigger\" [matMenuTriggerFor]=\"menu\">\r\n  <mat-icon svgIcon=\"sii-company\"  style=\"    padding-right: 10px;\"></mat-icon>\r\n  @if (selectedCompany) {\r\n    <div [matTooltip]=\"selectedCompany?.code3 +' - '+selectedCompany?.longDescription\" matTooltipShowDelay=\"1000\">{{selectedCompany.briefDescription}}</div>\r\n  } @else {\r\n    <ng-container i18n=\"@@SiiCompanySelÃ²ection-no_company_selected\">No company Selected</ng-container>\r\n  }\r\n</div>\r\n<mat-menu #menu=\"matMenu\">\r\n  <button (click)=\"onCompanySelect(null, $event)\"  [ngStyle]=\"{'font-weight' : !selectedCompany? 'bold': 'normal'}\"\r\n  mat-menu-item>---</button>\r\n  @for (company of companies; track company) {\r\n    <button (click)=\"onCompanySelect(company.id, $event)\" [ngStyle]=\"{'font-weight' : selectedCompany==company? 'bold': 'normal'}\"\r\n    mat-menu-item  [matTooltip]=\"company?.code3 +' - '+company?.longDescription\" matTooltipShowDelay=\"1000\">{{company?.briefDescription}}</button>\r\n  }\r\n</mat-menu>\r\n","import { BreakpointObserver, Breakpoints, BreakpointState } from '@angular/cdk/layout';\r\nimport { Component, OnInit, Input, ElementRef, HostBinding } from '@angular/core';\r\nimport { PageFiltersComponent } from '../../page-filters/page-filters.component';\r\nimport { MatBadge } from '@angular/material/badge';\r\nimport { MatIcon } from '@angular/material/icon';\r\nimport { MatIconButton } from '@angular/material/button';\r\n\r\n@Component({\r\n    selector: 'sii-page-content-toolbar',\r\n    templateUrl: './page-content-toolbar.component.html',\r\n    styleUrls: ['./page-content-toolbar.component.scss'],\r\n    standalone: true,\r\n    imports: [MatIconButton, MatIcon, MatBadge],\r\n    host: { 'hostID': new Date().getTime().toString() }\r\n})\r\nexport class PageContentToolbarComponent implements OnInit {\r\n  @Input() filtersCount;\r\n  @Input() hideCount=false;\r\n  @Input() itemsCount;\r\n  @Input() itemsCountLabel = 'Items';\r\n  @Input() autoHide = false;\r\n  @Input() filterIcon: string;\r\n  @HostBinding('attr.siiRef') siiRef = new Date().getTime();\r\n\r\n  isMobile = false;\r\n\r\n  constructor(public  el: ElementRef, public breakpointObserver: BreakpointObserver) {\r\n    // debugger\r\n    // breakpointObserver.observe(['max-width: 500px']).subscribe(result => {\r\n    //   this.isMobile=result.matches\r\n    // });\r\n\r\n    this.breakpointObserver\r\n      .observe([Breakpoints.XSmall])\r\n      .subscribe((state: BreakpointState) => {        this.isMobile = state.matches;      });\r\n\r\n  }\r\n\r\n  toggleFilterPanelRef; // viene settata dal padre;\r\n  filterPanelRef: PageFiltersComponent;\r\n\r\n\r\n  ngOnInit(): void {\r\n  }\r\n  doToggle(){\r\n    this.toggleFilterPanelRef();\r\n  }\r\n\r\n}\r\n","<div class=\"pct_container\">\r\n  @if (toggleFilterPanelRef && filterPanelRef?.isOpen==false) {\r\n    <button class=\"pct_container_filterButton\" mat-icon-button aria-label=\"toggle filter panel\" (click)=\"doToggle()\">\r\n      <mat-icon [matBadgeColor]=\"'accent'\" [matBadge]=\"filtersCount\" [matBadgeHidden]=\"filtersCount==0\" matBadgeSize=\"small\"\r\n      [svgIcon]=\"!!filterIcon?filterIcon:'sii-show-filters'\"   ></mat-icon>\r\n    </button>\r\n  }\r\n  <ng-content select=\"sii-breadcrumb\"></ng-content>\r\n  <ng-content select=\"[siiPageContentToolbarBegin]\"></ng-content>\r\n  <ng-content select=\"sii-list-select-all\"></ng-content>\r\n  @if (itemsCount  && !hideCount) {\r\n    <div class=\"pct_itemsCount\"  >{{itemsCount}}&nbsp;<span class=\"pct_itemCountLabel\">{{isMobile?itemsCountLabel.substring(0,3)+\".\":itemsCountLabel}}</span></div>\r\n  }\r\n  <ng-content select=\"sii-list-sorter\"></ng-content>\r\n\r\n  <span style=\"flex:1\"></span>\r\n  <ng-content></ng-content>\r\n</div>\r\n\r\n<!-- [class.pct_itemsCount_with_filter]=\"toggleFilterPanelRef && filterPanelRef?.isOpen==false\" -->\r\n","import { AfterViewInit, ChangeDetectorRef, Component, ElementRef, HostBinding, Input, NgZone, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { BehaviorSubject, Subject } from 'rxjs';\r\nimport { debounceTime } from 'rxjs/operators';\r\nimport { AsyncPipe } from '@angular/common';\r\nimport { CdkObserveContent } from '@angular/cdk/observers';\r\n\r\n@Component({\r\n    selector: 'sii-page-content',\r\n    templateUrl: './page-content.component.html',\r\n    styleUrls: ['./page-content.component.scss'],\r\n    standalone: true,\r\n    imports: [CdkObserveContent, AsyncPipe]\r\n})\r\nexport class PageContentComponent implements OnInit , OnDestroy , AfterViewInit{\r\n\r\n  defaultMinWidth = '500px';\r\n  @HostBinding('style.width')hostWidth = this.defaultMinWidth;\r\n  @HostBinding('style.display') display;\r\n  @HostBinding('class.fix') fix = false;\r\n  @Input() set width(val){\r\n    this.hostWidth = (val !== undefined && new RegExp(/^\\d+$/g).test(val)) ? val + 'px' :\r\n                    (val !== undefined && new RegExp(/^\\d+(px|vw|%)$/g).test(val)) ? val :  this.defaultMinWidth;\r\n  }\r\n  @Input() bodyStyle;\r\n  @Input() bodyClass;\r\n\r\n  @ViewChild('pctb', { static: false })  pctb: ElementRef;\r\n  @ViewChild('pcb', { static: false })  pcb: ElementRef;\r\n\r\n  @HostBinding('style.--pageContainerToolbarHeight')  get toolbarHeight(){ return this.pctbHeightSubj.value + 'px'; }\r\n\r\n  pctbFixedHeightSubj = new BehaviorSubject<number>(0);\r\n  pctbFixedHeight = this.pctbFixedHeightSubj.asObservable();\r\n\r\n\r\n  pctbHeightSubj = new BehaviorSubject<number>(0);\r\n  pctbHeight = this.pctbHeightSubj.asObservable();\r\n\r\n  pcbWidthSubj = new Subject<number>();\r\n  pcbWidth = this.pcbWidthSubj.asObservable();\r\n\r\n  pctbObserver;\r\n  pcbObserver;\r\n\r\n  utils = {\r\n    lastpctChildrensHeight: {},\r\n    lastpctbItems: 0\r\n  };\r\n\r\n  constructor(public  el: ElementRef, private ref: ChangeDetectorRef,  private zone: NgZone) {\r\n\r\n\r\n  this.pctbObserver = new ResizeObserver(entries => {\r\n    this.zone.run(() => {\r\n        if (this.utils.lastpctbItems !== entries[0].target.childElementCount){\r\n          this.utils.lastpctChildrensHeight = {};\r\n        }\r\n\r\n        const currpctChildrensHeight = Array.from(entries[0].target.children)\r\n        .reduce((acc, curr) => {\r\n          if (!curr.classList.contains('hiddenToolbar')){\r\n            acc[curr.getAttribute('siiRef')] = Math.floor(curr.getBoundingClientRect().height);\r\n          }\r\n          return acc; } , JSON.parse(JSON.stringify(this.utils.lastpctChildrensHeight)));\r\n\r\n        if ( ( entries[0].contentRect.height !== 0 || entries[0].contentRect.height !== this.pctbFixedHeightSubj.value)  &&\r\n          (this.utils.lastpctbItems !== entries[0].target.childElementCount ||  JSON.stringify(currpctChildrensHeight) !== JSON.stringify(this.utils.lastpctChildrensHeight))){\r\n          this.pctbFixedHeightSubj.next(entries[0].contentRect.height);\r\n      }\r\n\r\n        this.pctbHeightSubj.next(entries[0].contentRect.height);\r\n        this.utils.lastpctChildrensHeight = currpctChildrensHeight;\r\n        this.utils.lastpctbItems = entries[0].target.childElementCount;\r\n\r\n    });\r\n  });\r\n  this.pcbObserver = new ResizeObserver(entries => {\r\n    this.zone.run(() => {\r\n      this.pcbWidthSubj.next(entries[0].contentRect.width);\r\n    });\r\n  });\r\n\r\n  window.addEventListener('pageContainerToolbarsHeightChange', () => {\r\n    // this is a fix for pagetoolbar background image\r\n    this.pctb.nativeElement.style.width = (this.pctb.nativeElement.offsetWidth + 1) + 'px';\r\n    this.pctb.nativeElement.style.width = (this.pctb.nativeElement.offsetWidth - 1) + 'px';\r\n});\r\n\r\n}\r\n\r\nngAfterViewInit(): void {\r\n  this.pctbObserver.observe(this.pctb.nativeElement);\r\n  this.pcbObserver.observe(this.pcb.nativeElement);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.pctbObserver.unobserve(this.pctb.nativeElement);\r\n    this.pcbObserver.unobserve(this.pcb.nativeElement);\r\n  }\r\n\r\n  getRealWidth(){ // larghezza effettiva\r\n    return parseInt(getComputedStyle(this.el.nativeElement, null).width.replace('px', ''), 10);\r\n  }\r\n\r\n  getMinWidthInPx(): number{\r\n    if (new RegExp(/^\\d+$/g).test(this.hostWidth)){\r\n      return parseInt(this.hostWidth, 10);\r\n    }else if (new RegExp(/^\\d+(px)$/g).test(this.hostWidth)){\r\n      return parseInt(this.hostWidth.match(/^\\d+/g)[0], 10);\r\n    }else if (new RegExp(/^\\d+(%)$/g).test(this.hostWidth)){\r\n      const parentw = parseInt(getComputedStyle(this.el.nativeElement.parentElement, null).width.replace('px', ''), 10);\r\n      return (parentw / 100) * parseInt(this.hostWidth.match(/^\\d+/g)[0], 10);\r\n    }\r\n  }\r\n\r\n  // getOffsetHeight(s){return s.offsetHeight+\"  -  \"+(new Date()).getTime(); }\r\n\r\n  toolbarsHeightChange(){\r\n      // this.toolbarsHeight = this.pctb.nativeElement.offsetHeight;\r\n      this.zone.run(() => {\r\n        this.ref.detectChanges();\r\n      });\r\n  }\r\n}\r\n","<div class=\"pc-toolbars\" #pctb (cdkObserveContent)=\"toolbarsHeightChange()\" [style.width.px]=\"pcbWidth | async\">\r\n  <ng-content select=\"sii-page-content-toolbar\"  ></ng-content>\r\n</div>\r\n<div class=\"pc-body\" #pcb [style]=\"bodyStyle\" class=\"{{bodyClass}}\"  [style.marginTop.px]=\"pctbFixedHeight | async\">\r\n  <ng-content></ng-content>\r\n</div>\r\n<!-- [style.marginTop.px]=\"getOffsetHeight(pctb)\"  -->\r\n","\r\n  export interface ToolbarMenuDto {\r\n    menu: ToolbarMenuCategory[];\r\n}\r\n\r\n  export interface ToolbarMenuCategory {\r\n  label: string;\r\n  location: string; // interna or esterna\r\n  url: string;\r\n  submenu: ToolbarSubmenu;\r\n}\r\n  export interface ToolbarSubmenu {\r\n  columns: ToolbarSubmenuColumn[];\r\n}\r\n\r\n  export interface ToolbarSubmenuColumn {\r\n  items: ToolbarSubmenuItem[];\r\n}\r\n\r\n  export interface ToolbarSubmenuItem {\r\n      label: string;\r\n      location: string;\r\n      openIn?: ToolbarSubmenuItemOpenIn;\r\n      url: string;\r\n      profiling: string;\r\n      visibleProfiling: boolean;\r\n  }\r\n\r\n\r\n  export enum ToolbarSubmenuItemOpenIn {\r\n    self='self',\r\n    tab='tab',\r\n    popup='popup'\r\n  }\r\n\r\n\r\n\r\n\r\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Inject, Injectable, OnDestroy, Optional } from '@angular/core'; \r\nimport { SiiWaitService } from '../components/wait/sii-wait.service';\r\nimport { SII_APP_REF, SiiToolkitService } from '../sii-toolkit.service';\r\nimport { SiiDownloadItemDTO } from '../dto/i-sii-download.dto';\r\nimport { BehaviorSubject, Observable,  timer } from 'rxjs';\r\nimport { concatMap,  distinctUntilChanged,  tap, switchMap, filter } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SiiDownloadService  {\r\n\r\n  // pulledDownloadFiles$: Observable<SiiDownloadItemDTO[]>;\r\n  servToCall:Observable<SiiDownloadItemDTO[]>;\r\n  utils={\r\n    count:0,\r\n    list:[] as SiiDownloadItemDTO[],\r\n    fetchInProgress:0,\r\n    someChanges:false,\r\n    countChange:false,\r\n    refreshPollInProgress:false\r\n  }\r\n\r\n  constructor(private http: HttpClient,public siiToolkitService: SiiToolkitService,  private waitServ: SiiWaitService,\r\n    @Optional() @Inject(SII_APP_REF) private appRef: string\r\n   ) { \r\n\r\n    if (!siiToolkitService.isServerless && appRef!=null){\r\n      const headers = new HttpHeaders().set('siiHideError', 'true');\r\n      this.servToCall =this.http.get<SiiDownloadItemDTO[]>(`${this.siiToolkitService.environment.domain}/sii_files/fetchDownloadRequest?app=${this.appRef}`, {headers})\r\n      this._fetchData();\r\n    }\r\n  }\r\n   \r\n\r\n\r\n\r\n  _fetchData(){\r\n    this.utils.fetchInProgress++\r\n    this.waitServ.skipNext();\r\n    this.servToCall\r\n    .subscribe(r=>{  \r\n      this.utils.list=r;\r\n      this.utils.count=r.length;\r\n      this.utils.fetchInProgress--;\r\n     });\r\n\r\n  }\r\n  _delete(attach:SiiDownloadItemDTO){\r\n    clearTimeout(attach._readyForDelete);\r\n    this.waitServ.skipNext();\r\n    this.http.post<any>(`${this.siiToolkitService.environment.domain}/sii_files/deleteFile/${attach.id}`,{})\r\n    .subscribe(()=>{\r\n      this.utils.list= this.utils.list.filter(i=>i.id!=attach.id);\r\n      this.utils.count= this.utils.list.length;\r\n      attach._readyForDelete=null;\r\n      \r\n    })\r\n  }\r\n  \r\n  _markReadyForDelete(attach:SiiDownloadItemDTO){\r\n    attach._readyForDelete= setTimeout(() => {attach._readyForDelete=null;}, 5000);\r\n  }\r\n  _clearReadyForTimeout(attach){\r\n    clearTimeout(attach._readyForDelete);\r\n    attach._readyForDelete=null;\r\n  }\r\n\r\n\r\n  _download(id){\r\n    this.http.post<any>(`${this.siiToolkitService.environment.domain}/sii_files/downloadFile/${id}`,\r\n       { },\r\n       { responseType: 'blob' as 'json', observe: 'response' })\r\n       .subscribe((response) => {\r\n        const blob = new Blob([response.body], { type: response.body.type });\r\n          const a = document.createElement(\"a\");\r\n          document.body.appendChild(a);\r\n          a.style.display = \"none\";\r\n          const url = window.URL.createObjectURL(blob);\r\n          a.href = url;\r\n          a.download =response.headers.get('File-Name')!;\r\n          a.click();\r\n          window.URL.revokeObjectURL(url);\r\n\r\n          document.body.removeChild(a);\r\n       })\r\n        ;\r\n  }\r\n\r\n\r\n  refresh(){\r\n\r\n    setTimeout(() => {\r\n\r\n      if(!this.utils.refreshPollInProgress){\r\n        this.utils.refreshPollInProgress=true;\r\n        //aggiorno finchÃ¨ tutti i record non osno completati\r\n      const poll = new BehaviorSubject('');\r\n       const subsc= poll.pipe(\r\n          switchMap(_ =>  timer(0, 1000 * 10).pipe(\r\n            filter(i=>this.utils.fetchInProgress==0),\r\n            tap(i=>this.utils.fetchInProgress++) ,\r\n            tap(i=>this.waitServ.skipNext()),\r\n            concatMap(_ => this.servToCall),\r\n            tap(i=>this.utils.fetchInProgress--) ,\r\n            distinctUntilChanged((a, b) => JSON.stringify(a) === JSON.stringify(b))\r\n            \r\n           )\r\n         )\r\n       ).subscribe(r=>{ \r\n       \r\n        this.utils.list=r;\r\n    \r\n        if( this.utils.count!=r.length){\r\n          this.utils.countChange=true; \r\n          setTimeout(() => {\r\n            this.utils.countChange=false;\r\n          }, 3000);\r\n        }\r\n  \r\n        this.utils.count=r.length;\r\n  \r\n  \r\n  \r\n        if(!r.find(i=>i.status==10)){\r\n          poll.complete();\r\n          subsc.unsubscribe();\r\n          this.utils.refreshPollInProgress=false;\r\n          this.utils.someChanges=true; \r\n        }\r\n        setTimeout(() => {\r\n          this.utils.someChanges=false;\r\n        }, 2000);\r\n       });\r\n        \r\n\r\n      }\r\n    }, 500);\r\n \r\n  }\r\n\r\n\r\n  \r\n\r\n\r\n\r\n}\r\n","import { Component, OnInit, Input, HostBinding } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'sii-badge',\r\n    templateUrl: './badge.component.html',\r\n    styleUrls: ['./badge.component.css'],\r\n    standalone: true\r\n})\r\nexport class BadgeComponent implements OnInit {\r\n  \r\n  primaryColors=['warning','error','success','info'];\r\n  @HostBinding('class') hostClass='';\r\n  @Input() set appearance(val){\r\n    if(val !== undefined && this.primaryColors.indexOf(val)!==-1){\r\n      this.hostClass='sii-badge-appearance-'+val;\r\n    }else{\r\n      this.hostClass='';\r\n    }\r\n  };\r\n\r\n  @HostBinding('style.backgroundColor') styleBgColor='';\r\n  @Input() set background(val){\r\n    if(this.hostClass===''){\r\n      this.styleBgColor=val;\r\n    }\r\n  };\r\n\r\n  @HostBinding('style.color') styleColor='';\r\n  @Input() set color(val){\r\n    if(this.hostClass===''){\r\n      this.styleColor=val;\r\n    }\r\n  };\r\n\r\n\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<ng-content></ng-content>\r\n","import { Component, OnInit, OnDestroy, Input, HostBinding, ElementRef, AfterViewInit, Output, EventEmitter, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { MyselfDTO } from '../../dto/myself.dto';\r\nimport { HelpPageDTO } from '../../dto/help-page.dto';\r\nimport { BehaviorSubject, Observable, Subscription } from 'rxjs';\r\nimport { SiiToolkitService } from '../../sii-toolkit.service';\r\nimport { SiiMenuVoice } from '../menu/global-menu/dto/menu-voice';\r\nimport { SiiEngageService } from '../../service/sii-engage.service';\r\nimport { Router } from '@angular/router';\r\nimport { ToolbarMenuCategory, ToolbarMenuDto, ToolbarSubmenuItemOpenIn } from '../../dto/toolbar-menu.dto';\r\nimport { startWith } from 'rxjs/operators';\r\nimport { SiiMenuFolder } from '../menu/global-menu/dto/menu-folder';\r\nimport { SdacPreviewService } from '../dsii-components/sdac-preview/service/sdac-preview.service';\r\nimport { BreakpointObserver, BreakpointState } from '@angular/cdk/layout';\r\nimport { MatSidenav, MatSidenavContainer } from '@angular/material/sidenav';\r\nimport { SiiBreadcrumbService } from '../breadcrumb/services/breadcrumb.service';\r\nimport { DelegationService } from '../dsii-components/delegation/delegation.service';\r\nimport { SiiDownloadService } from '../../service/sii-download-service';\r\nimport { SiiDownloadItemDTO } from '../../dto/i-sii-download.dto';\r\nimport { SiiDatePipe } from '../util/sii-date.pipe';\r\nimport { MatTabNav, MatTabLink } from '@angular/material/tabs';\r\nimport { ProfileButtonComponent } from '../profile-button/profile-button.component';\r\nimport { BadgeComponent } from '../badge/badge.component';\r\nimport { MatTooltip } from '@angular/material/tooltip';\r\nimport { MatProgressSpinner } from '@angular/material/progress-spinner';\r\nimport { MatBadge } from '@angular/material/badge';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { NgTemplateOutlet, NgClass, AsyncPipe } from '@angular/common';\r\nimport { MatIcon } from '@angular/material/icon';\r\nimport { MatIconButton } from '@angular/material/button';\r\n\r\n@Component({\r\n    selector: 'sii-toolbar',\r\n    templateUrl: './toolbar.component.html',\r\n    styleUrls: ['./toolbar.component.scss'],\r\n    standalone: true,\r\n    imports: [MatIconButton, MatIcon, NgTemplateOutlet, FormsModule, NgClass, MatBadge, MatProgressSpinner, MatTooltip, BadgeComponent, ProfileButtonComponent, MatSidenavContainer, MatSidenav, MatTabNav, MatTabLink, AsyncPipe, SiiDatePipe],\r\n    providers:[SiiDownloadService,SiiDatePipe]\r\n})\r\nexport class ToolbarComponent implements OnInit, OnDestroy, AfterViewInit, OnChanges {\r\n\r\n  @Input() autoHide = true;\r\n  @Input() toolbarTitle: string;\r\n  @Input() menu: SiiMenuVoice[];\r\n  @Input() applicationMenu: ToolbarMenuCategory[] = [];\r\n\r\n  @Input() helpId: string;\r\n  @Input() showEngageSearch = false;\r\n  @Input() showEngageMenu = true;\r\n  // @Input() showGlobalSearch = false;\r\n  // @Input() enableGlobalMenu = false;\r\n  @Input() showCloseButton = false;\r\n  @Output() closeAction = new EventEmitter<void>();\r\n\r\n  helPage: HelpPageDTO;\r\n  menuVoices: BehaviorSubject<ToolbarMenuDto> = new BehaviorSubject<ToolbarMenuDto>({} as ToolbarMenuDto);\r\n  menuMobileOpen = false;\r\n  subMenuOpenStatus = {} as any ;\r\n  mobileToolbar = false;\r\n  activeMobMenu = 'app';\r\n\r\n  menuSidebarVisible = false;\r\n  toggleMenuSidebar(forceStatus?: boolean){  \r\n    if(forceStatus==undefined){\r\n      this.menuSidebarVisible = !this.menuSidebarVisible;\r\n    }else{\r\n      this.menuSidebarVisible = forceStatus;\r\n    }\r\n    !!this.menuSidebarVisible ? document.body.classList.add('unscrollableBody') : document.body.classList.remove('unscrollableBody');\r\n  }\r\n\r\n  // mySelf: MyselfDTO;\r\n  get mySelf(): MyselfDTO{\r\n    return this.siiToolkitService.loggedUser.value;\r\n  }\r\n\r\n  get haveNotification(){\r\n    return this.sdacNotificationCount+this.sdacTicketCount>0\r\n  }\r\n\r\n  get sdacNotification(){\r\n    return this.sdacPreviewService.notificationPreview;\r\n  }\r\n  get sdacTichet(){\r\n    return this.sdacPreviewService.ticketPreview;\r\n  }\r\n  get sdacTicketCount(){\r\n    return this.sdacPreviewService.ticketCount;\r\n  }\r\n  get sdacNotificationCount(){\r\n    return this.sdacPreviewService.notificationCount;\r\n  }\r\n  get corporateItCalendarEvents(){\r\n    return this.engageServ.corporateCalendarEvents;\r\n  }\r\n  get corporateItCalendarEventsCount(){\r\n    return this.engageServ.corporateCalendarEventsCount;\r\n  }\r\n\r\n  get isServerless(){return this.siiToolkitService.isServerless ; }\r\n  get isEngage(){return this.engageServ.isEngage ; }\r\n  get isEngageAvailable(){return this.engageServ.engageAvailable ; }\r\n\r\n\r\n  get engMenuOk(){\r\n    return this.isEngageAvailable && !!this.menuVoices.value?.menu;\r\n  }\r\n\r\n  get appMenuOk(){\r\n    return this.applicationMenu?.length !== 0 ;\r\n  }\r\n\r\n  get appMenuActive(){\r\n    return this.activeMobMenu === 'app';\r\n  }\r\n\r\n  private readonly subscriptions: Subscription  = new Subscription();\r\n\r\n  // @HostBinding('style.box-shadow') boxShadow = 'initial';\r\n  @HostBinding('style.box-shadow') get boxShadow(){\r\n    return this.siiToolkitService.loggedUser.value.toolbarMode === undefined ? 'initial' :\r\n    this.siiToolkitService.loggedUser.value.toolbarMode + ' 0px 2px 20px 16px inset';\r\n  }\r\n\r\n\r\n\r\n  constructor(private siiToolkitService: SiiToolkitService,\r\n              public  el: ElementRef,\r\n              private engageServ: SiiEngageService,\r\n              private sdacPreviewService: SdacPreviewService,\r\n              public router: Router,\r\n              public breakpointObserver: BreakpointObserver, \r\n              private siiBreadcrumbServ: SiiBreadcrumbService,\r\n              public delegationService: DelegationService,\r\n            public siiDownloadService:SiiDownloadService) {\r\n\r\n\r\n\r\n\r\n      this.breakpointObserver\r\n    .observe(['(max-width: 1050px)'])\r\n    .subscribe((state: BreakpointState) => {        this.mobileToolbar = state.matches;      });\r\n\r\n  }\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (!!changes.menu){\r\n      this.applicationMenu = (changes.menu.currentValue as SiiMenuVoice[]).map((m) => ({\r\n        label: m.title,\r\n        location: 'interna',\r\n        url: m.link\r\n      } as ToolbarMenuCategory ));\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n\r\n    if (this.isEngage || this.showEngageMenu){\r\n      this.engageServ.getToolbarMenuVoices().subscribe((res) => {\r\n      this.menuVoices.next(res);\r\n      this.engageServ.currentMenu.pipe(startWith(this.engageServ.currentMenu.value))\r\n      .subscribe((currMenRes) => {\r\n        if (currMenRes.length > 0){\r\n          this.checkProfiledVoices(currMenRes);\r\n        }\r\n      });\r\n    });\r\n    }\r\n\r\n    if (this.helpId !== undefined){\r\n      this.subscriptions.add(\r\n        this.siiToolkitService.getHelpPage(this.helpId).subscribe( (helPage) => {\r\n          this.helPage = helPage;\r\n        }));\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    // not needed since it's a cold observable but good practice\r\n    this.subscriptions.unsubscribe();\r\n    document.body.classList.remove('unscrollableBody');\r\n  }\r\n\r\n  goToHelpPage() {\r\n    if (this.helPage && this.helPage.url) {\r\n      window.open(this.helPage.url);\r\n    }\r\n  }\r\n\r\n  closeAct(){\r\n    this.closeAction.next();\r\n  }\r\n\r\nopenUrlInWindow(url:string, openIn?:ToolbarSubmenuItemOpenIn){\r\n\r\n\r\n   if(openIn==ToolbarSubmenuItemOpenIn.self){\r\n    window.open(url,'_self');\r\n  }else if(openIn==ToolbarSubmenuItemOpenIn.tab){\r\n    window.open(url,'_blank');\r\n  }else{\r\n     window.open(url,'_blank',`target=_blank,width=4000,height=4000`)\r\n  }\r\n\r\n\r\n}\r\n\r\n  navigateUrl(voice: any, engageVoice= false){\r\n    this.siiBreadcrumbServ.reset();\r\n    if ((engageVoice && this.engageServ.isEngage && voice.location === 'interna') || (!engageVoice && voice.location !== 'esterna' )){\r\n      const splu = voice.url.split('?');\r\n      let qp = {};\r\n      if (!!splu[1]){\r\n        qp = splu[1].split('&').map(i => i.split('=')).reduce((acc, item) => {acc[item[0]] = item[1]; return acc; }, {});\r\n      }\r\n      this.router.navigate([splu[0]], { queryParams: qp});\r\n    }else{\r\n// debugger\r\n      //aggiungo la company di default\r\n      const duc = window.localStorage.getItem('defaultUserCompany-' + this.mySelf.workerId);\r\n      if(!!duc){\r\n        let urlToCall= voice.url;\r\n        if (urlToCall.indexOf('?') < 0) {\r\n          urlToCall += '?';\r\n        }\r\n        urlToCall += '&WebCacheLocalId=' + new Date().getTime().toString();\r\n        urlToCall += '&soccodice=' + duc;\r\n        this.openUrlInWindow(urlToCall, voice.openIn);\r\n      }else{\r\n        this.openUrlInWindow(voice.url, voice.openIn);\r\n      }\r\n    }\r\n  }\r\n\r\n  performSearch(txtSearch?: string){\r\n    if (this.engageServ.engageAvailable){\r\n      if (this.engageServ.isEngage){\r\n        this.router.navigate(['search'], { queryParams: (!!txtSearch ? { search: txtSearch } : {} )});\r\n      }else{\r\n        this.openUrlInWindow(this.engageServ.engageDomain + (!!txtSearch ? `search?search=${txtSearch}` : 'search') );\r\n      }\r\n    }else{\r\n      alert('enagage unavailable');\r\n    }\r\n  }\r\n\r\n  checkProfiledVoices(voices: SiiMenuFolder[]){\r\n    const tmpMenu = this.menuVoices.getValue();\r\n    // mostro le voci della navbar se l utente  ne ha visibilitÃ \r\n    voices.forEach(category => {\r\n      category.voices.forEach(voice => {\r\n        tmpMenu.menu.forEach(mv => {mv.submenu?.columns.forEach(sc => {\r\n          sc.items?.forEach(v => {\r\n            if (v.profiling === voice.id){v.visibleProfiling = true; }}); });\r\n          });\r\n      });\r\n    });\r\n    this.menuVoices.next(tmpMenu);\r\n\r\n  }\r\n\r\n  goToHome(){\r\n    this.router.navigate(['/']);\r\n  }\r\n\r\n\r\n  mobileMenuClick(){\r\n    this.subMenuOpenStatus = {};\r\n    this.menuMobileOpen = !this.menuMobileOpen;\r\n  }\r\n  toggleSubmenu(event: any, smIndex: number|string){\r\n    event.stopImmediatePropagation();\r\n    this.subMenuOpenStatus[smIndex] = !this.subMenuOpenStatus[smIndex];\r\n  }\r\n\r\n  doLogout() {\r\n    window.location.href = `${this.siiToolkitService.environment.domain}/sii_common/logout`;\r\n }\r\n\r\n doDelegation() {\r\n  this.delegationService.openDelegation();\r\n }\r\n\r\n doDelegationLogout(){\r\n   this.delegationService.logout();\r\n }\r\n\r\n\r\n\r\n openSdacTiketsByCode(code?){\r\n  this.sdacPreviewService.openSdacTiketsByCode(code);\r\n}\r\nopenSdacNotification(){\r\n  this.sdacPreviewService.openSdacType(true);\r\n}\r\nopenSdacTicket(){\r\n  this.sdacPreviewService.openSdacType(false);\r\n}\r\n\r\ngoToDeadlines(){\r\n  if (this.engageServ.isEngage){\r\n    this.router.navigateByUrl('deadlines');\r\n  }else{\r\n  this.openUrlInWindow(this.engageServ.engageDomain + '/deadlines' );\r\n  }\r\n}\r\n\r\ngoToProfile(){\r\n  if (this.engageServ.isEngage){\r\n    this.router.navigateByUrl('profile');\r\n  }else{\r\n    this.openUrlInWindow(this.engageServ.engageDomain + '/profile' );\r\n  }\r\n}\r\n\r\n  // sidenavVisibleChange(visible: boolean){\r\n  //   // document.body.style.overflow = visible ? 'hidden' : '';\r\n  //   visible ? document.body.classList.add('unscrollableBody') : document.body.classList.remove('unscrollableBody');\r\n  // }\r\n\r\n  toggleProfileInfo(  event: any){\r\n    const status = !this.subMenuOpenStatus.profile;\r\n    if (this.mobileToolbar){\r\n      event.stopImmediatePropagation();\r\n      this.menuMobileOpen = status;\r\n      this.toggleMenuSidebar(status);\r\n      this.subMenuOpenStatus.profile = status;\r\n    }\r\n  }\r\n\r\n \r\n}\r\n","\r\n\r\n@if (showCloseButton) {\r\n  <button mat-icon-button aria-label=\"Close\" (click)=\"closeAct()\">\r\n    <mat-icon>close</mat-icon>\r\n  </button>\r\n}\r\n\r\n<!-- <sii-menu *ngIf=\"(menu && menu.length>0) || enableGlobalMenu\" [voices]=\"menu\" [enableGlobalMenu]=\"enableGlobalMenu\"></sii-menu> -->\r\n<!-- <img class=\"sii-toolbar__logo\" src=\"assets/icons/logo.png\" > -->\r\n<div class=\"sii-toolbar_logo_box\" (click)=\"goToHome()\" >\r\n  <mat-icon class=\"sii-toolbar_logo_engage\" svgIcon=\"logo_engage\"></mat-icon>\r\n  <div class=\"sii-toolbar__title\"> {{toolbarTitle}} </div>\r\n</div>\r\n<div class=\"sii-toolbar__container\" >\r\n  <!-- <div class=\"sii-toolbar__title\"> {{toolbarTitle}} </div> -->\r\n  <div class=\"sii-toolbar__content\">\r\n\r\n    <!--\r\n\r\n    isEngage  |  appMenuOk | engMenuOk |  eng  | app | minEng\r\n    1          1           1         -       1     1\r\n    1          1           0         -       1     -\r\n    1          0           1         1       -     -\r\n    1          0           0         -       -     -\r\n    0          1           1         -       1     1\r\n    0          1           0         -       1     -\r\n    0          0           1         -       -     1\r\n    0          0           0         -       -     -\r\n\r\n    eng     => isEngage && engMenuOk && !appMenuOk\r\n    app     => appMenuOk\r\n    minEng  => (isEngage && appMenuOk && engMenuOk) || (!isEngage && engMenuOk)\r\n\r\n    -->\r\n\r\n\r\n\r\n    @if ( isEngage && engMenuOk && !appMenuOk) {\r\n      <ng-container  *ngTemplateOutlet=\"toolbarMenuTemplate;context:{$implicit: (menuVoices | async)?.menu, isEngageMenu:true}\" >    </ng-container>\r\n    }\r\n\r\n    @if (appMenuOk) {\r\n      <ng-container  *ngTemplateOutlet=\"toolbarMenuTemplate;context:{$implicit: applicationMenu , isEngageMenu:false}\" >    </ng-container>\r\n    }\r\n\r\n\r\n    <span [style.marginLeft]=\"'auto'\"></span>\r\n\r\n    <ng-content></ng-content>\r\n\r\n\r\n\r\n\r\n    <!-- <sii-global-search *ngIf=\"showGlobalSearch\"></sii-global-search> -->\r\n    <ul class=\"sii_toolbar_navbar_nav searchNavItem\" style=\"padding-right: 0;\">\r\n      <!-- search -->\r\n      @if (isEngage || showEngageSearch) {\r\n        <li class=\"sii_toolbar_nav_item\" >\r\n          <a class=\"sii_toolbar_nav_link searchLink\" aria-label=\"Search\"><span class=\"toolbarSearchLabel\" >Search</span> <mat-icon class=\"search-icon\" >search</mat-icon></a>\r\n          <div class=\"toolbarMenuSubVoices searchPanel\">\r\n            <div>\r\n              <form class=\"search-form\"  (submit)=\"performSearch(dsv.value); $event.preventDefault()\">\r\n                <input #dsv id=\"search-form-input\" type=\"text\" name=\"search\" i18n-placeholder=\"@@toolbarSearchMessage\" placeholder=\"What are you looking for?\" class=\"search-form__search-input\">\r\n                <button mat-icon-button   type=\"submit\" aria-label=\"search\" >\r\n                  <mat-icon>search</mat-icon>\r\n                </button>\r\n              </form>\r\n            </div>\r\n            <div class=\"search-actions\">\r\n              <a tabindex=\"0\" (click)=\"performSearch()\"   title=\"\" class=\"top-sii_toolbar_nav_link\">\r\n                <mat-icon class=\"advsearchIcon\">tune</mat-icon> <b i18n=\"@@toolbar_advancedSearch\">Advanced Search</b><mat-icon>chevron_right</mat-icon>\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </li>\r\n      }\r\n      <!-- <li class=\"sii_toolbar_nav_item gotosiiwebButton\" *ngIf=\"isEngage\" >\r\n      <a class=\"sii_toolbar_nav_link \" href=\"https://siiweb.eng.it\" target=\"_blank\" title=\"\">Go To Siiweb  1<mat-icon>launch</mat-icon></a>\r\n    </li> -->\r\n    @if ((isEngage && appMenuOk && engMenuOk) || (!isEngage && engMenuOk)) {\r\n      <li class=\"sii_toolbar_nav_item engageMenuItem\">\r\n        <a class=\"sii_toolbar_nav_link engageMenuItem_link\" aria-label=\"menu engage\">Menu Engage</a>\r\n        <div class=\"engageMenuItem_box\">\r\n          <ng-container  *ngTemplateOutlet=\"toolbarMenuTemplate;context:{$implicit:(menuVoices | async)?.menu , isEngageMenu:true}\" >    </ng-container>\r\n        </div>\r\n      </li>\r\n    }\r\n\r\n    @if (helPage) {\r\n      <li class=\"sii_toolbar_nav_item sii-toolbar__icon_button \" >\r\n        <a class=\"sii_toolbar_nav_link\" aria-label=\"help\" (click)=\"goToHelpPage()\">\r\n          <mat-icon svgIcon=\"sii-help-online\"></mat-icon>\r\n        </a>\r\n      </li>\r\n    }\r\n\r\n\r\n\r\n    @if (!isServerless && siiDownloadService.utils.count>0) {\r\n      <li class=\"sii_toolbar_nav_item sii-toolbar__icon_button alwaysVisible\" >\r\n        <a class=\"sii_toolbar_nav_link\" aria-label=\"Attachments\">\r\n          <mat-icon aria-hidden=\"false\" [ngClass]=\"{'changeIncoming':siiDownloadService.utils.someChanges,'changeRequired':siiDownloadService.utils.countChange}\" [matBadge]=\"siiDownloadService.utils.count\" matBadgeColor=\"primary\" matBadgePosition=\"before\" matBadgeSize=\"small\" svgIcon=\"menu-download\"></mat-icon>\r\n        </a>\r\n        <div class=\"toolbarSmallContainer\">\r\n          <p class=\"text-uppercase categoryTitle\" style=\"display: flex;\">\r\n            <b style=\"margin-right:10px ;\" i18n=\"@@appDownload\">Downloaded files</b>\r\n            @if (siiDownloadService.utils.fetchInProgress>0) {\r\n              <mat-spinner [color]=\"'accent'\" [diameter]=\"20\"></mat-spinner>\r\n            }\r\n            @if (siiDownloadService.utils.fetchInProgress==0) {\r\n              <button style=\"margin: -15px 0 -13px -11px;\" mat-icon-button (click)=\"siiDownloadService._fetchData()\"><mat-icon>refresh</mat-icon></button>\r\n            }\r\n          </p>\r\n          <div class=\" attachmentContainer \"  >\r\n            @for (attach of siiDownloadService.utils.list ; track attach) {\r\n              <div  class=\"attachmentRow\">\r\n                <div class=\"attachmentInfoPanel\">\r\n                  <span class=\"attachNameLabel\">{{attach.fileName}}</span>\r\n                  <div class=\"attachSubRow\">{{attach.createdDate | siiDate:true}}</div>\r\n                </div>\r\n                <div class=\"attachment_action\">\r\n                  @if (attach.status==10) {\r\n                    <mat-spinner [diameter]=\"30\"></mat-spinner>\r\n                  }\r\n                  @if (attach.status==30) {\r\n                    <button  mat-icon-button style=\"margin-right: -12px;    margin-top: -10px;\" (click)=\"siiDownloadService._download(attach.id)\" ><mat-icon>download</mat-icon></button>\r\n                  }\r\n                  @if (attach.status==40) {\r\n                    <mat-icon  style=\"color: red;\" [matTooltip]=\"attach.error\">error_outline</mat-icon>\r\n                  }\r\n                  @if (!attach._readyForDelete) {\r\n                    <button  mat-icon-button class=\"attachDeleteButton\" (click)=\"siiDownloadService._markReadyForDelete(attach)\" ><mat-icon>delete</mat-icon></button>\r\n                  }\r\n                  @if (!!attach._readyForDelete) {\r\n                    <div class=\"delete_action_panel\" >\r\n                      <button  mat-icon-button  (click)=\"siiDownloadService._clearReadyForTimeout(attach)\" ><mat-icon>clear</mat-icon></button>\r\n                      <button  mat-icon-button   (click)=\"siiDownloadService._delete(attach)\" ><mat-icon>check</mat-icon></button>\r\n                    </div>\r\n                  }\r\n                </div>\r\n              </div>\r\n            }\r\n          </div>\r\n        </div>\r\n      </li>\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    @if (!isServerless && !!haveNotification) {\r\n      <li class=\"sii_toolbar_nav_item sii-toolbar__icon_button\" >\r\n        <a class=\"sii_toolbar_nav_link\" aria-label=\"Notification\">\r\n          <mat-icon aria-hidden=\"false\" [matBadge]=\"sdacTicketCount+sdacNotificationCount\" matBadgeColor=\"primary\" matBadgePosition=\"before\" matBadgeSize=\"small\" svgIcon=\"menu-notifications\"></mat-icon>\r\n        </a>\r\n        <div class=\"toolbarSmallContainer\">\r\n          @if (sdacNotificationCount!=0) {\r\n            <p class=\"text-uppercase categoryTitle\"><b i18n=\"@@toolbar_Notification\">Notification</b></p>\r\n            <div class=\" notificheContainer \"  >\r\n              @for (ticket of sdacNotification | async ; track ticket) {\r\n                <div  (click)=\"openSdacTiketsByCode(ticket.ssCode)\">\r\n                  <span class=\"notificheContainerLabel\">{{ticket.ssDescr}}</span>\r\n                  <div class=\"notifSub\" >{{ticket.count}} <span i18n=\"@@ticket_items\">{ticket.count,plural,=1 {Item} other {Items}}</span></div>\r\n                </div>\r\n              }\r\n            </div>\r\n            <div (click)=\"openSdacNotification()\"  class=\"allNotif\"><b i18n=\"@@toolbar_seeAllNotification\">See all notification</b> <mat-icon>navigate_next</mat-icon></div>\r\n          }\r\n          @if (sdacTicketCount!=0) {\r\n            <p class=\"text-uppercase categoryTitle\"><b i18n=\"@@toolbar_taskManagement\">Task Management</b></p>\r\n            <div class=\" notificheContainer \"  >\r\n              @for (ticket of sdacTichet | async ; track ticket) {\r\n                <div  (click)=\"openSdacTiketsByCode(ticket.ssCode)\">\r\n                  <span class=\"notificheContainerLabel\">{{ticket.ssDescr}}</span>\r\n                  <div class=\"notifSub\"  >{{ticket.count}} <span i18n=\"@@task_ite\">{ticket.count,plural,=1 {Task} other {Tasks}}</span></div>\r\n                </div>\r\n              }\r\n            </div>\r\n            <div (click)=\"openSdacTicket()\"  class=\"allNotif\"><b i18n=\"@@toolbar_seeAllTask\">See all tasks</b> <mat-icon>navigate_next</mat-icon></div>\r\n          }\r\n        </div>\r\n      </li>\r\n    }\r\n    @if (!isServerless) {\r\n      <li class=\"sii_toolbar_nav_item sii-toolbar__icon_button\" >\r\n        <a class=\"sii_toolbar_nav_link\" aria-label=\"event\">\r\n          <mat-icon aria-hidden=\"false\" [matBadge]=\"corporateItCalendarEventsCount\" matBadgeColor=\"warn\" matBadgePosition=\"before\" matBadgeSize=\"small\" [matBadgeHidden]=\"corporateItCalendarEventsCount==0\" svgIcon=\"menu-calendar\" ></mat-icon>\r\n        </a>\r\n        <div class=\"toolbarSmallContainer\">\r\n          <!-- <ng-container *ngIf=\"corporateItCalendarEventsCount>0\"> -->\r\n          <p class=\"text-uppercase categoryTitle\"><b  i18n=\"@@toolbar_deadlines\">Deadlines</b></p>\r\n          <div  class=\"notificheContainer\">\r\n            @for (item of corporateItCalendarEvents | async; track item; let index = $index) {\r\n              @if (!item.hideData && item.status=='SCADENZA_OGGI') {\r\n                <p style=\"width:100%\"><sii-badge style=\"padding: 2px 10px; font-weight: 700;\" [background]=\"'#ff9db4'\" [color]=\"'black'\" i18n=\"@@deadline_today\">today</sii-badge></p>\r\n              }\r\n              @if (!item.hideData && item.status=='IN_SCADENZA') {\r\n                <p style=\"width:100%\">  <sii-badge style=\"padding: 2px 10px; font-weight: 700;\" [background]=\"'#eabf30'\" [color]=\"'black'\" i18n=\"@@deadline_tomorrow\">tomorrow</sii-badge></p>\r\n              }\r\n              <div >\r\n                <div class=\"notificheContainerLabel\" style=\"margin-bottom:20px;\">@if (!item.isAllDay) {\r\n                  <span>{{item.time}} - </span>\r\n                }{{item.subject}}</div>\r\n              </div>\r\n            }\r\n          </div>\r\n          <div  (click)=\"goToDeadlines()\"  class=\"allNotif\"><b i18n=\"@@toolbar_allDeadlines\">See all deadlines</b> <mat-icon>navigate_next</mat-icon></div>\r\n        </div>\r\n      </li>\r\n    }\r\n\r\n    @if (!isServerless) {\r\n      <li class=\"sii_toolbar_nav_item sii_toolbar_profile_link\" >\r\n        <sii-profile-button style=\"padding-left: 7px;\"   [mySelf]='mySelf' (click)=\"toggleProfileInfo($event)\" [hideDetail]=\"mobileToolbar\"></sii-profile-button>\r\n      </li>\r\n    }\r\n  </ul>\r\n\r\n\r\n\r\n\r\n  <div role=\"button\" aria-label=\"menu\" (click)=\"mobileMenuClick();toggleMenuSidebar();\" id=\"menuToggle\" class=\"hidden-lg-up\">\r\n    <div class=\"sii_toolbar_manu_bar\" [ngClass]=\"{'animate':menuMobileOpen}\"></div>\r\n  </div>\r\n</div>\r\n\r\n</div>\r\n\r\n@if (menuSidebarVisible) {\r\n<div class=\"menu-sidebar\">\r\n<!-- <mat-sidenav-container > -->\r\n  <!-- <mat-sidenav class=\"menuSidenav\" #snav  mode=\"side\" position=\"end\" fixedInViewport=\"true\" fixedTopGap=\"72\"  > -->\r\n\r\n\r\n\r\n\r\n    <ul class=\"sii_toolbar_mobile-navbar\">\r\n\r\n      <!--\r\n\r\n      appMenuActive  |  appMenuOk | engMenuOk |  toolbar | eng  | app\r\n      1          1           1          V       -       V\r\n      1          1           0          -       -       V\r\n      1          0           1          -       V       -\r\n      1          0           0          -       -       -\r\n      0          1           1          V       V       -\r\n      0          1           0          -       -       V\r\n      0          0           1          -       V       -\r\n      0          0           0          -       -       -\r\n\r\n      toolbar => appMenuOk && engMenuOk\r\n      eng     => (appMenuOk && engMenuOk && !appMenuActive) || (engMenuOk && !appMenuOk)\r\n      app     => (appMenuOk && engMenuOk && appMenuActive) ||  (!engMenuOk && appMenuOk)\r\n\r\n      -->\r\n\r\n\r\n\r\n\r\n      @if (appMenuOk && engMenuOk) {\r\n        <nav mat-tab-nav-bar mat-stretch-tabs class=\"sidenavMenuNav\"\r\n          >\r\n          <!-- *ngIf=\"!isEngage && isEngageAvailable && applicationMenu.length>0  && (menuVoices | async)?.menu   \"> -->\r\n          <a mat-tab-link (click)=\"activeMobMenu = 'app'\"       [active]=\"appMenuActive\" >Menu App</a>\r\n          <a mat-tab-link (click)=\"activeMobMenu = 'engage'\"    [active]=\"!appMenuActive\" >Menu Engage</a>\r\n        </nav>\r\n      }\r\n\r\n      @if ((appMenuOk && engMenuOk && !appMenuActive) || (engMenuOk && !appMenuOk) ) {\r\n        <!-- <ng-container *ngIf=\"isEngage || (applicationMenu.length==0 && isEngageAvailable && (menuVoices | async)?.menu) || activeMobMenu == 'engage' \"> -->\r\n        <ng-container  *ngTemplateOutlet=\"toolbarMobileMenuTemplate;context:{$implicit: (menuVoices | async)?.menu, isEngageMenu:true}\" >    </ng-container>\r\n      }\r\n\r\n      @if ((appMenuOk && engMenuOk && appMenuActive) ||  (!engMenuOk && appMenuOk) ) {\r\n        <ng-container  *ngTemplateOutlet=\"toolbarMobileMenuTemplate;context:{$implicit: applicationMenu , isEngageMenu:false}\" >    </ng-container>\r\n      }\r\n\r\n\r\n      <li class=\"custom-divider\"></li>\r\n\r\n\r\n      @if (isEngage) {\r\n        <li class=\"sii_toolbar_nav_item \"><a class=\"sii_toolbar_nav_link \" href=\"https://siiweb.eng.it\" target=\"_blank\" title=\"\"><span i18n=\"@@navbar_goToSiiweb\">Go To Siiweb</span> <mat-icon>chevron_right</mat-icon></a></li>\r\n      }\r\n      @if (helPage) {\r\n        <li class=\"sii_toolbar_nav_item \"  ><a class=\"sii_toolbar_nav_link \" (click)=\"goToHelpPage()\" tabindex=\"0\" title=\"\"><span i18n=\"@@navbar_goToHelpPage\">Go To Help Page</span> <mat-icon>chevron_right</mat-icon></a></li>\r\n      }\r\n\r\n      <li class=\"sii_toolbar_nav_item  profile\" >\r\n        <!-- <sii-profile-button (click)=\"toggleSubmenu($event,'profile')\" [mySelf]='mySelf' [hideDetail]=\"true\"></sii-profile-button> -->\r\n        <!-- <mat-icon style=\"margin-left: 10px;\" (click)=\"toggleSubmenu($event,'profile')\" >chevron_right</mat-icon> -->\r\n        <div class=\"sii_toolbar_submenu\" [ngClass]=\"!!subMenuOpenStatus['profile']?'is-open':'is-closed' \">\r\n          <mat-icon  class=\"sii_toolbar_submenu-icon-back\" (click)=\"toggleProfileInfo($event)\">chevron_left</mat-icon>\r\n          <ul class=\"sii_toolbar_subnav notification\">\r\n\r\n            <li><p><b >{{mySelf?.firstName}} {{mySelf?.lastName}}</b></p></li>\r\n            <li class=\"sii_toolbar_subnav-item\">\r\n              <div class=\"profile\">\r\n                <!-- Dettagli utente -->\r\n                <dl class=\"eng-user-details\">\r\n                  <dt  i18n=\"@@toolbar_workerId\">Worker ID</dt>\r\n                  <dd >{{mySelf?.workerId}}</dd>\r\n                  <dt ><abbr i18n-title=\"@@toolbar_cc\" title=\"Competence Center\" i18n=\"@@toolbar_cc_dim\">CC</abbr></dt>\r\n                  <dd>{{mySelf?.costCenterId}}</dd>\r\n                  <dt ><abbr  i18n=\"@@toolbar_manager\">Manager</abbr></dt>\r\n                  <dd >{{mySelf.costCenterResp?.firstName}} {{mySelf.costCenterResp?.lastName}}</dd>\r\n                  @if (!!mySelf.tutorWorkerId) {\r\n                    <dt ><abbr i18n=\"@@toolbar_tutor\">Tutor</abbr></dt>\r\n                    <dd>{{mySelf.tutorFistName}} {{mySelf.tutorLastName}}</dd>\r\n                  }\r\n\r\n                  @if (!!mySelf.evaluatorWorkerId) {\r\n                    <dt ><abbr i18n=\"@@toolbar_evaluator\">Evaluator</abbr></dt>\r\n                    <dd>{{mySelf.evaluatorFistName}} {{mySelf.evaluatorLastName}}</dd>\r\n                  }\r\n                </dl>\r\n              </div>\r\n            </li>\r\n            <ul class=\"list-unstyled user-actions\">\r\n              <li><a (click)=\"goToProfile()\"   tabindex=\"0\"  title=\"\" class=\"\"><b i18n=\"@@navbar_goToProfile\">Go To Profile</b> <mat-icon>navigate_next</mat-icon></a></li>\r\n              <li><a href=\"https://password.eng.it/\" target=\"_blank\" title=\"\" class=\"\"><b i18n=\"@@navbar_changePassford\">Change Password</b> <mat-icon>navigate_next</mat-icon></a></li>\r\n              <li><a href=\"https://mysignins.microsoft.com/security-info\" target=\"_blank\" title=\"\" class=\"\"><b i18n=\"@@navbar_mfaSettings\">MFA Settings</b> <mat-icon>navigate_next</mat-icon></a></li>\r\n              <li><a  (click)=\"doLogout()\" tabindex=\"0\" title=\"\" class=\"\"><b i18n=\"@@navbar_logout\">Logout</b> <mat-icon>navigate_next</mat-icon></a></li>\r\n              @if (!!mySelf.delegatedUsers) {\r\n                <li><a  (click)=\"doDelegation()\"     title=\"\" class=\"\"><b i18n=\"@@DelegateLogin\">Login as delegated</b> <mat-icon>navigate_next</mat-icon></a></li>\r\n              }\r\n              @if (!!mySelf.isInDelegation) {\r\n                <li><a (click)=\"doDelegationLogout()\" title=\"\" class=\"\"><b ii18n=\"@@DelegateLogout\">Logout from delegation</b> <mat-icon>navigate_next</mat-icon></a></li>\r\n              }\r\n\r\n            </ul>\r\n\r\n            <li class=\"custom-divider mr-4 \"></li>\r\n\r\n            @if (corporateItCalendarEventsCount!=0) {\r\n              <li><p><b i18n=\"@@toolbar_deadlines\">Deadlines</b></p></li>\r\n              @for (item of corporateItCalendarEvents | async; track item; let index = $index) {\r\n                @if (!item.hideData && item.status=='SCADENZA_OGGI') {\r\n                  <p style=\"width:100% ; margin-top: 1em;\"><sii-badge style=\"padding: 2px 10px; font-weight: 700;\" [background]=\"'#ff9db4'\" [color]=\"'black'\" i18n=\"@@deadline_today\" >today</sii-badge></p>\r\n                }\r\n                @if (!item.hideData && item.status=='IN_SCADENZA') {\r\n                  <p style=\"width:100% ; margin-top: 1em;\">  <sii-badge style=\"padding: 2px 10px; font-weight: 700;\" [background]=\"'#eabf30'\" [color]=\"'black'\" i18n=\"@@deadline_tomorrow\" >tomorrow</sii-badge></p>\r\n                }\r\n                <li  class=\"sii_toolbar_subnav-item\" >\r\n                  <div class=\"notifPreview\">\r\n                    <div  style=\"margin-bottom:20px;\" class=\"notifLabel\">@if (!item.isAllDay) {\r\n                      <span >{{item.time}} - </span>\r\n                    }{{item.subject}}</div>\r\n                    <!-- <div style=\"margin-bottom:12px;\">{{item.date}}</div> -->\r\n                  </div>\r\n                </li>\r\n              }\r\n              <div  (click)=\"goToDeadlines()\"  class=\"allNotif\"><b i18n=\"@@toolbar_allDeadlines\">See all deadlines</b> <mat-icon>navigate_next</mat-icon></div>\r\n              <li class=\"custom-divider mr-4 \"></li>\r\n            }\r\n            @if (sdacNotificationCount!=0) {\r\n              <li class=\"sdacFieldRef\"><p><b i18n=\"@@toolbar_Notification\">Notification</b></p></li>\r\n              @for (ticket of sdacNotification | async ; track ticket) {\r\n                <li class=\"sii_toolbar_subnav-item\">\r\n                  <div class=\"notifPreview\"  (click)=\"openSdacTiketsByCode(ticket.ssCode)\">\r\n                    <span class=\"notifLabel\">{{ticket.ssDescr}}</span>\r\n                    <div style=\"margin-bottom:12px;\">{{ticket.count}} <span i18n=\"@@ticket_items\">{ticket.count,plural,=1 {Item} other {Items}}</span></div>\r\n                  </div>\r\n                </li>\r\n              }\r\n              <div (click)=\"openSdacNotification()\"  class=\"allNotif\"><b i18n=\"@@toolbar_seeAllNotification\">See all notification</b> <mat-icon>navigate_next</mat-icon></div>\r\n              <li class=\"custom-divider mr-4\"></li>\r\n            }\r\n\r\n            @if (sdacTicketCount!=0) {\r\n              <li class=\"sdacFieldRef\"><p><b i18n=\"@@toolbar_taskManagement\">Task Management</b></p></li>\r\n              @for (ticket of sdacTichet | async ; track ticket) {\r\n                <li class=\"sii_toolbar_subnav-item\">\r\n                  <div class=\"notifPreview\"  (click)=\"openSdacTiketsByCode(ticket.ssCode)\">\r\n                    <span class=\"notifLabel\">{{ticket.ssDescr}}</span>\r\n                    <div style=\"margin-bottom:12px;\">{{ticket.count}} <span i18n=\"@@task_ite\">{ticket.count,plural,=1 {Task} other {Tasks}}</span></div>\r\n                  </div>\r\n                </li>\r\n              }\r\n              <div (click)=\"openSdacTicket()\"  class=\"allNotif\"><b i18n=\"@@toolbar_seeAllTask\">See all tasks</b> <mat-icon>navigate_next</mat-icon></div>\r\n              <li class=\"custom-divider mr-4\"></li>\r\n            }\r\n\r\n\r\n\r\n          </ul>\r\n        </div>\r\n\r\n      </li>\r\n    </ul>\r\n  <!-- </mat-sidenav> -->\r\n<!-- </mat-sidenav-container> -->\r\n</div>\r\n}\r\n\r\n\r\n\r\n<ng-template #toolbarMobileMenuTemplate let-currMenu let-isEngageMenu=\"isEngageMenu\">\r\n\r\n  @for (menu of currMenu; track menu; let menuIndex = $index) {\r\n    <li class=\"sii_toolbar_nav_item\"   >\r\n      @if (!menu.submenu || !menu.submenu.columns) {\r\n        <a class=\"sii_toolbar_nav_link\" [ngClass]=\"{'mobileCurrentPage':router.url==menu.url}\"  tabindex=\"0\" (click)=\"navigateUrl(menu,isEngageMenu)\" [title]=\"menu.label\">{{menu.label}}</a>\r\n      }\r\n      @if (menu.submenu && menu.submenu.columns) {\r\n        <a (click)=\"toggleSubmenu($event,menuIndex)\"  class=\"sii_toolbar_nav_link\" [ngClass]=\"{'mobileCurrentPage':router.url==menu.url}\"  [title]=\"menu.label\">{{menu.label}}\r\n          <mat-icon>chevron_right</mat-icon>\r\n        </a>\r\n        <div class=\"sii_toolbar_submenu \" [ngClass]=\"!!subMenuOpenStatus[menuIndex]?'is-open':'is-closed' \" >\r\n          <mat-icon  class=\"sii_toolbar_submenu-icon-back\" (click)=\"toggleSubmenu($event,menuIndex)\">chevron_left</mat-icon>\r\n          <ul class=\"sii_toolbar_subnav\">\r\n            @for (colMenu of menu.submenu.columns; track colMenu) {\r\n              @for (mv of colMenu.items; track mv) {\r\n                @if (!mv.profiling || !!mv.visibleProfiling) {\r\n                  <li   class=\"sii_toolbar_subnav-item\" >\r\n                    <a  class=\"sii_toolbar_subnav__link\" [ngClass]=\"{'mobileCurrentPage':router.url==mv.url}\" tabindex=\"0\" (click)=\"navigateUrl(mv,isEngageMenu);$event.stopImmediatePropagation()\" [title]=\"mv.label\">{{mv.label}}</a>\r\n                  </li>\r\n                }\r\n              }\r\n              @if (colMenu.items?.length>0) {\r\n                <li class=\"custom-divider\"></li>\r\n              }\r\n            }\r\n          </ul>\r\n        </div>\r\n      }\r\n    </li>\r\n  }\r\n</ng-template>\r\n\r\n<ng-template #toolbarMenuTemplate let-currMenu let-isEngageMenu=\"isEngageMenu\">\r\n  <ul class=\"sii_toolbar_navbar_nav menuNavItem\">\r\n    @for (menu of currMenu; track menu) {\r\n      @if (!menu.submenu || !menu.submenu.columns) {\r\n        <li  class=\"sii_toolbar_nav_item menuVoice\" [ngClass]=\"{'currentPage':router.url==menu.url}\">\r\n          <a class=\"sii_toolbar_nav_link\" tabindex=\"0\" (click)=\"navigateUrl(menu, isEngageMenu)\"   [title]=\"menu.label\">{{menu.label}}</a>\r\n        </li>\r\n      }\r\n      @if (menu.submenu && menu.submenu.columns) {\r\n        <li  class=\"sii_toolbar_nav_item menuVoice\"  data-toggle=\"dropdown\"  [ngClass]=\"{'currentPage':router.url==menu.url}\">\r\n          <a  class=\"sii_toolbar_nav_link \"  [title]=\"menu.label\">{{menu.label}} </a>\r\n          <div class=\"toolbarMenuSubVoices\">\r\n            @for (colMenu of menu.submenu.columns; track colMenu) {\r\n              <ul class=\"toolbarMenuSubVoicesCol\" role=\"menu\">\r\n                @for (mv of colMenu.items; track mv) {\r\n                  @if (!mv.profiling || !!mv.visibleProfiling) {\r\n                    <li   >\r\n                      <a tabindex=\"0\" class=\"sii_toolbar_dropdown__link\"  [ngClass]=\"{'mobileCurrentPage':router.url==mv.url}\" [title]=\"mv.label\" (click)=\"navigateUrl(mv, isEngageMenu)\" >{{mv.label}}</a>\r\n                    </li>\r\n                  }\r\n                }\r\n              </ul>\r\n            }\r\n          </div>\r\n        </li>\r\n      }\r\n    }\r\n  </ul>\r\n</ng-template>\r\n","import { Component, ElementRef, HostBinding, Input, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'sii-page-detail',\r\n    templateUrl: './page-detail.component.html',\r\n    styleUrls: ['./page-detail.component.scss'],\r\n    standalone: true\r\n})\r\nexport class PageDetailComponent implements OnInit {\r\n  defaultMinWidth = '320px';\r\n  @HostBinding('style.width') @HostBinding('style.max-width')   hostWidth = this.defaultMinWidth;\r\n  @HostBinding('style.display') display = 'none';\r\n  @Input()@HostBinding('class.pcd_hover') alwaysHover = false;\r\n  @Input() set width(val){\r\n   this.hostWidth = (val !== undefined && new RegExp(/^\\d+$/g).test(val)) ? val + 'px' :\r\n                   (val !== undefined && new RegExp(/^\\d+(px|vw|%)$/g).test(val)) ? val :  this.defaultMinWidth;\r\n  }\r\n\r\n  constructor(public  el: ElementRef) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n\r\n  getRealWidth(){ // larghezza effettiva\r\n    return parseInt(getComputedStyle(this.el.nativeElement, null).width.replace('px', ''), 10);\r\n  }\r\n\r\n  getMinWidthInPx(): number{\r\n    if (new RegExp(/^\\d+$/g).test(this.hostWidth)){\r\n      return parseInt(this.hostWidth, 10);\r\n    }else if (new RegExp(/^\\d+(px)$/g).test(this.hostWidth)){\r\n      return parseInt(this.hostWidth.match(/^\\d+/g)[0], 10);\r\n    }else if (new RegExp(/^\\d+(%)$/g).test(this.hostWidth)){\r\n      const parentw = parseInt(getComputedStyle(this.el.nativeElement.parentElement, null).width.replace('px', ''), 10);\r\n      return (parentw / 100) * parseInt(this.hostWidth.match(/^\\d+/g)[0], 10);\r\n    }\r\n  }\r\n\r\n  hoverFullScreen(status: boolean){\r\n    status ? this.el.nativeElement.classList.add('pcd_hoverFullScreen') : this.el.nativeElement.classList.remove('pcd_hoverFullScreen');\r\n  }\r\n  hover(status: boolean){\r\n    if(!this.alwaysHover){\r\n      status ? this.el.nativeElement.classList.add('pcd_hover') : this.el.nativeElement.classList.remove('pcd_hover');\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","<ng-content></ng-content>\r\n","import { Component, OnInit, Input, HostBinding, ElementRef, EventEmitter } from '@angular/core';\r\nimport { MatIcon } from '@angular/material/icon';\r\nimport { MatIconButton } from '@angular/material/button';\r\n\r\n@Component({\r\n    selector: 'sii-page-filters',\r\n    templateUrl: './page-filters.component.html',\r\n    styleUrls: ['./page-filters.component.scss'],\r\n    standalone: true,\r\n    imports: [MatIconButton, MatIcon]\r\n})\r\nexport class PageFiltersComponent implements OnInit {\r\n\r\n  defaultMinWidth = '256px';\r\n  @HostBinding('style.width')  @HostBinding('style.max-width')  hostWidth = this.defaultMinWidth;\r\n  @HostBinding('style.display') display = 'block';\r\n  @Input() toolbarTitle: string;\r\n  @Input() filterIcon: string;\r\n\r\n\r\n  @Input() set width(val){\r\n    this.hostWidth = (val !== undefined && new RegExp(/^\\d+$/g).test(val)) ? val + 'px' :\r\n                    (val !== undefined && new RegExp(/^\\d+(px|vw|%)$/g).test(val)) ? val :  this.defaultMinWidth;\r\n  }\r\n\r\n\r\n  public closeFilterPanelEmitter = new EventEmitter();\r\n\r\n  // @HostBinding('class.pcf_hover') hover=false;\r\n  // @HostBinding('class.pcf_hoverFullScreen') hoverFullScreen=false;\r\n\r\n\r\n  constructor(public el: ElementRef) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n  }\r\n\r\n  public get isOpen(){\r\n    return this.display === 'block';\r\n  }\r\n\r\n  getRealWidth(){ // larghezza effettiva\r\n    return parseInt(getComputedStyle(this.el.nativeElement, null).width.replace('px', ''), 10);\r\n  }\r\n\r\n  getMinWidthInPx(): number{\r\n    if (new RegExp(/^\\d+$/g).test(this.hostWidth)){\r\n      return parseInt(this.hostWidth, 10);\r\n    }else if (new RegExp(/^\\d+(px)$/g).test(this.hostWidth)){\r\n      return parseInt(this.hostWidth.match(/^\\d+/g)[0], 10);\r\n    }else if (new RegExp(/^\\d+(%)$/g).test(this.hostWidth)){\r\n      const parentw = parseInt(getComputedStyle(this.el.nativeElement.parentElement, null).width.replace('px', ''), 10);\r\n      return (parentw / 100) * parseInt(this.hostWidth.match(/^\\d+/g)[0], 10);\r\n    }\r\n  }\r\n\r\n  hoverFullScreen(status: boolean){\r\n    status ? this.el.nativeElement.classList.add('pcf_hoverFullScreen') : this.el.nativeElement.classList.remove('pcf_hoverFullScreen');\r\n  }\r\n  hover(status: boolean){\r\n    status ? this.el.nativeElement.classList.add('pcf_hover') : this.el.nativeElement.classList.remove('pcf_hover');\r\n  }\r\n\r\n\r\n  closePanel(){\r\n    this.closeFilterPanelEmitter.emit();\r\n  }\r\n}\r\n","<div class=\"pf-body\">\r\n  <ng-content select=\"sii-breadcrumb\"></ng-content>\r\n  <div class=\"pf_toolbar\">\r\n    @switch (toolbarTitle==null) {\r\n      @case (true) {\r\n        <h5 class=\"pf_toolbar_label\" i18n=\"@@filters\">Filters</h5>\r\n      }\r\n      @case (false) {\r\n        <h5 class=\"pf_toolbar_label\">{{toolbarTitle}}</h5>\r\n      }\r\n    }\r\n\r\n    <button mat-icon-button  aria-label=\"close filter panel\" (click)=\"closePanel()\">\r\n      <mat-icon  [svgIcon]=\"!!filterIcon?filterIcon:'sii-hide-filters'\" ></mat-icon>\r\n    </button>\r\n  </div>\r\n  <div class=\"pf_content\">\r\n    <ng-content></ng-content>\r\n  </div>\r\n</div>\r\n","import { Directive, ElementRef } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[siiPageFooter]',\r\n    standalone: true\r\n})\r\nexport class PageFooterDirective {\r\n\r\n  constructor(  public  el: ElementRef) { }\r\n\r\n}\r\n","import { AfterViewInit, ChangeDetectorRef, Component, ContentChild, ContentChildren, ElementRef, EventEmitter, HostBinding, HostListener, Input, NgZone, OnChanges,\r\n  OnDestroy,\r\n  Output, QueryList, SimpleChanges, ViewChild } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { BehaviorSubject, Subject } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\r\nimport { PageContentToolbarComponent } from '../page-container/page-content/page-content-toolbar/page-content-toolbar.component';\r\nimport { ToolbarComponent } from '../toolbar/toolbar.component';\r\nimport { PageContentComponent } from './page-content/page-content.component';\r\nimport { PageDetailComponent } from './page-detail/page-detail.component';\r\nimport { PageFiltersComponent } from './page-filters/page-filters.component';\r\nimport { PageFooterDirective } from './page-footer/page-footer.directive';\r\nimport { PageHoverMaskComponent } from './page-hover-mask/page-hover-mask.component';\r\nimport { NgClass, AsyncPipe } from '@angular/common';\r\nimport { CdkObserveContent } from '@angular/cdk/observers';\r\n\r\n@Component({\r\n    selector: 'sii-page-container',\r\n    templateUrl: './page-container.component.html',\r\n    styleUrls: ['./page-container.component.scss'],\r\n    standalone: true,\r\n    imports: [\r\n        CdkObserveContent,\r\n        NgClass,\r\n        PageHoverMaskComponent,\r\n        AsyncPipe,\r\n    ],\r\n})\r\nexport class SiiPageContainerComponent implements AfterViewInit, OnChanges , OnDestroy {\r\n @Output() clickOutsideDetail = new EventEmitter();\r\n @Output() toggleFilterPanel = new EventEmitter();\r\n @Input() autoHiddenToolbar = true;\r\n @Input() scrollerRef: HTMLInputElement | any ;\r\n\r\n @Input() backgroundImgUrl = 'assets/images/bg-eng.jpg' ;\r\n @Input() hideBackgroundImg = false;\r\n @Input() backgroundClass: any;\r\n\r\n @HostBinding('style.--toolbarHeight')  get toolbarHeight(){ return this.pageToolbarContainerHeightSubj.value + 'px'; }\r\n @HostBinding('style.--pageContentToolbarsContainerHeight')  get pageContentToolbarsContainerHeightVal(){ return this.pageContentToolbarsContainerHeightSubj.value + 'px'; }\r\n @HostBinding('style.--fixedToolbarHeight')  get fixedToolbarHeight(){ return this.pageFixedToolbarContainerHeightSubj.value + 'px'; }\r\n @HostBinding('style.--footerHeight') get footerHeight(){ return this.pageFooterContainerHeightSubj.value + 'px'; }\r\n @HostBinding('style.--headerHeight') get headeHeight(){ return ( this.showMiniHeader ? this.pageMiniHeaderContainerHeightSubj.value : this.pageHeaderContainerVisibleHeightSubj.value) + 'px'; }\r\n\r\n\r\n lastToolbarVisibilityChangeTime = 0;\r\n\r\n realScrollerRef;\r\n @ViewChild('FILTERHOVERMASK') private filterHoverMask: PageHoverMaskComponent;\r\n @ViewChild('DETAILHOVERMASK') private detailHoverMask: PageHoverMaskComponent;\r\n\r\n @ContentChild(PageFiltersComponent) private pageFiltersComponent: PageFiltersComponent;\r\n @ContentChild(PageDetailComponent) private pageDetailComponent: PageDetailComponent;\r\n @ContentChild(PageContentComponent) private pageContentComponent: PageContentComponent;\r\n @ContentChildren(PageContentToolbarComponent, {descendants: true}) private pageContentToolbarComponent: QueryList<PageContentToolbarComponent>;\r\n\r\n @ContentChild(ToolbarComponent) private toolbarComponent: ToolbarComponent;\r\n @ContentChild(PageFooterDirective) private footerComponent: PageFooterDirective;\r\n\r\n @ViewChild('ptContainer', { static: false })  ptContainer: ElementRef;\r\n @ViewChild('pctContainer', { static: false })  pctContainer: ElementRef;\r\n @ViewChild('footerContainer', { static: false })  footerContainer: ElementRef;\r\n @ViewChild('headerContainer', { static: false })  headerContainer: ElementRef;\r\n @ViewChild('miniHeaderContainer', { static: false })  miniHeaderContainer: ElementRef;\r\n\r\n @HostBinding('class.hiddenSiiToolbar') hiddenSiiToolbar = false;\r\n @HostBinding('class.siiPageScrolled')  siiPageScrolled = false;\r\n//  @HostBinding('class.hiddenHeader')  siiHiddenHeader = false;\r\n\r\n//  @HostBinding('class.siiPageScrolled') get pageScrolled(){\r\n//    return this.realScrollerRef  === document ? this.realScrollerRef.scrollingElement.scrollTop > 0 : this.realScrollerRef?.scrollTop > 0; }\r\n @HostBinding('class.siiInitialized')  initialized = false;\r\n\r\n\r\n pageToolbarContainerHeightSubj = new BehaviorSubject<number>(0);\r\n pageToolbarContainerHeight = this.pageToolbarContainerHeightSubj.asObservable();\r\n pageFixedToolbarContainerHeightSubj = new BehaviorSubject<number>(0);\r\n pageFixedToolbarContainerHeight = this.pageFixedToolbarContainerHeightSubj.asObservable();\r\n\r\n pageContentToolbarsContainerHeightSubj = new BehaviorSubject<number>(0);\r\n pageContentToolbarsContainerHeight = this.pageContentToolbarsContainerHeightSubj.asObservable();\r\n pageFixedContentToolbarsContainerHeightSubj = new BehaviorSubject<number>(0);\r\n pageFixedContentToolbarsContainerHeight = this.pageFixedContentToolbarsContainerHeightSubj.asObservable();\r\n\r\n pageFooterContainerHeightSubj = new BehaviorSubject<number>(0);\r\n pageFooterContainerHeight = this.pageFooterContainerHeightSubj.asObservable();\r\n\r\n pageHeaderContainerHeightSubj = new BehaviorSubject<number>(0);\r\n pageHeaderContainerHeight = this.pageHeaderContainerHeightSubj.asObservable();\r\n\r\n pageMiniHeaderContainerHeightSubj = new BehaviorSubject<number>(0);\r\n pageMiniHeaderContainerHeight = this.pageMiniHeaderContainerHeightSubj.asObservable();\r\n\r\n pageFooterContainerVisibleHeightSubj = new BehaviorSubject<number>(0);\r\n pageFooterContainerVisibleHeight = this.pageFooterContainerVisibleHeightSubj.asObservable();\r\n\r\n pageHeaderContainerVisibleHeightSubj = new BehaviorSubject<number>(0);\r\n pageHeaderContainerVisibleHeight = this.pageHeaderContainerVisibleHeightSubj.asObservable();\r\n\r\n showMiniHeader=false;\r\n\r\n//  pageMiniHeaderContainerVisibleHeightSubj = new BehaviorSubject<number>(0);\r\n//  pageMiniHeaderContainerVisibleHeight = this.pageMiniHeaderContainerVisibleHeightSubj.asObservable();\r\n\r\n pageToolbarContainerObserver;\r\n pageContentToolbarsContainerObserver;\r\n pageFooterContainerObserver;\r\n pageHeaderContainerObserver;\r\n pageMiniHeaderContainerObserver;\r\n scrollerContainerObserver;\r\n addFooterSpace = false;\r\n\r\n id: number;\r\n lastScrollTop = 0;\r\n\r\n\r\n utils = {\r\n  lastpctbItems: 0\r\n};\r\n\r\n\r\n\r\n scrollFunctionRef = function scroll(e){\r\n   if (e.target === e.currentTarget){this.showHideToolbar(e.srcElement === document ? document.scrollingElement : e.srcElement); }\r\n }.bind(this);\r\n\r\n @HostListener('window:resize', ['$event'])\r\n onResize(event) {\r\n   this.fixLayout();\r\n }\r\n\r\n\r\n constructor(private el: ElementRef , private ref: ChangeDetectorRef, public sanitizer: DomSanitizer, private zone: NgZone) {\r\n   this.id = (new Date()).getTime();\r\n\r\n   this.pageFooterContainerObserver = new ResizeObserver(entries => {\r\n     const fh = entries.reduce((acc, c) => acc + c.contentRect.height, 0) || 0;\r\n     this.pageFooterContainerHeightSubj.next(fh);\r\n     this.checkFooterVisibility(this.realScrollerRef  === document ? this.realScrollerRef.scrollingElement : this.realScrollerRef);\r\n   //  this.pageToolbarsContainerHeightSubj.next(entries[0].contentRect.height);\r\n    });\r\n\r\n   this.pageHeaderContainerObserver = new ResizeObserver(entries => {\r\n     const fh = entries.reduce((acc, c) => acc + c.contentRect.height, 0) || 0;\r\n     this.pageHeaderContainerHeightSubj.next(fh);\r\n     this.checkHeaderVisibility(this.realScrollerRef  === document ? this.realScrollerRef.scrollingElement : this.realScrollerRef);\r\n    });\r\n\r\n    this.pageMiniHeaderContainerObserver = new ResizeObserver(entries => {\r\n     const fh = entries.reduce((acc, c) => acc + c.contentRect.height, 0) || 0;\r\n     this.pageMiniHeaderContainerHeightSubj.next(fh);\r\n    });\r\n\r\n   this.pageToolbarContainerObserver = new ResizeObserver(entries => {\r\n     this.zone.run(() => {\r\n       const th = entries.reduce((acc, c) => acc + c.contentRect.height, 0);\r\n       if (th !== 0){\r\n         this.pageFixedToolbarContainerHeightSubj.next(th);\r\n        }\r\n       this.pageToolbarContainerHeightSubj.next(th);\r\n    });\r\n  });\r\n   this.pageContentToolbarsContainerObserver = new ResizeObserver(entries => {\r\n     this.zone.run(() => {\r\n      const pcth = entries.reduce((acc, c) => acc + c.contentRect.height, 0);\r\n      if (pcth !== 0 && this.utils.lastpctbItems !== entries[0].target.childElementCount){\r\n         this.pageFixedContentToolbarsContainerHeightSubj.next(pcth);\r\n        }\r\n      this.pageContentToolbarsContainerHeightSubj.next(pcth);\r\n      this.utils.lastpctbItems = entries[0].target.childElementCount;\r\n\r\n\r\n    });\r\n  });\r\n\r\n\r\n   this.scrollerContainerObserver  = new ResizeObserver(entries => {\r\n    this.zone.run(() => {\r\n      this.checkFooterVisibility(this.realScrollerRef  === document ? this.realScrollerRef.scrollingElement : this.realScrollerRef);\r\n      this.checkHeaderVisibility(this.realScrollerRef  === document ? this.realScrollerRef.scrollingElement : this.realScrollerRef);\r\n   });\r\n });\r\n\r\n\r\n\r\n }\r\n\r\n\r\n ngOnChanges(changes: SimpleChanges): void {\r\n   if (!!changes.scrollerRef && !changes.scrollerRef.isFirstChange()\r\n   && changes.scrollerRef.currentValue !== changes.scrollerRef.previousValue ){\r\n     if (!!this.realScrollerRef){\r\n       this.realScrollerRef.removeEventListener('scroll', this.scrollFunctionRef, true);\r\n     }\r\n     this.initScroller();\r\n     if (!!this.realScrollerRef){\r\n       // simuolo uno scroll verso l'alto per far comparire se necessario la toolbar\r\n       this.lastScrollTop = this.realScrollerRef.scrollTop + 10;\r\n       this.showHideToolbar(this.realScrollerRef);\r\n     }\r\n  }\r\n   if (!!changes.backgroundImgUrl || !!changes.hideBackgroundImg ){\r\n    this.updateBgImage();\r\n  }\r\n }\r\n\r\n updateBgImage(){\r\n  const bg =  this.hideBackgroundImg ? '' : `url(${this.backgroundImgUrl})`;\r\n  this.el.nativeElement.style.setProperty('--bgImageUrl', bg);\r\n['containerbackground', 'ptContainer', 'pctContainer', 'footerContainer','headerContainer','miniHeaderContainer', 'pc-toolbars'].forEach((e) => {\r\n    for (const item of  this.el.nativeElement.getElementsByClassName(e)){\r\n      item.style.backgroundImage = bg;\r\n    }\r\n  });\r\n\r\n }\r\n\r\n ngOnDestroy() {\r\n  this.pageToolbarContainerObserver.unobserve(this.ptContainer.nativeElement);\r\n  this.pageContentToolbarsContainerObserver.unobserve(this.pctContainer.nativeElement);\r\n  this.pageFooterContainerObserver.unobserve(this.footerContainer.nativeElement);\r\n  this.pageHeaderContainerObserver.unobserve(this.headerContainer.nativeElement);\r\n  this.pageMiniHeaderContainerObserver.unobserve(this.miniHeaderContainer.nativeElement);\r\n  if (this.realScrollerRef != null){\r\n    this.scrollerContainerObserver.unobserve(this.realScrollerRef  === document ? this.realScrollerRef.scrollingElement : this.realScrollerRef);\r\n  }\r\n  this.disableContentScroll(false);\r\n  this.hiddenSiiToolbar = false;\r\n  this.siiPageScrolled = false;\r\n\r\n}\r\n\r\n ngAfterViewInit(): void {\r\n  this.updateBgImage();\r\n  this.pageToolbarContainerObserver.observe(this.ptContainer.nativeElement);\r\n  this.pageContentToolbarsContainerObserver.observe(this.pctContainer.nativeElement);\r\n  this.pageFooterContainerObserver.observe(this.footerContainer.nativeElement);\r\n  this.pageHeaderContainerObserver.observe(this.headerContainer.nativeElement);\r\n  this.pageMiniHeaderContainerObserver.observe(this.miniHeaderContainer.nativeElement);\r\n\r\n\r\n  if (this.pageContentToolbarComponent.length > 0 && this.pageFiltersComponent){\r\n     Promise.resolve().then(() => {\r\n       this.pageContentToolbarComponent.forEach(f => {\r\n         f.toggleFilterPanelRef = () => {this.toggleFiltersPanel(); };\r\n         f.filterPanelRef = this.pageFiltersComponent;\r\n       });\r\n     });\r\n   }\r\n\r\n\r\n  if (this.pageFiltersComponent){\r\n    this.pageContentToolbarComponent.changes.subscribe((res)=>{\r\n      res.filter(i=>!i.filterPanelRef).forEach(f => {\r\n        f.toggleFilterPanelRef = () => {this.toggleFiltersPanel(); };\r\n        f.filterPanelRef = this.pageFiltersComponent;\r\n      });\r\n     })\r\n\r\n     this.pageFiltersComponent.closeFilterPanelEmitter.subscribe(() => this.toggleFiltersPanel(false));\r\n   }\r\n\r\n  this.initScroller();\r\n\r\n  this.fixLayout(true);\r\n  Promise.resolve().then(() => {\r\n     this.initialized = true;\r\n   });\r\n\r\n }\r\n\r\n checkFooterVisibility(srcElement){\r\n  if(!srcElement){return}\r\n  const prevVal = this.pageFooterContainerVisibleHeightSubj.value;\r\n  this.pageFooterContainerVisibleHeightSubj.next(this.positiveOrZero(srcElement.clientHeight - this.footerContainer.nativeElement.getBoundingClientRect().top));\r\n  const currVal = this.pageFooterContainerVisibleHeightSubj.value;\r\n  if (prevVal !== currVal){\r\n    this.zone.run(() => {\r\n      this.ref.detectChanges();\r\n    });\r\n  }\r\n  }\r\n\r\n checkHeaderVisibility(srcElement){ \r\n  const prevVal = this.pageHeaderContainerVisibleHeightSubj.value;\r\n  this.pageHeaderContainerVisibleHeightSubj.next(\r\n    this.headerContainer.nativeElement.getBoundingClientRect().height==0? 0 :\r\n    this.positiveOrZero(this.headerContainer.nativeElement.getBoundingClientRect().bottom - this.pageContentToolbarsContainerHeightSubj.value - this.pageToolbarContainerHeightSubj.value ));\r\n\r\n  const currVal = this.pageHeaderContainerVisibleHeightSubj.value;\r\n  // this.siiHiddenHeader = currVal==0;\r\n  if (prevVal !== currVal){\r\n    this.showMiniHeader= currVal<=this.pageMiniHeaderContainerHeightSubj.value\r\n    this.zone.run(() => {\r\n      this.ref.detectChanges();\r\n    });\r\n  }\r\n  }\r\n\r\n\r\n\r\nprivate positiveOrZero = (val: number) =>   val > 0 ? val : 0;\r\n\r\n\r\n//  isScrolledToBottom(srcElement){\r\n//   //  console.log( Math.round(srcElement.clientHeight + srcElement.scrollTop) - (srcElement.scrollHeight - this.pageFooterContainerHeightSubj.value) );\r\n//    return Math.round(srcElement.clientHeight + srcElement.scrollTop) >= (srcElement.scrollHeight - this.pageFooterContainerHeightSubj.value) ;\r\n//  }\r\n\r\n showHideToolbar(srcElement){\r\n  this.siiPageScrolled = srcElement.scrollTop > 0 ;\r\n\r\n\r\n  if ( ((new Date().getTime()) - this.lastToolbarVisibilityChangeTime < 200)  &&\r\n       ((this.siiPageScrolled && this.hiddenSiiToolbar) || (!this.siiPageScrolled && !this.hiddenSiiToolbar)) ){\r\n    return;\r\n  }\r\n  const st = srcElement.scrollTop;\r\n  const siiToolbar = this.toolbarComponent !== undefined && this.toolbarComponent.autoHide ?   this.toolbarComponent.el.nativeElement.clientHeight : 0;\r\n  const siiFooter = this.footerComponent !== undefined ?   this.footerComponent.el.nativeElement.clientHeight : 0;\r\n  let siiContentToolbar = 0;\r\n\r\n   // if (this.pageContentToolbarComponent2.length>0 ){\r\n  this.pageContentToolbarComponent.filter(t => t.autoHide).forEach(t => siiContentToolbar += t.el.nativeElement.clientHeight);\r\n     // siiContentToolbar = this.pageContentToolbarComponent.el.nativeElement.clientHeight;\r\n   // }\r\n\r\n  this.checkFooterVisibility(srcElement);\r\n  this.checkHeaderVisibility(srcElement);\r\n\r\n  const toolbarH = siiToolbar + siiFooter + siiContentToolbar + 20;\r\n  if (Math.abs(this.lastScrollTop - st) <= 10 && st > toolbarH + 50){\r\n     return;\r\n   }\r\n  let toolbarVisibilityChange = false;\r\n\r\n\r\n  if (st > this.lastScrollTop && st > toolbarH + 50){\r\n         // sto scrollando verso il basso di un altezza abbastanza grande da contenere la toolbar\r\n         if ( this.toolbarComponent && this.toolbarComponent.autoHide){\r\n           if (!this.hiddenSiiToolbar){\r\n             toolbarVisibilityChange = true;\r\n             this.hiddenSiiToolbar = true;\r\n           }\r\n         }\r\n         // if (this.pageContentToolbarComponent && this.pageContentToolbarComponent.autoHide){\r\n         // this.pageContentToolbarComponent.filter(t => t.autoHide).forEach(t => t.el.nativeElement.style.display = 'none');\r\n         this.pageContentToolbarComponent.filter(t => t.autoHide).forEach(t => {\r\n           if ( !t.el.nativeElement.classList.contains('hiddenToolbar')){\r\n             toolbarVisibilityChange = true;\r\n             t.el.nativeElement.classList.add('hiddenToolbar');\r\n           }\r\n         } );\r\n           // this.pageContentToolbarComponent.el.nativeElement.style.display = 'none';\r\n         // }\r\n\r\n         this.lastScrollTop = st - toolbarH;\r\n\r\n\r\n       }  else if (st < this.lastScrollTop && (st < 10 || this.lastScrollTop - st > 50)) {\r\n         // sono arrivato in cima oppure ho fatto uno scoll molto rapido\r\n         // if(st + this.el.nativeElement.clientHeight < this.el.nativeElement.clientHeight) {\r\n           if ( this.toolbarComponent && this.toolbarComponent.autoHide){\r\n             if (this.hiddenSiiToolbar){\r\n               toolbarVisibilityChange = true;\r\n               this.hiddenSiiToolbar = false;\r\n             }\r\n             // if (this.toolbarComponent.el.nativeElement.style.display === 'none'){\r\n             //   toolbarVisibilityChange = true;\r\n             //   this.toolbarComponent.el.nativeElement.style.display = '';\r\n             // }\r\n           }\r\n\r\n           // this.pageContentToolbarComponent.filter(t => t.autoHide).forEach(t => t.el.nativeElement.style.display = '');\r\n\r\n           this.pageContentToolbarComponent.filter(t => t.autoHide).forEach(t => {\r\n             if ( t.el.nativeElement.classList.contains('hiddenToolbar')){\r\n               toolbarVisibilityChange = true;\r\n               t.el.nativeElement.classList.remove('hiddenToolbar');\r\n             }\r\n           } );\r\n\r\n           // if (this.pageContentToolbarComponent && this.pageContentToolbarComponent.autoHide){\r\n             //   this.pageContentToolbarComponent.el.nativeElement.style.display = '';\r\n             // }\r\n           this.lastScrollTop = st;\r\n             // }\r\n\r\n     }else{\r\n       this.lastScrollTop = st;\r\n     }\r\n\r\n  if (toolbarVisibilityChange){\r\n       this.emitToolbarHideEvent();\r\n     }\r\n\r\n }\r\n\r\n emitToolbarHideEvent(){\r\n   this.lastToolbarVisibilityChangeTime = new Date().getTime();\r\n }\r\n\r\n initScroller(){\r\n   if ((this.toolbarComponent || this.pageContentToolbarComponent.length > 0) && this.autoHiddenToolbar === true){\r\n     if (this.scrollerRef !== undefined && this.scrollerRef.addEventListener !== undefined){\r\n       // l'elemento puÃ² essere scollato\r\n       this.realScrollerRef = this.scrollerRef;\r\n     }else if (this.scrollerRef !== undefined && this.scrollerRef.addEventListener === undefined &&\r\n       (this.scrollerRef as any).scrollerEl !== undefined){\r\n       this.realScrollerRef = (this.scrollerRef as any).scrollerEl;\r\n     }else{\r\n       // this.realScrollerRef = this.pageContentComponent.el.nativeElement.getElementsByClassName('pc-body')[0];\r\n       this.realScrollerRef = document;\r\n     }\r\n     this.subscribeScrollInterceptor();\r\n     this.scrollerContainerObserver.observe(this.realScrollerRef  === document ? this.realScrollerRef.scrollingElement : this.realScrollerRef);\r\n     this.checkFooterVisibility(this.realScrollerRef  === document ? this.realScrollerRef.scrollingElement : this.realScrollerRef);\r\n     this.checkHeaderVisibility(this.realScrollerRef  === document ? this.realScrollerRef.scrollingElement : this.realScrollerRef);\r\n     this.emitToolbarHideEvent();\r\n\r\n   }\r\n\r\n }\r\n\r\n\r\n subscribeScrollInterceptor(){\r\n   if (this.pageContentComponent){\r\n     this.realScrollerRef.addEventListener('scroll', this.scrollFunctionRef, {capture: true, passive: true});\r\n   }\r\n }\r\n\r\n public toggleFiltersPanel(forceStatusVisible?: boolean){\r\n   if (this.pageFiltersComponent){\r\n     if (forceStatusVisible != null){\r\n       if (forceStatusVisible && this.pageFiltersComponent.display !== 'block'){\r\n         this.showFiltersPanel();\r\n       }else if (!forceStatusVisible && this.pageFiltersComponent.display === 'block'){\r\n         this.hideFiltersPanel();\r\n       }\r\n     }else {\r\n       if (this.pageFiltersComponent.display === 'block'){\r\n         this.hideFiltersPanel();\r\n       }else{\r\n         this.showFiltersPanel();\r\n       }\r\n     }\r\n   }\r\n }\r\n\r\n\r\n public toggleDetailPanel(forceStatusVisible?: boolean){\r\n   if (this.pageDetailComponent){\r\n     if (forceStatusVisible != null){\r\n       if (forceStatusVisible && this.pageDetailComponent.display !== 'block'){\r\n         this.showDetailPanel();\r\n       }else if (!forceStatusVisible && this.pageDetailComponent.display === 'block'){\r\n         this.hideDetailPanel();\r\n       }\r\n     }else{\r\n       if ( this.pageDetailComponent.display === 'block'){\r\n         this.hideDetailPanel();\r\n       }else{\r\n         this.showDetailPanel();\r\n       }\r\n     }\r\n   }\r\n }\r\n\r\n private fixLayout(isInit= false){\r\n   if (this.pageDetailComponent && this.pageDetailComponent.display !== 'none'){\r\n     this.showDetailPanel();\r\n   }\r\n\r\n\r\n   if (this.pageFiltersComponent){\r\n      if (isInit){\r\n       // tslint:disable-next-line:max-line-length\r\n       const spaceAvailable = this.pageContentComponent.getMinWidthInPx() + this.pageFiltersComponent.el.nativeElement.clientWidth < this.el.nativeElement.offsetWidth;\r\n\r\n       if (!spaceAvailable && this.pageFiltersComponent.display !== 'none'){\r\n         // il pannello dei filtri Ã¨ visibile ma non c'Ã¨ spazio\r\n         this.hideFiltersPanel();\r\n       }\r\n      }\r\n      else if (this.pageFiltersComponent.display !== 'none'){\r\n         this.showFiltersPanel();\r\n       }\r\n    }\r\n\r\n }\r\n\r\n\r\n private showDetailPanel(){\r\n\r\n   // delete $this.utils.style.detail.display;\r\n   Promise.resolve().then(() => this.pageDetailComponent.display = 'block');\r\n\r\n   // controllo che ci sia abbastanza spazio per mostrare sia il pannello dei filtri e sia il pannello del dettaglio\r\n   const compW = this.el.nativeElement.offsetWidth;\r\n\r\n   // larghezza attualmente visibile\r\n   const fCw = this.pageFiltersComponent?.el.nativeElement.clientWidth || 0;\r\n   let cCw = this.pageContentComponent.el.nativeElement.clientWidth;\r\n   const dCw = this.pageDetailComponent.el.nativeElement.clientWidth;\r\n\r\n   // $this.utils.components.detailPanel.removeClass(\"odcHoverFullScreen\");//rimuovo se presente\r\n   this.pageDetailComponent.hoverFullScreen(false);\r\n\r\n   // larghezza effettiva quando il pannello del dettaglio Ã¨ visibile\r\n   const dw = this.pageDetailComponent.getRealWidth();\r\n   const cw = this.pageContentComponent.getMinWidthInPx();\r\n\r\n // pannello dei filtri aperto e larghezza dettaglio da visibile maggiore della finestra => chiudo pannello filtri e\r\n // ricalcolo la larghezza visibile del contenitore\r\n   if (fCw > 0 &&  cw + fCw + dw > compW){\r\n     this.toggleFiltersPanel(false);\r\n     // safeApply();\r\n     cCw = this.pageContentComponent.el.nativeElement.clientWidth;\r\n   }\r\n\r\n       // dettaglio + contenuto > finestra => apro in hover il dettaglio\r\n\r\n   if (cw + dw > compW){\r\n         this.pageDetailComponent.hover(true);\r\n         this.disableContentScroll(true);\r\n         // $this.utils.components.detailPanel.addClass(\"odcHover\");\r\n\r\n         if (compW - dw < 200){\r\n           // se la dimensione del contenitore Ã¨ troppo piccola, metto il pannello del dettaglio al 100%\r\n           this.pageDetailComponent.hoverFullScreen(true);\r\n           // $this.utils.components.detailPanel.addClass(\"odcHoverFullScreen\");\r\n         }\r\n         this.showHideDetailHoverMask(true);\r\n       }else{\r\n         this.pageDetailComponent.hover(this.pageDetailComponent.alwaysHover ? true : false);\r\n         // $this.utils.components.detailPanel.removeClass(\"odcHover\");\r\n         this.showHideDetailHoverMask(this.pageDetailComponent.alwaysHover ? true : false);\r\n         this.disableContentScroll(this.pageDetailComponent.alwaysHover ? true : false);\r\n       }\r\n\r\n }\r\n\r\n private hideDetailPanel(){\r\n   // $this.utils.style.detail.display='none';\r\n   Promise.resolve().then(() => this.pageDetailComponent.display = 'none');\r\n   this.pageDetailComponent.hover(false);\r\n   this.pageDetailComponent.hoverFullScreen(false);\r\n   this.disableContentScroll(false);\r\n   this.showHideDetailHoverMask(false);\r\n }\r\n\r\n private showHideDetailHoverMask(vis){\r\n // if($this.utils.components.component!=undefined){\r\n     Promise.resolve().then(() => this.detailHoverMask.display = vis ? 'block' :  'none');\r\n //  vis? $this.utils.components.component.addClass(\"odcHoverMask\") : $this.utils.components.component.removeClass(\"odcHoverMask\")\r\n // }\r\n }\r\n\r\n private showFiltersPanel(){\r\n   // delete $this.utils.style.filters.display;\r\n   Promise.resolve().then(() => this.pageFiltersComponent.display = 'block');\r\n   this.toggleFilterPanel.emit(true);\r\n\r\n // controllo che ci sia abbastanza spazio per mostrare sia il pannello dei filtri e sia il pannello del dettaglio\r\n   const compW = this.el.nativeElement.offsetWidth;\r\n\r\n// larghezza attualmente visibile\r\n   const fCw = this.pageFiltersComponent.el.nativeElement.clientWidth;\r\n   const cCw = this.pageContentComponent.el.nativeElement.clientWidth;\r\n   const dCw = this.pageDetailComponent?.el.nativeElement.clientWidth || 0;\r\n\r\n   const cw = this.pageContentComponent.getMinWidthInPx();\r\n   this.pageFiltersComponent.hoverFullScreen(false);\r\n\r\n   // // larghezza effettiva quando il pannello dei filtri  Ã¨ visibile\r\n   const fw = this.pageFiltersComponent.getRealWidth();\r\n\r\n   if (cw + dCw + fw > compW){\r\n   // mostro il pannello dei filtri in hover\r\n   this.pageFiltersComponent.hover(true);\r\n   this.disableContentScroll(true);\r\n   if (compW - fw < 200){\r\n     // se la dimensione del contenitore Ã¨ troppo piccola, metto il pannello del dettaglio al 100%\r\n     this.pageFiltersComponent.hoverFullScreen(true);\r\n   }\r\n   this.showHideFiltersHoverMask(true);\r\n   }else{\r\n   this.pageFiltersComponent.hover(false);\r\n   this.disableContentScroll(false);\r\n   this.showHideFiltersHoverMask(false);\r\n   }\r\n\r\n }\r\n\r\n private showHideFiltersHoverMask(vis){\r\n // if($this.utils.components.component!=undefined){\r\n   Promise.resolve().then(() => this.filterHoverMask.display = vis ? 'block' :  'none');\r\n   //  vis? $this.utils.components.component.addClass(\"odcHoverMask\") : $this.utils.components.component.removeClass(\"odcHoverMask\")\r\n // }\r\n }\r\n\r\n private hideFiltersPanel(){\r\n   Promise.resolve().then(() => this.pageFiltersComponent.display = 'none');\r\n   this.toggleFilterPanel.emit(false);\r\n   // if($this.utils.components.filtersPanel!=undefined){.\r\n   this.pageFiltersComponent.hover(false);\r\n   this.disableContentScroll(false);\r\n   this.pageFiltersComponent.hoverFullScreen(false);\r\n // }\r\n   this.showHideFiltersHoverMask(false);\r\n\r\n }\r\n\r\n\r\n public getRealWidth(){ // larghezza effettiva\r\n   return parseInt(getComputedStyle(this.el.nativeElement, null).width.replace('px', ''), 10);\r\n }\r\n\r\n detailHoverMaskClick(){\r\n  this.clickOutsideDetail.emit();\r\n }\r\n\r\n filterHoverMaskClick(){\r\n   this.hideFiltersPanel();\r\n }\r\n\r\n toolbarsHeightChange(){\r\n   // this.toolbarsHeight = this.pctb.nativeElement.offsetHeight;\r\n   this.zone.run(() => {\r\n     this.ref.detectChanges();\r\n     window.dispatchEvent(new CustomEvent('pageContainerToolbarsHeightChange'));\r\n   });\r\n}\r\n\r\ndisableContentScroll(enable: boolean){\r\ndocument.getElementsByTagName('html')[0].style.overflow = enable ? 'hidden' : '';\r\n}\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n","\r\n<div #ptContainer class=\"ptContainer\" (cdkObserveContent)=\"toolbarsHeightChange()\">\r\n  <ng-content select=\"sii-toolbar\"></ng-content>\r\n</div>\r\n<div #pctContainer class=\"pctContainer\" (cdkObserveContent)=\"toolbarsHeightChange()\">\r\n  <ng-content select=\"sii-page-content-toolbar\"></ng-content>\r\n</div>\r\n<div class=\"containerbackground\"  [ngClass]=\"backgroundClass\"></div>\r\n\r\n\r\n<!-- HEADERS -->\r\n<div #miniHeaderContainer class=\"miniHeaderContainer\" [style.visibility]=\"showMiniHeader ? 'visible':'hidden'\" [style.top.px]=\"((pageToolbarContainerHeight | async) + (pageContentToolbarsContainerHeight | async) )\">\r\n  <ng-content select=\"[siiPageMiniHeader]\"></ng-content>\r\n</div>\r\n\r\n<div #headerContainer class=\"headerContainer\" (cdkObserveContent)=\"toolbarsHeightChange()\" [style.marginTop.px]=\"((pageFixedToolbarContainerHeight | async) + (pageFixedContentToolbarsContainerHeight | async) )\">\r\n  <ng-content select=\"[siiPageHeader]\"></ng-content>\r\n</div>\r\n<!-- HEADERS fine -->\r\n\r\n<div class=\"pc_container\" >\r\n\r\n <!-- FILTER PANEL -->\r\n <div class=\"pageFilterContentBox\" [style.top.px]=\"((pageToolbarContainerHeight | async) + (pageContentToolbarsContainerHeight | async) +   (showMiniHeader ? (pageMiniHeaderContainerHeight | async):(pageHeaderContainerVisibleHeight | async)))\"\r\n [style.height]=\"sanitizer.bypassSecurityTrustStyle('calc(100vh - '+( (pageToolbarContainerHeight | async) + (pageContentToolbarsContainerHeight | async) +  (pageFooterContainerVisibleHeight | async)   + (showMiniHeader ? (pageMiniHeaderContainerHeight | async):(pageHeaderContainerVisibleHeight | async)) )+'px)')\" >\r\n <ng-content select=\"sii-page-filters\"></ng-content>\r\n</div>\r\n<!-- FILTER PANEL fine -->\r\n\r\n  <!-- CONTENT PANEL -->\r\n  <ng-content select=\"sii-page-content\"></ng-content>\r\n  <!-- CONTENT PANEL fine-->\r\n\r\n\r\n  <!-- DETAIL PANEL -->\r\n  <div class=\"pageDetailContentBox\" [style.top.px]=\"((pageToolbarContainerHeight | async) + (pageContentToolbarsContainerHeight | async) + (showMiniHeader ? (pageMiniHeaderContainerHeight | async):(pageHeaderContainerVisibleHeight | async)))\"\r\n  [style.height]=\"sanitizer.bypassSecurityTrustStyle('calc(100vh - '+( (pageToolbarContainerHeight | async) + (pageContentToolbarsContainerHeight | async) + (pageFooterContainerVisibleHeight | async)   +(showMiniHeader ? (pageMiniHeaderContainerHeight | async):(pageHeaderContainerVisibleHeight | async))  )+'px)')\" >\r\n  <ng-content select=\"sii-page-detail\"></ng-content>\r\n</div>\r\n<!-- DETAIL PANEL fine-->\r\n\r\n\r\n  <!-- HOVER MASK -->\r\n  <sii-page-hover-mask #DETAILHOVERMASK style=\"z-index: 3;\" class=\"sii-page-hover-mask\" (click)=\"detailHoverMaskClick()\"></sii-page-hover-mask>\r\n  <sii-page-hover-mask #FILTERHOVERMASK style=\"z-index: 2;\" class=\"sii-page-hover-mask\" (click)=\"filterHoverMaskClick()\"></sii-page-hover-mask>\r\n  <!-- HOVER MASK fine-->\r\n\r\n  <!-- FOOTER -->\r\n  <div #footerContainer class=\"footerContainer\" (cdkObserveContent)=\"toolbarsHeightChange()\">\r\n    <ng-content select=\"[siiPageFooter]\"></ng-content>\r\n  </div>\r\n  <!-- FOOTER fine-->\r\n</div>\r\n\r\n\r\n","import { Component, OnInit, Output, EventEmitter, Input, HostBinding, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { SiiMenuVoice } from './dto/menu-voice';\r\nimport { SIILinkManager } from '../utils/SiiLinkManager';\r\nimport { GlobalMenuService } from './service/global-menu.service';\r\nimport { SiiMenuFolder } from './dto/menu-folder';\r\nimport { Observable, BehaviorSubject } from 'rxjs';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { CompanySelectionDialogComponent } from './components/company-selection-dialog/company-selection-dialog.component';\r\nimport { GlobalMenuVoicesFilterPipe } from './utils/global-menu-voices-filter.pipe';\r\nimport { GlobalMenuFilterPipe } from './utils/global-menu-filter.pipe';\r\nimport { AsyncPipe } from '@angular/common';\r\nimport { MatTooltip } from '@angular/material/tooltip';\r\nimport { MatMenuTrigger, MatMenu, MatMenuItem } from '@angular/material/menu';\r\nimport { MatIconButton } from '@angular/material/button';\r\nimport { MatNavList, MatListItem } from '@angular/material/list';\r\nimport { SiiCompanySelectionComponent } from './components/company-selection/company-selection.component';\r\nimport { MatIcon } from '@angular/material/icon';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { MatInput } from '@angular/material/input';\r\nimport { MatFormField, MatSuffix } from '@angular/material/form-field';\r\nimport { PageContentToolbarComponent } from '../../page-container/page-content/page-content-toolbar/page-content-toolbar.component';\r\nimport { PageContentComponent } from '../../page-container/page-content/page-content.component';\r\nimport { ToolbarComponent } from '../../toolbar/toolbar.component';\r\nimport { SiiPageContainerComponent } from '../../page-container/page-container.component';\r\n\r\n@Component({\r\n    selector: 'sii-global-menu',\r\n    templateUrl: './global-menu.component.html',\r\n    styleUrls: ['./global-menu.component.css'],\r\n    standalone: true,\r\n    imports: [SiiPageContainerComponent, ToolbarComponent, PageContentComponent, PageContentToolbarComponent, MatFormField, MatInput, FormsModule, MatIcon, MatSuffix, SiiCompanySelectionComponent, MatNavList, MatListItem, MatIconButton, MatMenuTrigger, MatMenu, MatMenuItem, MatTooltip, AsyncPipe, GlobalMenuFilterPipe, GlobalMenuVoicesFilterPipe]\r\n})\r\nexport class GlobalMenuComponent {\r\n  @Input() showCloseButton = true;\r\n  @Output() closeAction = new EventEmitter<void>();\r\n  private linkManager = new SIILinkManager();\r\n  searchFilter = '';\r\n  get menus(): BehaviorSubject<SiiMenuFolder[]>{\r\n    return this.globalMenuService.menu;\r\n  }\r\n  get company(): string{\r\n    return this.globalMenuService.selectedCompany.value;\r\n  }\r\n\r\n\r\n\r\n  constructor( public globalMenuService: GlobalMenuService, public matDialog: MatDialog ) {\r\n    this.globalMenuService.initMenu();\r\n   }\r\n\r\n\r\n  close(){\r\n    this.closeAction.next();\r\n  }\r\n\r\n\r\n\r\n\r\n  onLinkClicked(voice: SiiMenuVoice, openInThisWindow= false) {\r\n    if (!voice.companyDep) {// if there is no reason to choose the company the link refers to\r\n        this.linkManager.openLink(voice, openInThisWindow);\r\n    } else if (voice.companies.length === 1 && (this.company === null || this.company === '')) {\r\n        this.linkManager.openLink(voice, openInThisWindow, voice.companies[0]);\r\n    } else if (!this.company ) {\r\n      this.matDialog.open(CompanySelectionDialogComponent, {\r\n        maxWidth: '95vw',\r\n        data: {\r\n            companies: voice.companies.map(c => this.globalMenuService.menuUserInfo.companies[c]),\r\n          title: voice.title },\r\n      }).afterClosed().subscribe(companyIdSelected => {\r\n        if (companyIdSelected) {\r\n            this.linkManager.openLink(voice, openInThisWindow, companyIdSelected);\r\n        }\r\n      });\r\n    } else {\r\n        this.linkManager.openLink(voice, openInThisWindow, this.company);\r\n    }\r\n  }\r\n\r\n\r\n  reset(){\r\n    this.searchFilter = '';\r\n  }\r\n\r\n\r\n}\r\n","<sii-page-container>\r\n  <sii-toolbar toolbarTitle=\"SIAL\"  [showCloseButton]=\"showCloseButton\" (closeAction)=\"close()\"></sii-toolbar>\r\n  <sii-page-content [bodyStyle]=\"'padding:0px'\" bodyClass=\"globalMenuBody\">\r\n    <sii-page-content-toolbar>\r\n      <div class=\"page-content-toolbar-body\">\r\n        <mat-form-field class=\"menu_filter\" appearance=\"outline\">\r\n          <input #searchBox  [(ngModel)]=\"searchFilter\" matInput placeholder=\"Search on menu\">\r\n          @if (!searchBox.value) {\r\n            <mat-icon matSuffix>search</mat-icon>\r\n          }\r\n          @if (searchBox.value) {\r\n            <mat-icon matSuffix   aria-label=\"Clear\" (click)=\"reset()\" style=\"cursor: pointer;\">close</mat-icon>\r\n          }\r\n        </mat-form-field>\r\n\r\n        <span [style.flex]=\"1\"></span>\r\n        <sii-company-selection></sii-company-selection>\r\n      </div>\r\n    </sii-page-content-toolbar>\r\n    <sii-company-selection class=\"bodyCompanySelection\"></sii-company-selection>\r\n\r\n\r\n    <div class=\"masonry-wrapper\"  >\r\n      <div class=\"masonry\">\r\n\r\n        <!-- PREFERITI -->\r\n        <!-- *ngIf=\"(globalMenuService.favoriteVoices | async)?.length>0\" -->\r\n        <div class=\"masonry-item preferiti-menu\" >\r\n          <div class=\"category-title\">\r\n            <mat-icon>star</mat-icon>\r\n            <span>Preferiti</span>\r\n          </div>\r\n          <mat-nav-list dense disableRipple=\"true\">\r\n            @for (favVoice of globalMenuService.favoriteVoice | async | globalMenuVoicesFilter:company:searchFilter ; track favVoice; let i = $index) {\r\n              <!-- *ngIf=\"globalMenuService.isEnabledForCurrentSelectedCompany(favVoice,company)\"  -->\r\n              <mat-list-item  (click)=\"onLinkClicked(favVoice)\">\r\n                <div class=\"menu-voice\"  > {{favVoice.title}} </div>\r\n                <button mat-icon-button class=\"submenu\" [matMenuTriggerFor]=\"submenu\" (click)=\"$event.stopPropagation()\">\r\n                  <mat-icon>more_vert</mat-icon>\r\n                </button>\r\n                <mat-menu #submenu=\"matMenu\">\r\n                  <button mat-menu-item (click)=\"globalMenuService.removeFromFavorites(favVoice, i)\">\r\n                    <mat-icon>star_border</mat-icon>\r\n                    <span class=\"font12\" i18n=\"@@removeFavorites\">Remove from favorites</span>\r\n                  </button>\r\n                  <button mat-menu-item  (click)=\"onLinkClicked(favVoice,true)\">\r\n                    <mat-icon>launch</mat-icon>\r\n                    <span class=\"font12\" i18n=\"@@openThisWindow\">Open in this window</span>\r\n                  </button>\r\n                </mat-menu>\r\n              </mat-list-item>\r\n            }\r\n\r\n          </mat-nav-list>\r\n        </div>\r\n\r\n\r\n        @for (menu of (menus | async) | globalMenuFilter:company:searchFilter; track menu) {\r\n          <div class=\"masonry-item\">\r\n            <div class=\"category-title\">\r\n              <mat-icon [svgIcon]=\"menu.icon\"></mat-icon>\r\n              <span>{{menu.category}}</span>\r\n            </div>\r\n            <mat-nav-list dense disableRipple=\"true\">\r\n              @for (voice of menu.voices  ; track voice) {\r\n                <mat-list-item   (click)=\"onLinkClicked(voice)\" >\r\n                  <div class=\"menu-voice\"> {{voice.title}} </div>\r\n                  <button mat-icon-button class=\"submenu\" [matMenuTriggerFor]=\"submenu\" (click)=\"$event.stopPropagation()\">\r\n                    <mat-icon i18n-matTooltip=\"@@openSubmenu\" matTooltip=\"Open Submenu\">more_vert</mat-icon>\r\n                  </button>\r\n                  <mat-menu #submenu=\"matMenu\">\r\n                    <button mat-menu-item [disabled]=\"globalMenuService.isInFavorites(voice)\"  (click)=\"globalMenuService.addToFavorites(voice)\">\r\n                      <mat-icon>star_border</mat-icon>\r\n                      <span class=\"font12\" i18n=\"@@addFavorites\">Add to favorites</span>\r\n                    </button>\r\n                    <button mat-menu-item  (click)=\"onLinkClicked(voice,true)\">\r\n                      <mat-icon>launch</mat-icon>\r\n                      <span class=\"font12\" i18n=\"@@openThisWindow\">Open in this window</span>\r\n                    </button>\r\n                  </mat-menu>\r\n                </mat-list-item>\r\n              }\r\n            </mat-nav-list>\r\n          </div>\r\n        }\r\n      </div>\r\n    </div>\r\n\r\n\r\n\r\n  </sii-page-content>\r\n</sii-page-container>\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { SiiMenuVoice } from './global-menu/dto/menu-voice';\r\nimport { Location } from '@angular/common';\r\nimport { GlobalMenuComponent } from './global-menu/global-menu.component';\r\nimport { MatNavList, MatListItem } from '@angular/material/list';\r\nimport { MatIcon } from '@angular/material/icon';\r\nimport { MatIconButton, MatButton } from '@angular/material/button';\r\n\r\n@Component({\r\n    selector: 'sii-menu',\r\n    templateUrl: './menu.component.html',\r\n    styleUrls: ['./menu.component.scss'],\r\n    standalone: true,\r\n    imports: [MatIconButton, MatIcon, MatNavList, MatListItem, MatButton, GlobalMenuComponent]\r\n})\r\nexport class MenuComponent implements OnInit {\r\n  @Input() voices: SiiMenuVoice[];\r\n  showMenu = false;\r\n  @Input() enableGlobalMenu = false;\r\n   showGlobalMenu = false;\r\n  constructor(private location: Location) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  onLinkClicked(voice: SiiMenuVoice, event: any) {\r\n    if (voice.link.startsWith('/') || voice.link.startsWith('act/')){\r\n      this.location.go(voice.link);\r\n      location.reload();\r\n    }else{\r\n      window.open(voice.link, '_self');\r\n    }\r\n\r\n\r\n  }\r\n\r\n  toggleMenu(){\r\n    if (!this.voices || this.voices.length === 0 ){\r\n      this.showGlobalMenu = !this.showGlobalMenu;\r\n    }else{\r\n      this.showMenu = !this.showMenu;\r\n    }\r\n  }\r\n  closeGlobalMenu(){\r\n    this.showGlobalMenu = !this.showGlobalMenu;\r\n  }\r\n\r\n doLogout(){\r\n      this.location.go('../logout');\r\n      location.reload();\r\n  }\r\n\r\n}\r\n","<button mat-icon-button (click)=\"toggleMenu()\">\r\n  <mat-icon>menu</mat-icon>\r\n</button>\r\n\r\n\r\n\r\n\r\n@if (showMenu) {\r\n  <div class=\"menu-container\">\r\n    <div [style.display]=\"'flex'\" class=\"menu-toolbar\">\r\n      <span [style.flex]=\"1\"></span>\r\n      <button  mat-icon-button (click)=\"showMenu=false\">\r\n        <mat-icon>close</mat-icon>\r\n      </button>\r\n    </div>\r\n    <div class=\"menu\">\r\n      <mat-nav-list>\r\n        @for (voice of voices; track voice) {\r\n          <mat-list-item class=\"mat-list-item-word-wrap\" (click)=\"onLinkClicked(voice, $event)\">\r\n            {{voice.title}}\r\n          </mat-list-item>\r\n        }\r\n      </mat-nav-list>\r\n      <!-- <div (click)=doLogout()>\r\n      LOGOUT\r\n    </div> -->\r\n  </div>\r\n  @if (enableGlobalMenu) {\r\n    <div class=\"menu-footer\">\r\n      <button class=\"showGlobalMenuButton\" (click)=\"showGlobalMenu=true\" mat-button>\r\n        <mat-icon>dashboard</mat-icon>\r\n        SIAL\r\n      </button>\r\n    </div>\r\n  }\r\n</div>\r\n}\r\n@if (showMenu) {\r\n  <div class=\"menu-back\" (click)=\"showMenu=false\"></div>\r\n}\r\n@if (showGlobalMenu) {\r\n  <sii-global-menu   (closeAction)=\"closeGlobalMenu()\"></sii-global-menu>\r\n}\r\n","import { Component, OnInit, Input, EventEmitter, Output, ElementRef } from '@angular/core';\r\nimport { MatButton } from '@angular/material/button';\r\nimport { MatIcon } from '@angular/material/icon';\r\n\r\n@Component({\r\n    selector: 'sii-snackbar-feedback',\r\n    templateUrl: './snackbar-feedback.component.html',\r\n    styleUrls: ['./snackbar-feedback.component.css'],\r\n    standalone: true,\r\n    imports: [MatIcon, MatButton]\r\n})\r\nexport class SnackbarFeedbackComponent implements OnInit {\r\n  @Input() action: string;\r\n\r\n  constructor( public  el: ElementRef) { }\r\n\r\n  ngOnInit(): void {  }\r\n\r\n  doClickAction(){\r\n    this.el.nativeElement.dispatchEvent( new Event('SII-SNACKBAR-FEEDBACK'));\r\n  }\r\n\r\n\r\n}\r\n","\r\n<mat-icon class=\"successIcon\" svgIcon=\"sii-feedback-success\" ></mat-icon>\r\n<mat-icon class=\"errorIcon\" svgIcon=\"sii-feedback-error\" ></mat-icon>\r\n<mat-icon class=\"infoIcon\" svgIcon=\"sii-feedback-info\" ></mat-icon>\r\n\r\n<ng-content></ng-content>\r\n\r\n<span [style.flex]=\"1\"></span>\r\n@if (!!action) {\r\n  <button  class=\"feedback_action_button\" mat-button  (click)=\"doClickAction()\">\r\n    {{action}}\r\n  </button>\r\n}\r\n","import { Component, OnInit, ElementRef, Input, HostBinding } from '@angular/core';\r\nimport { MatIcon } from '@angular/material/icon';\r\n\r\n@Component({\r\n    selector: 'sii-banner-feedback',\r\n    templateUrl: './banner-feedback.component.html',\r\n    styleUrls: ['./banner-feedback.component.css'],\r\n    standalone: true,\r\n    imports: [MatIcon]\r\n})\r\nexport class BannerFeedbackComponent implements OnInit {\r\n  @HostBinding('class') hostClass='';\r\n\r\n  @Input() set type(t){\r\n    switch(t){\r\n      case 'success' : this.hostClass= 'sii-feedback-banner sii-success-feedback-banner';break;\r\n      case 'error' : this.hostClass= 'sii-feedback-banner sii-error-feedback-banner';break;\r\n      case 'info' : this.hostClass= 'sii-feedback-banner sii-info-feedback-banner';break;\r\n    }\r\n  }\r\n\r\n  constructor(public  el: ElementRef) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  public close(){\r\n    this.el.nativeElement.dispatchEvent( new Event('SII-BANNER-FEEDBACK-CLOSE'));\r\n  }\r\n\r\n}\r\n","\r\n<div class=\"sii-banner-toolbar\">\r\n  <mat-icon class=\"successIcon\" svgIcon=\"sii-feedback-success\" ></mat-icon>\r\n  <mat-icon class=\"errorIcon\" svgIcon=\"sii-feedback-error\" ></mat-icon>\r\n  <mat-icon class=\"infoIcon\" svgIcon=\"sii-feedback-info\" ></mat-icon>\r\n  <ng-content select=\"[feedback-toolbar]\"></ng-content>\r\n</div>\r\n\r\n<ng-content select=\"[feedback-body]\"></ng-content>\r\n<ng-content select=\"[feedback-action]\"></ng-content>\r\n","import { Component, OnInit, Inject, ElementRef, AfterViewInit } from '@angular/core';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { NgTemplateOutlet } from '@angular/common';\r\n\r\n@Component({\r\n    selector: 'sii-banner-feedback-outlet',\r\n    templateUrl: './banner-feedback-outlet.component.html',\r\n    standalone: true,\r\n    imports: [NgTemplateOutlet],\r\n})\r\nexport class BannerFeedbackOutletComponent implements AfterViewInit {\r\n\r\n  constructor(public dialogRef: MatDialogRef<BannerFeedbackOutletComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: any,public  el: ElementRef) {\r\n     }\r\n\r\n\r\n     ngAfterViewInit(): void {\r\n      const bannerEl = this.el.nativeElement.getElementsByTagName('sii-banner-feedback').item(0);\r\n      if(bannerEl){\r\n        bannerEl.addEventListener('SII-BANNER-FEEDBACK-CLOSE',()=>{\r\n         this.dialogRef.close();\r\n        });\r\n      }\r\n    }\r\n\r\n\r\n}\r\n","<ng-container *ngTemplateOutlet=\"data.templateRef; context:{$implicit:data}\" ></ng-container>\r\n\r\n","import { Component, OnInit, Inject, AfterContentInit, ViewChild, AfterViewInit, QueryList, ContentChild, ContentChildren, ElementRef } from '@angular/core';\r\nimport { MatSnackBarRef, MAT_SNACK_BAR_DATA } from '@angular/material/snack-bar';\r\nimport { SnackbarFeedbackComponent } from '../snackbar-feedback/snackbar-feedback.component';\r\nimport { NgTemplateOutlet } from '@angular/common';\r\n\r\n@Component({\r\n    selector: 'sii-snackbar-feedback-outlet',\r\n    templateUrl: './snackbar-feedback-outlet.component.html',\r\n    standalone: true,\r\n    imports: [NgTemplateOutlet]\r\n})\r\nexport class SnackbarFeedbackOutletComponent implements OnInit, AfterViewInit {\r\n\r\n  constructor(@Inject(MAT_SNACK_BAR_DATA) public data: any, public snackBarRef: MatSnackBarRef<SnackbarFeedbackOutletComponent>,\r\n  public  el: ElementRef) { }\r\n\r\n  ngAfterViewInit(): void {\r\n    const snackEl = this.el.nativeElement.getElementsByTagName('sii-snackbar-feedback').item(0);\r\n\r\n    if(snackEl){\r\n      snackEl.addEventListener('SII-SNACKBAR-FEEDBACK',()=>{\r\n       this.doClickAction();\r\n      });\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  doClickAction(){\r\n    this.snackBarRef.dismissWithAction();\r\n  }\r\n\r\n}\r\n","<ng-container *ngTemplateOutlet=\"data.templateRef; context:{$implicit:data}\" ></ng-container>\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { SiiPageContainerComponent } from './page-container.component';\r\nimport { PageFiltersComponent } from './page-filters/page-filters.component';\r\nimport { PageDetailComponent } from './page-detail/page-detail.component';\r\nimport { PageContentComponent } from './page-content/page-content.component';\r\nimport { ToolbarComponent } from '../toolbar/toolbar.component';\r\nimport { PageContentToolbarComponent } from './page-content/page-content-toolbar/page-content-toolbar.component';\r\n\r\n\r\n\r\n@NgModule({ \r\n  imports: [\r\n    SiiPageContainerComponent,\r\n    PageFiltersComponent,\r\n    PageDetailComponent,\r\n    PageContentComponent,\r\n    ToolbarComponent,\r\n    PageContentToolbarComponent,\r\n  ],\r\n  exports: [\r\n    SiiPageContainerComponent,\r\n    PageFiltersComponent,\r\n    PageDetailComponent,\r\n    PageContentComponent,\r\n    ToolbarComponent,\r\n    PageContentToolbarComponent,\r\n  ]\r\n})\r\nexport class SiiPageContainerModule { }\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { AfterViewInit, Component, Inject, OnInit, ViewChild } from '@angular/core';\r\nimport { UntypedFormControl, FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MAT_DIALOG_DATA, MatDialogRef, MatDialogContent, MatDialogActions, MatDialogClose } from '@angular/material/dialog';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatSort, MatSortHeader } from '@angular/material/sort';\r\nimport { MatTableDataSource, MatTable, MatColumnDef, MatHeaderCellDef, MatHeaderCell, MatCellDef, MatCell, MatHeaderRowDef, MatHeaderRow, MatRowDef, MatRow } from '@angular/material/table';\r\nimport { MatTabChangeEvent, MatTabGroup, MatTab } from '@angular/material/tabs';\r\nimport { merge, Observable } from 'rxjs';\r\nimport { debounceTime, startWith, switchMap, tap, map } from 'rxjs/operators';\r\nimport { ILookupCdcDataDTO } from '../../domain/lookup-cdc-data.dto';\r\nimport { ILookupWorkOrderDataDTO } from '../../domain/lookup-work-order-data.dto';\r\nimport { IPageableLookupCdcDataDTO } from '../../domain/pageable-lookup-cdc-data.dto.';\r\nimport { IPageableLookupWorkOrderDataDTO } from '../../domain/pageable-lookup-work-order-data.dto';\r\nimport { SiiToolkitService } from '../../../../../sii-toolkit.service';\r\nimport { MatButton } from '@angular/material/button';\r\nimport { MatInput } from '@angular/material/input';\r\nimport { MatFormField } from '@angular/material/form-field';\r\nimport { CdkScrollable } from '@angular/cdk/scrolling';\r\n\r\n@Component({\r\n    selector: 'sii-search-work-order-dialog',\r\n    templateUrl: './search-work-order-dialog.component.html',\r\n    styleUrls: ['./search-work-order-dialog.component.css'],\r\n    standalone: true,\r\n    imports: [\r\n        CdkScrollable,\r\n        MatDialogContent,\r\n        MatTabGroup,\r\n        MatTab,\r\n        MatFormField,\r\n        MatInput,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        MatTable,\r\n        MatSort,\r\n        MatColumnDef,\r\n        MatHeaderCellDef,\r\n        MatHeaderCell,\r\n        MatSortHeader,\r\n        MatCellDef,\r\n        MatCell,\r\n        MatHeaderRowDef,\r\n        MatHeaderRow,\r\n        MatRowDef,\r\n        MatRow,\r\n        MatPaginator,\r\n        MatDialogActions,\r\n        MatButton,\r\n        MatDialogClose,\r\n    ],\r\n})\r\nexport class SearchWorkOrderDialogComponent implements OnInit, AfterViewInit {\r\n  @ViewChild('internalOrderPaginator', { read: MatPaginator, }) internalOrderPaginator: MatPaginator;\r\n  @ViewChild('internalOrderSort', { read: MatSort}) internalOrderSort: MatSort;\r\n\r\n  @ViewChild('cdcPaginator', { read: MatPaginator}) cdcPaginator: MatPaginator;\r\n  @ViewChild('cdcSort', { read: MatSort }) cdcSort: MatSort;\r\n\r\n  internalOrderFormControl = new UntypedFormControl();\r\n  internalOrderDisplayedColumns: string[] = ['itemId', 'itemDescription', 'cdcCodice', 'comCp', 'comInizioValidita'];\r\n  internalOrderDataSource: MatTableDataSource<ILookupWorkOrderDataDTO>;\r\n  internalOrderResultsLength = 0;\r\n\r\n  cdcFormControl = new UntypedFormControl();\r\n  cdcDisplayedColumns: string[] = ['itemId', 'itemDescription'];\r\n  cdcDataSource: MatTableDataSource<ILookupCdcDataDTO>;\r\n  cdcResultsLength = 0;\r\n\r\n  utils = {\r\n    ioActivated: false,\r\n    cdcActivated: false,\r\n  };\r\n\r\n  constructor(public dialogRef: MatDialogRef<SearchWorkOrderDialogComponent>,public siiToolkitService: SiiToolkitService,\r\n              public http: HttpClient, @Inject(MAT_DIALOG_DATA) public data: ISearchWorkOrderDialogComponentData) { }\r\n\r\n  ngAfterViewInit() {\r\n    if(this.data.hideIO){\r\n      this.activateSubscribes(1);\r\n    }else{\r\n      this.activateSubscribes(0);\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  activateSubscribes(tabIndex: number) {\r\n    if (tabIndex === 0 && !this.utils.ioActivated && this.internalOrderPaginator != null\r\n      && this.internalOrderSort != null && this.internalOrderFormControl != null) {\r\n      this.utils.ioActivated = true;\r\n      this.internalOrderSort.sortChange.subscribe(() => this.internalOrderPaginator.firstPage());\r\n      this.internalOrderFormControl.valueChanges.subscribe(() => this.internalOrderPaginator.firstPage());\r\n\r\n      merge(this.internalOrderSort.sortChange, this.internalOrderPaginator.page, this.internalOrderFormControl.valueChanges).pipe(\r\n        startWith({}),\r\n        debounceTime(500),\r\n        switchMap((data) => {\r\n          return this.fetchInternalOrderDataFromServer().pipe(map(x=>{x.content.forEach(i=>i.type='IO'); return x;}));\r\n        }),\r\n      ).subscribe((resp) => {\r\n        this.updateInternalOrderData(resp);\r\n      });\r\n    }\r\n\r\n    if (tabIndex === 1 && !this.utils.cdcActivated && this.cdcPaginator != null\r\n      && this.cdcSort != null && this.cdcFormControl != null) {\r\n      this.utils.cdcActivated = true;\r\n      this.cdcSort.sortChange.subscribe(() => this.cdcPaginator.firstPage());\r\n      this.cdcFormControl.valueChanges.subscribe(() => this.cdcPaginator.firstPage());\r\n\r\n      merge(this.cdcSort.sortChange, this.cdcPaginator.page, this.cdcFormControl.valueChanges).pipe(\r\n        startWith({}),\r\n        debounceTime(500),\r\n        switchMap((data) => {\r\n          return this.fetchCdcDataFromServer().pipe(map(x=>{x.content.forEach(i=>i.type='CDC'); return x;}))\r\n        }),\r\n      ).subscribe((resp) => {\r\n        this.updateCdcData(resp);\r\n      });\r\n\r\n    }\r\n  }\r\n\r\n  tabChange(val: MatTabChangeEvent) {\r\n    this.activateSubscribes(val.index);\r\n  }\r\n\r\n  updateInternalOrderData(data: IPageableLookupWorkOrderDataDTO) {\r\n    this.internalOrderDataSource = new MatTableDataSource(data.content);\r\n    this.internalOrderResultsLength = data.totalElements;\r\n  }\r\n  updateCdcData(data: IPageableLookupCdcDataDTO) {\r\n    this.cdcDataSource = new MatTableDataSource(data.content);\r\n    this.cdcResultsLength = data.totalElements;\r\n  }\r\n\r\n  fetchInternalOrderDataFromServer() {\r\n    if (this.data.customPageableIORestFunct === undefined) {\r\n      return this.http.post<IPageableLookupWorkOrderDataDTO>(`${this.siiToolkitService.environment.domain}/lookup/internal_order`,\r\n        {\r\n          text: this.internalOrderFormControl.value,\r\n          codSociety: this.data.codSociety,\r\n          page: this.internalOrderPaginator.pageIndex,\r\n          size: this.internalOrderPaginator.pageSize,\r\n          sortField: this.internalOrderSort.active,\r\n          sortDirection: this.internalOrderSort.direction.toUpperCase(),\r\n        });\r\n    } else {\r\n      return this.data.customPageableIORestFunct(\r\n        this.internalOrderFormControl.value,\r\n        this.internalOrderPaginator.pageIndex,\r\n        this.internalOrderPaginator.pageSize,\r\n        this.internalOrderSort.active,\r\n        this.internalOrderSort.direction.toUpperCase(),\r\n      );\r\n    }\r\n\r\n  }\r\n  fetchCdcDataFromServer() {\r\n    if (this.data.customPageableCdcRestFunct === undefined) {\r\n      return this.http.post<IPageableLookupCdcDataDTO>(`${this.siiToolkitService.environment.domain}/lookup/cdc`,\r\n        {\r\n          text: this.cdcFormControl.value,\r\n          codSociety: this.data.codSociety,\r\n          page: this.cdcPaginator.pageIndex,\r\n          size: this.cdcPaginator.pageSize,\r\n          sortField: this.cdcSort.active,\r\n          sortDirection: this.cdcSort.direction.toUpperCase(),\r\n        });\r\n    } else {\r\n      return this.data.customPageableCdcRestFunct(\r\n        this.cdcFormControl.value,\r\n        this.cdcPaginator.pageIndex,\r\n        this.cdcPaginator.pageSize,\r\n        this.cdcSort.active,\r\n        this.cdcSort.direction.toUpperCase(),\r\n      );\r\n    }\r\n  }\r\n\r\n  selectInternalOrderRow(row: ILookupWorkOrderDataDTO, event: MouseEvent) {\r\n    if (event.view.getSelection().type !== 'Range') {\r\n      this.dialogRef.close(row);\r\n    }\r\n  }\r\n\r\n  selectCdcRow(row: ILookupCdcDataDTO, event: MouseEvent) {\r\n    if (event.view.getSelection().type !== 'Range') {\r\n      this.dialogRef.close(row);\r\n    }\r\n  }\r\n\r\n}\r\n\r\ninterface ISearchWorkOrderDialogComponentData {\r\n  codSociety: string;\r\n  hideCdc:boolean;\r\n  hideIO:boolean;\r\n  // tslint:disable-next-line:max-line-length\r\n  customPageableIORestFunct: (txt: string, page: number, size: number, sortField: string, sortDirection: string) => Observable<IPageableLookupWorkOrderDataDTO>;\r\n  // tslint:disable-next-line:max-line-length\r\n  customPageableCdcRestFunct: (txt: string, page: number, size: number, sortField: string, sortDirection: string) => Observable<IPageableLookupCdcDataDTO>;\r\n}\r\n","\r\n<div mat-dialog-content>\r\n\r\n  <mat-tab-group (selectedTabChange) =\"tabChange($event)\" >\r\n    @if (!data.hideIO) {\r\n      <mat-tab label=\"Internal Order\" i18n-label=\"@@siodialog_internal_order_tab_label\">\r\n        <div class=\"siod_tabContent\">\r\n          <mat-form-field>\r\n            <input matInput [formControl]=\"internalOrderFormControl\"  placeholder=\"Filter\" i18n-placeholder=\"@@siodialog_Filter\">\r\n          </mat-form-field>\r\n          <div class=\"siod_tableContainer\">\r\n            <table mat-table [dataSource]=\"internalOrderDataSource\" class=\"mat-elevation-z8\"\r\n              matSort matSortActive=\"com_inizio_validita\" matSortDisableClear matSortDirection=\"desc\" #internalOrderSort>\r\n              <!-- itemId Column -->\r\n              <ng-container matColumnDef=\"itemId\">\r\n                <th mat-header-cell *matHeaderCellDef mat-sort-header=\"ITEM_ID\" i18n=\"@@siodialog_internal_order\"> internal Order </th>\r\n                <td mat-cell *matCellDef=\"let element\"> {{element.itemId}} </td>\r\n              </ng-container>\r\n              <!-- itemDescription Column -->\r\n              <ng-container matColumnDef=\"itemDescription\">\r\n                <th mat-header-cell *matHeaderCellDef mat-sort-header=\"ITEM_DESCRIPTION\" i18n=\"@@siodialog_description\"> Description </th>\r\n                <td mat-cell *matCellDef=\"let element\"> {{element.itemDescription}} </td>\r\n              </ng-container>\r\n              <!-- cdcCodice Column -->\r\n              <ng-container matColumnDef=\"cdcCodice\">\r\n                <th mat-header-cell *matHeaderCellDef mat-sort-header=\"cdc_codice\" i18n=\"@@siodialog_cdc\"> CDC </th>\r\n                <td mat-cell *matCellDef=\"let element\"> {{element.cdcCodice}} </td>\r\n              </ng-container>\r\n              <!-- comCp Column -->\r\n              <ng-container matColumnDef=\"comCp\">\r\n                <th mat-header-cell *matHeaderCellDef mat-sort-header=\"com_cp\" i18n=\"@@siodialog_cp\"> Cp </th>\r\n                <td mat-cell *matCellDef=\"let element\"> {{element.comCp}} </td>\r\n              </ng-container>\r\n              <!-- comInizioValidita Column -->\r\n              <ng-container matColumnDef=\"comInizioValidita\">\r\n                <th mat-header-cell *matHeaderCellDef mat-sort-header=\"com_inizio_validita\" i18n=\"@@siodialog_validity\"> Validity </th>\r\n                <td mat-cell *matCellDef=\"let element\"> {{element.comInizioValidita}} </td>\r\n              </ng-container>\r\n              <tr mat-header-row *matHeaderRowDef=\"internalOrderDisplayedColumns;sticky: true\"></tr>\r\n              <tr mat-row *matRowDef=\"let row; columns: internalOrderDisplayedColumns;\" (click)=\"selectInternalOrderRow(row,$event)\" ></tr>\r\n            </table>\r\n          </div>\r\n          <mat-paginator #internalOrderPaginator [length]=\"internalOrderResultsLength\" [pageSize]=\"10\" [pageSizeOptions]=\"[5, 10, 20]\"></mat-paginator>\r\n        </div>\r\n      </mat-tab>\r\n    }\r\n    @if (!data.hideCdc) {\r\n      <mat-tab label=\"CDC\" i18n-label=\"@@siodialog_cdc_tab_label\">\r\n        <div class=\"siod_tabContent\">\r\n          <mat-form-field>\r\n            <input matInput [formControl]=\"cdcFormControl\"  placeholder=\"Filter\" i18n=\"@@siodialog_filter\">\r\n          </mat-form-field>\r\n          <div class=\"siod_tableContainer\">\r\n            <table mat-table [dataSource]=\"cdcDataSource\" class=\"mat-elevation-z8\"\r\n              matSort matSortActive=\"ITEM_ID\" matSortDisableClear matSortDirection=\"desc\" #cdcSort>\r\n              <!-- itemId Column -->\r\n              <ng-container matColumnDef=\"itemId\">\r\n                <th mat-header-cell *matHeaderCellDef mat-sort-header=\"ITEM_ID\" i18n=\"@@siodialog_cdc\"> CDC </th>\r\n                  <td mat-cell *matCellDef=\"let element\"> {{element.itemId}} </td>\r\n                </ng-container>\r\n                <!-- itemDescription Column -->\r\n                <ng-container matColumnDef=\"itemDescription\">\r\n                  <th mat-header-cell *matHeaderCellDef mat-sort-header=\"ITEM_DESCRIPTION\" i18n=\"@@siodialog_description\"> Description </th>\r\n                    <td mat-cell *matCellDef=\"let element\"> {{element.itemDescription}} </td>\r\n                  </ng-container>\r\n                  <tr mat-header-row *matHeaderRowDef=\"cdcDisplayedColumns;sticky: true\"></tr>\r\n                  <tr mat-row *matRowDef=\"let row; columns: cdcDisplayedColumns;\" (click)=\"selectCdcRow(row,$event)\" ></tr>\r\n                </table>\r\n              </div>\r\n              <mat-paginator #cdcPaginator [length]=\"cdcResultsLength\" [pageSize]=\"10\" [pageSizeOptions]=\"[5, 10, 20]\"></mat-paginator>\r\n            </div>\r\n          </mat-tab>\r\n        }\r\n      </mat-tab-group>\r\n\r\n\r\n\r\n\r\n    </div>\r\n    <div mat-dialog-actions style=\"float:right\">\r\n      <button mat-button class=\"sii-button-light\" [mat-dialog-close] i18n=\"@@siodialog_cancel_button\">Cancel Operation</button>\r\n      </div>\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Component, EventEmitter, forwardRef, Input, OnChanges, OnInit, Output, SimpleChanges } from '@angular/core';\r\nimport { AbstractControl, ControlValueAccessor, UntypedFormControl, NG_VALIDATORS, NG_VALUE_ACCESSOR, Validator, FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatAutocompleteSelectedEvent, MatAutocompleteTrigger, MatAutocomplete } from '@angular/material/autocomplete';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { BehaviorSubject, merge, Observable, Subject } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged, filter, map, startWith, switchMap, tap } from 'rxjs/operators';\r\nimport { SearchWorkOrderDialogComponent } from './components/search-work-order-dialog/search-work-order-dialog.component';\r\nimport { ILookupCdcDataDTO } from './domain/lookup-cdc-data.dto';\r\nimport { ILookupWorkOrderDataDTO } from './domain/lookup-work-order-data.dto';\r\nimport { ILookupWorkOrderDTO } from './domain/lookup-work-order.dto';\r\nimport { ILookupIOCdcDataBaseDTO } from './domain/lookup-io-cdc-data.dto';\r\nimport { ILookupSubSystemDataDTO } from './domain/lookup-sub-system-data.dto';\r\nimport { IPageableLookupCdcDataDTO } from './domain/pageable-lookup-cdc-data.dto.';\r\nimport { IPageableLookupWorkOrderDataDTO } from './domain/pageable-lookup-work-order-data.dto';\r\nimport { SiiToolkitService } from '../../../sii-toolkit.service';\r\nimport { MatFormFieldAppearance, MatFormField, MatLabel, MatHint, MatSuffix } from '@angular/material/form-field';\r\nimport { MatProgressBar } from '@angular/material/progress-bar';\r\nimport { MatIcon } from '@angular/material/icon';\r\nimport { MatTooltip } from '@angular/material/tooltip';\r\nimport { MatOptgroup, MatOption } from '@angular/material/core';\r\nimport { MatInput } from '@angular/material/input';\r\nimport { NgClass, AsyncPipe } from '@angular/common';\r\n\r\ninterface IresponseError {\r\n  internalOrderInvalid: boolean;\r\n  required: boolean;\r\n  subSystemInvalid: boolean;\r\n  subSystemRequired: boolean;\r\n}\r\n\r\n@Component({\r\n    selector: 'sii-lookup-work-order',\r\n    templateUrl: './lookup-work-order.component.html',\r\n    styleUrls: ['./lookup-work-order.component.scss'],\r\n    providers: [\r\n        {\r\n            provide: NG_VALUE_ACCESSOR,\r\n            useExisting: forwardRef(() => LookupWorkOrderComponent),\r\n            multi: true,\r\n        },\r\n        { provide: NG_VALIDATORS, useExisting: LookupWorkOrderComponent, multi: true },\r\n    ],\r\n    standalone: true,\r\n    imports: [\r\n        MatFormField,\r\n        NgClass,\r\n        MatLabel,\r\n        MatInput,\r\n        MatAutocompleteTrigger,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        MatAutocomplete,\r\n        MatOptgroup,\r\n        MatOption,\r\n        MatTooltip,\r\n        MatHint,\r\n        MatIcon,\r\n        MatSuffix,\r\n        MatProgressBar,\r\n        AsyncPipe,\r\n    ],\r\n})\r\n\r\nexport class LookupWorkOrderComponent implements OnInit, ControlValueAccessor, Validator, OnChanges {\r\n  @Input() label: string;\r\n  @Input() hideCdc = false;\r\n  @Input() hideIO = false;\r\n  @Input() hideSS = false;\r\n  @Input() appearance = 'outline' as MatFormFieldAppearance;\r\n  @Input() codSociety: string;\r\n  @Input() required = false;\r\n  @Input() disabled = false;\r\n  @Input() customIORestFunct: (txt: string) => Observable<ILookupIOCdcDataBaseDTO[]>;\r\n  @Input() customCDCRestFunct: (txt: string) => Observable<ILookupIOCdcDataBaseDTO[]>;\r\n  // tslint:disable-next-line:max-line-length\r\n  @Input() customPageableIORestFunct: (txt: string, page: number, size: number, sortField: string, sortDirection: string) => Observable<IPageableLookupWorkOrderDataDTO>;\r\n  // tslint:disable-next-line:max-line-length\r\n  @Input() customPageableCDCRestFunct: (txt: string, page: number, size: number, sortField: string, sortDirection: string) => Observable<IPageableLookupCdcDataDTO>;\r\n\r\n  @Input() refresh:Subject<string>;\r\n\r\n  defaultComSS = { comSS: 'AA01', comSSDescription: 'AA01' };\r\n\r\n  lookupInternalOrderComponentCtrl = new UntypedFormControl();\r\n  lookupSubSystemComponentCtrl = new UntypedFormControl();\r\n\r\n  internalOrderRestObs: Observable<ILookupIOCdcDataBaseDTO[]>; // lista di risultati commessa\r\n  cdcRestObs: Observable<ILookupIOCdcDataBaseDTO[]>; // lista di risultati cdc\r\n\r\n  subSystemDataObs: Observable<ILookupSubSystemDataDTO[]>;\r\n  subSystemData: ILookupSubSystemDataDTO[] = [];\r\n  subjectSubSystemDataChange = new Subject<string | void>();\r\n  subjectOnChange = new Subject<string | void>();\r\n\r\n  selectedItem: ILookupWorkOrderDTO = {} as ILookupWorkOrderDTO;\r\n\r\n  utils = {\r\n    subsystemLoadingInProgress: false,\r\n    ioLoadingInProgress: false,\r\n    cdcLoadingInProgress: false,\r\n    internalOrderValid: true,\r\n    subSystemValid: true,\r\n    forceSearch: 0,\r\n  };\r\n\r\n  propagateChange: any = () => { };\r\n  onTouchedCallback: any = () => { };\r\n  validatorCallback: any = () => { };\r\n\r\n  ngOnInit() {\r\n    // this.checkSubSystemValue();\r\n  }\r\n\r\n  constructor(public http: HttpClient, public dialog: MatDialog, public siiToolkitService: SiiToolkitService) {\r\n\r\n    // ricerco le commessa in base al valore inserito nel campo di input\r\n    this.internalOrderRestObs = this.getcommCdcInputValueChangeObserver()\r\n      .pipe(\r\n        tap((res) => this.utils.ioLoadingInProgress = true),\r\n        // switchMap((val) => this.getIODataFromServer(val)),\r\n        switchMap((val) => this.getIODataFromServer(val)),\r\n        tap((res) => this.utils.ioLoadingInProgress = false),\r\n      );\r\n\r\n    // ricerco i cdc in base al valore inserito nel campo di input\r\n    this.cdcRestObs = this.getcommCdcInputValueChangeObserver()\r\n      .pipe(\r\n        tap((res) => this.utils.cdcLoadingInProgress = true),\r\n        switchMap((val) => this.getCDCDataFromServer(val)),\r\n        tap((res) => this.utils.cdcLoadingInProgress = false),\r\n      );\r\n\r\n    // ricerco i sottosistemi in base al valore inserito nel campo di input o al cambiamento di commessa/cdc\r\n    this.subSystemDataObs = merge(this.lookupSubSystemComponentCtrl.valueChanges, this.subjectSubSystemDataChange)\r\n      .pipe(\r\n        startWith(null),\r\n        tap((text) => { if (typeof text === 'string') { this.comSSChange({ comSS: text, comSSDescription: text }, false); } }),\r\n        filter((text) => text == null || typeof text === 'string'),\r\n        map((txt) => {\r\n          return txt ? this._filterSubSystem(txt as string) : this.subSystemData.slice();\r\n        }),\r\n      );\r\n\r\n    this.subjectOnChange.pipe(debounceTime(500)).subscribe(() => this.onChange());\r\n\r\n  }\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if(changes.refresh && this.refresh!=null){\r\n      this.refresh.subscribe((ioCdcText:string)=>{\r\n        this.utils.forceSearch = 2;\r\n        this.lookupInternalOrderComponentCtrl.setValue(ioCdcText);\r\n      });\r\n    }\r\n  }\r\n\r\n  getcommCdcInputValueChangeObserver() {\r\n    return this.lookupInternalOrderComponentCtrl.valueChanges\r\n      .pipe(\r\n        tap((text) => { if (typeof text === 'string') { this.ioCdcChange(null); this.comSSChange(null); } }),\r\n        filter((text) =>typeof text === 'string' && ( !!this.utils.forceSearch || text.length > 2)),\r\n        debounceTime(500),\r\n        distinctUntilChanged((a,b)=>{return a===b && !this.utils.forceSearch;} ),\r\n        tap(()=>this.utils.forceSearch--),\r\n      );\r\n  }\r\n\r\n  displayFn(intOrd?: ILookupWorkOrderDataDTO | ILookupCdcDataDTO): string | undefined {\r\n    return intOrd ? intOrd.itemId : undefined;\r\n  }\r\n\r\n  displayComSSFn(intOrd?: ILookupSubSystemDataDTO): string | undefined {\r\n    return intOrd ? intOrd.comSS : undefined;\r\n  }\r\n\r\n  // selezione di comSS dall'autocomplete\r\n  onComSSSelectionChanged(event: MatAutocompleteSelectedEvent) {\r\n    this.comSSChange(event.option.value, false);\r\n  }\r\n\r\n  comSSChange(comSS: ILookupSubSystemDataDTO, updateInputValue = true) {\r\n    this.selectedItem.comSS = comSS != null ? comSS.comSS : null;\r\n    this.selectedItem.comSSDescrizione = comSS != null ? comSS.comSSDescription : null;\r\n    this.selectedItem.comSSDescrizione = comSS != null ? comSS.comSSDescription : null;\r\n    if (updateInputValue) {\r\n      this.updateSubSystemComponentValue();\r\n    }\r\n    this.subjectOnChange.next();\r\n  }\r\n\r\n  ioCdcChange(item: ILookupIOCdcDataBaseDTO) {\r\n    this.selectedItem.commessa = item != null ? item.itemId : null;\r\n    this.selectedItem.commessaDescrizione = item != null ? item.itemDescription : null;\r\n    this.selectedItem.type = item != null ? item.type : null;\r\n    this.selectedItem._dbData=item as any;\r\n    this.subjectOnChange.next();\r\n    if(!this.hideSS){\r\n        this.loadSubSystem();\r\n      }\r\n  }\r\n\r\n  onSelectionChanged(event: MatAutocompleteSelectedEvent) {\r\n    this.ioCdcChange(event.option.value);\r\n  }\r\n\r\n  loadSubSystem() {\r\n    this.subSystemData = [];\r\n    this.subjectSubSystemDataChange.next();\r\n    if (this.selectedItem != null && this.selectedItem.commessa != null) {\r\n      this.utils.subsystemLoadingInProgress = true;\r\n      this.http.get<ILookupSubSystemDataDTO[]>(\r\n        `${this.siiToolkitService.environment.domain}/lookup/comSS?internalOrder=${encodeURIComponent(this.selectedItem.commessa)}`)\r\n        .subscribe((res) => {\r\n          this.subSystemData = res;\r\n          this.comSSChange(res.length > 0 ? res[0] : this.defaultComSS);\r\n          this.subjectSubSystemDataChange.next();\r\n          this.utils.subsystemLoadingInProgress = false;\r\n        });\r\n    }\r\n  }\r\n\r\n  private checkEnableComSS() {\r\n    // tslint:disable-next-line:max-line-length\r\n    const itemValueValidAndEnabled = this.selectedItem != null && this.selectedItem.commessa != null && this.lookupInternalOrderComponentCtrl.enabled;\r\n\r\n    if (itemValueValidAndEnabled && this.lookupSubSystemComponentCtrl.disabled) {\r\n      this.lookupSubSystemComponentCtrl.enable();\r\n    } else if (!itemValueValidAndEnabled && this.lookupSubSystemComponentCtrl.enabled) {\r\n      this.lookupSubSystemComponentCtrl.disable();\r\n    }\r\n  }\r\n\r\n  private _filterSubSystem(value: string): ILookupSubSystemDataDTO[] {\r\n    const filterValue = value.toLowerCase();\r\n    return this.subSystemData.filter((val) => val.comSS.toLowerCase().indexOf(filterValue) === 0);\r\n  }\r\n\r\n  getIODataFromServer(txt: string) {\r\n    return (this.customIORestFunct === undefined ? this.useIODefaultRestObs(txt) : this.customIORestFunct(txt))\r\n    .pipe(map(x=>{x.forEach(i=>i.type='IO'); return x;}));\r\n  }\r\n\r\n  getCDCDataFromServer(txt: string):Observable<any> {\r\n    return (this.customCDCRestFunct === undefined ? this.useCDCDefaultRestObs(txt) : this.customCDCRestFunct(txt))\r\n    .pipe(map(x=>{x.forEach(i=>i.type='CDC'); return x;}));;\r\n  }\r\n\r\n  useIODefaultRestObs(txt: string) {\r\n    return this.http.post<ILookupIOCdcDataBaseDTO[]>(`${this.siiToolkitService.environment.domain}/lookup/internal_order/simple`,\r\n      {\r\n        text: txt,\r\n        codSociety: this.codSociety,\r\n      });\r\n\r\n  }\r\n  useCDCDefaultRestObs(txt: string) {\r\n    return this.http.post<ILookupIOCdcDataBaseDTO[]>(`${this.siiToolkitService.environment.domain}/lookup/cdc/simple`,\r\n      {\r\n        text: txt,\r\n        codSociety: this.codSociety,\r\n      });\r\n\r\n  }\r\n\r\n  searchPopup() {\r\n    const dialogRef = this.dialog.open(SearchWorkOrderDialogComponent, {\r\n      width: '100vw',\r\n      height: '95%',\r\n      data: {\r\n        codSociety: this.codSociety,\r\n        customPageableIORestFunct: this.customPageableIORestFunct,\r\n        customPageableCdcRestFunct: this.customPageableCDCRestFunct,\r\n        hideCdc:this.hideCdc,\r\n        hideIO:this.hideIO\r\n      },\r\n    });\r\n    dialogRef.afterClosed().subscribe((result: ILookupWorkOrderDataDTO) => {\r\n      if (result !== undefined) {\r\n        this.ioCdcChange(result);\r\n        this.updateIOComponentValue();\r\n      }\r\n    });\r\n  }\r\n\r\n  updateIOComponentValue() {\r\n    this.lookupInternalOrderComponentCtrl.setValue({\r\n      itemId: this.selectedItem != null ? (this.selectedItem.commessa || '') : '',\r\n      itemDescription: this.selectedItem != null ? (this.selectedItem.commessaDescrizione || '') : '',\r\n    });\r\n  }\r\n  updateSubSystemComponentValue() {\r\n    this.lookupSubSystemComponentCtrl.setValue({\r\n      comSS: this.selectedItem != null ? (this.selectedItem.comSS || '') : '',\r\n      comSSDescription: this.selectedItem != null ? (this.selectedItem.comSSDescrizione || '') : '',\r\n    });\r\n\r\n  }\r\n\r\n  // metodi per la gestione dell'ngModel\r\n  writeValue(value: ILookupWorkOrderDTO): void {\r\n    this.selectedItem = value;\r\n    this.updateIOComponentValue();\r\n    this.updateSubSystemComponentValue();\r\n    this.checkEnableComSS();\r\n  }\r\n\r\n  onChange() {\r\n    // this.onTouchedCallback();\r\n    // console.log(this.selectedItem)\r\n    this.propagateChange(this.selectedItem);\r\n    this.checkEnableComSS();\r\n  }\r\n\r\n  registerOnChange(fn: any): void {\r\n    this.propagateChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: any) {\r\n    this.onTouchedCallback = fn;\r\n  }\r\n\r\n  registerOnValidatorChange?(fn: () => void): void {\r\n    this.validatorCallback = fn;\r\n  }\r\n\r\n  // Allows Angular to disable the input.\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.disabled = isDisabled;\r\n    if (this.disabled) {\r\n      this.lookupInternalOrderComponentCtrl.disable();\r\n    } else { this.lookupInternalOrderComponentCtrl.enable(); }\r\n    this.checkEnableComSS();\r\n  }\r\n\r\n  validate(control: AbstractControl): { [key: string]: any } | null {\r\n\r\n    const internalOrderInputValue = this.lookupInternalOrderComponentCtrl.value;\r\n    const respErr = {} as IresponseError;\r\n\r\n    let iovalid = true;\r\n    let ssValid = true;\r\n\r\n    // validazione commessa/cdc\r\n    if (this.required !== false) { // obbligatorio\r\n      if (this.selectedItem == null || this.selectedItem.commessa == null) {\r\n        respErr.required = true;\r\n        iovalid = false;\r\n      }\r\n    } else { // non obbligatorio\r\n      if (typeof internalOrderInputValue === 'string' && internalOrderInputValue.trim() !== '') {\r\n        respErr.internalOrderInvalid = true;\r\n        iovalid = false;\r\n      }\r\n    }\r\n\r\n    // validazione sottosistema\r\n    if(!this.hideSS){\r\n      if (this.required !== false) { // obbligatorio\r\n        if (this.selectedItem == null || this.selectedItem.comSS == null || this.selectedItem.comSS.length !== 4) {\r\n          respErr.subSystemInvalid = true;\r\n          respErr.subSystemRequired = true;\r\n          ssValid = false;\r\n        }\r\n      } else { // non obbligatorio\r\n        if (this.selectedItem != null && this.selectedItem.comSS != null &&\r\n           (this.selectedItem.comSS.length > 0 && this.selectedItem.comSS.length !== 4)) {\r\n          respErr.subSystemInvalid = true;\r\n          ssValid = false;\r\n        }\r\n      }\r\n    }\r\n\r\n    this.utils.internalOrderValid = iovalid;\r\n    this.utils.subSystemValid = ssValid;\r\n    return Object.keys(respErr).length === 0 ? null : respErr;\r\n  }\r\n\r\n}\r\n","<div class=\"lio-mff-container lio-io-cont\" >\r\n  <mat-form-field [appearance]=\"appearance\"  [ngClass]=\"{'lio_fc_invalid': !utils.internalOrderValid}\" >\r\n\r\n    @if(!!label){\r\n      <mat-label>{{label}}</mat-label>\r\n    }\r\n    @else if (!hideIO && !hideCdc) {\r\n        <mat-label i18n=\"@@lookIOCdc_internalorder_cdc\" >Work Order / CDC</mat-label>\r\n      }\r\n    @else if (hideIO) {\r\n        <mat-label i18n=\"@@lookIOCdc_cdc\" >CDC</mat-label>\r\n      }\r\n    @else if (hideCdc) {\r\n        <mat-label i18n=\"@@lookIOCdc_internalorder\" >Work Order</mat-label>\r\n      }\r\n    \r\n\r\n    <input matInput [required]=\"required\"\r\n      aria-label=\"Internal order / cdc\"\r\n      [matAutocomplete]=\"lookupInternalOrderAutocompleteRef\"\r\n      [formControl]=\"lookupInternalOrderComponentCtrl\"  >\r\n      <mat-autocomplete #lookupInternalOrderAutocompleteRef=\"matAutocomplete\"  [displayWith]=\"displayFn\"  class=\"lioAutoComplete\" (optionSelected)=\"onSelectionChanged($event)\">\r\n\r\n        @if (!hideIO) {\r\n          <mat-optgroup label=\"Work Orders\" i18n-label=\"@@lookIOCdc_internalorders\">\r\n            @for (intOrd of internalOrderRestObs | async; track intOrd) {\r\n              <mat-option [value]=\"intOrd\" style=\"border-bottom: 1px solid lightgray;\"\r\n                [matTooltip]=\"intOrd.itemId +' | ' +intOrd.itemDescription\" matTooltipShowDelay=1000>\r\n                <div class=\"lioAutocompleteItems\">\r\n                  <span class=\"lioAutocompleteItemsId\">{{intOrd.itemId}}</span>\r\n                  <span class=\"lioAutocompleteItemsDescr\">{{intOrd.itemDescription}}</span>\r\n                </div>\r\n              </mat-option>\r\n            }\r\n          </mat-optgroup>\r\n        }\r\n\r\n        @if (!hideCdc) {\r\n          <mat-optgroup label=\"CDC\" i18n-label=\"@@lookIOCdc_cdc\">\r\n            @for (intOrd of cdcRestObs | async; track intOrd) {\r\n              <mat-option [value]=\"intOrd\" style=\"border-bottom: 1px solid lightgray;\"\r\n                [matTooltip]=\"intOrd.itemId +' | ' +intOrd.itemDescription\" matTooltipShowDelay=1000>\r\n                <div class=\"lioAutocompleteItems\">\r\n                  <span class=\"lioAutocompleteItemsId\">{{intOrd.itemId}}</span>\r\n                  <span class=\"lioAutocompleteItemsDescr\">{{intOrd.itemDescription}}</span>\r\n                </div>\r\n              </mat-option>\r\n            }\r\n          </mat-optgroup>\r\n        }\r\n      </mat-autocomplete>\r\n\r\n      @if (selectedItem!=undefined) {\r\n        <mat-hint class=\"lioHint\"  [matTooltip]=\"selectedItem.commessaDescrizione\" >{{selectedItem.commessaDescrizione}}</mat-hint>\r\n      }\r\n      <mat-icon [style.visibility]=\"!(disabled!==false) ? 'initial' : 'hidden'\" style=\"cursor: pointer;\" matSuffix (click)=\"searchPopup();$event.stopPropagation();\">search</mat-icon>\r\n    </mat-form-field>\r\n    @if (utils.ioLoadingInProgress || utils.cdcLoadingInProgress) {\r\n      <mat-progress-bar class=\"lioProgressBar\" mode=\"query\"></mat-progress-bar>\r\n    }\r\n  </div>\r\n\r\n\r\n\r\n\r\n  @if(!hideSS){\r\n  <div class=\"lio-mff-container\">\r\n    <mat-form-field [appearance]=\"appearance\"    [ngClass]=\"{'lio_fc_invalid': !utils.subSystemValid}\" >\r\n      <mat-label i18n=\"@@lookIOCdc_subsystem\" >Sub System</mat-label>\r\n      <input matInput [required]=\"required\"\r\n        aria-label=\"Sub System\"\r\n        [matAutocomplete]=\"lookupSubSystemAutocompleteRef\"\r\n        [formControl]=\"lookupSubSystemComponentCtrl\"  >\r\n\r\n        <mat-autocomplete #lookupSubSystemAutocompleteRef=\"matAutocomplete\"    class=\"lioAutoComplete\" [displayWith]=\"displayComSSFn\" (optionSelected)=\"onComSSSelectionChanged($event)\">\r\n          @for (comss of subSystemDataObs | async; track comss) {\r\n            <mat-option [value]=\"comss\"\r\n              [matTooltip]=\"comss.comSS +' | ' +comss.comSSDescription\" matTooltipShowDelay=1000>\r\n              <div class=\"lioAutocompleteItems\">\r\n                <span class=\"lioAutocompleteItemsId\">{{comss.comSS}}</span>\r\n                <span class=\"lioAutocompleteItemsDescr\">{{comss.comSSDescription}}</span>\r\n              </div>\r\n            </mat-option>\r\n          }\r\n        </mat-autocomplete>\r\n        @if (selectedItem!=undefined) {\r\n          <mat-hint class=\"lioHint\"  [matTooltip]=\"selectedItem.comSSDescrizione\" >{{selectedItem.comSSDescrizione}}</mat-hint>\r\n        }\r\n      </mat-form-field>\r\n      @if (utils.subsystemLoadingInProgress) {\r\n        <mat-progress-bar class=\"lioProgressBar\" mode=\"query\"></mat-progress-bar>\r\n      }\r\n    </div>\r\n  }","import { HttpClient } from '@angular/common/http';\r\nimport { Component, EventEmitter, forwardRef, Input } from '@angular/core';\r\nimport { AbstractControl, ControlValueAccessor, UntypedFormControl, NG_VALIDATORS, NG_VALUE_ACCESSOR, Validator, FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatAutocompleteSelectedEvent, MatAutocompleteTrigger, MatAutocomplete } from '@angular/material/autocomplete';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { Observable } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged, filter, map, startWith, switchMap, tap } from 'rxjs/operators';\r\nimport { SearchOdaPosDialogComponent } from './components/search-oda-pos-dialog/search-oda-pos-dialog.component';\r\nimport { ILookupOdaDataDTO } from './domain/lookup-oda-data.dto';\r\nimport { IOdaposDTO } from './domain/oda-pos.dto';\r\nimport { SiiToolkitService } from '../../../sii-toolkit.service';\r\nimport { MatFormFieldAppearance, MatFormField, MatLabel, MatSuffix, MatHint } from '@angular/material/form-field';\r\nimport { MatProgressBar } from '@angular/material/progress-bar';\r\nimport { MatTooltip } from '@angular/material/tooltip';\r\nimport { MatOption } from '@angular/material/core';\r\nimport { MatInput } from '@angular/material/input';\r\nimport { NgClass, AsyncPipe } from '@angular/common';\r\n\r\ninterface IresponseError {\r\n  odaValid: boolean;\r\n  required: boolean;\r\n}\r\n\r\n@Component({\r\n    selector: 'sii-lookup-oda-pos',\r\n    templateUrl: './lookup-oda-pos.component.html',\r\n    styleUrls: ['./lookup-oda-pos.component.scss'],\r\n    providers: [\r\n        {\r\n            provide: NG_VALUE_ACCESSOR,\r\n            useExisting: forwardRef(() => LookupOdaPosComponent),\r\n            multi: true,\r\n        },\r\n        { provide: NG_VALIDATORS, useExisting: LookupOdaPosComponent, multi: true },\r\n    ],\r\n    standalone: true,\r\n    imports: [\r\n        MatFormField,\r\n        NgClass,\r\n        MatLabel,\r\n        MatInput,\r\n        MatAutocompleteTrigger,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        MatAutocomplete,\r\n        MatOption,\r\n        MatTooltip,\r\n        MatSuffix,\r\n        MatHint,\r\n        MatProgressBar,\r\n        AsyncPipe,\r\n    ],\r\n})\r\nexport class LookupOdaPosComponent implements Validator, ControlValueAccessor {\r\n  @Input() appearance = 'legacy' as MatFormFieldAppearance;\r\n  @Input() codSociety: string;\r\n  @Input() codSupplier: string;\r\n  @Input() lavMatricola: string;\r\n  @Input() tipologie: number[];\r\n\r\n  @Input() disabled = false;\r\n  @Input() required = false;\r\n\r\n  utils = {\r\n    odaValid: false,\r\n    odaLength: -1,\r\n    loadingInProgress: false,\r\n  };\r\n\r\n  selectedItem: IOdaposDTO = { pos: null, oda: null };\r\n\r\n  lookupOdaComponentCtrl = new UntypedFormControl();\r\n  odaRestObs: Observable<ILookupOdaDataDTO[]>;\r\n\r\n  propagateChange: any = () => { };\r\n  onTouchedCallback: any = () => { };\r\n  validatorCallback: any = () => { };\r\n\r\n  constructor(public http: HttpClient, public dialog: MatDialog, public siiToolkitService: SiiToolkitService) {\r\n    this.odaRestObs = this.lookupOdaComponentCtrl.valueChanges\r\n      .pipe(\r\n        startWith(''),\r\n        debounceTime(500),\r\n        tap((text) => { if (typeof text === 'string') { this.onChange(null); } }),\r\n        // tslint:disable-next-line:max-line-length\r\n        map((text) => (typeof text === 'object' && ((text as IOdaposDTO).oda === undefined || (text as IOdaposDTO).oda === null)) ? '' : text),\r\n        filter((text) => typeof text === 'string'),\r\n        distinctUntilChanged(),\r\n        tap((res) => this.utils.loadingInProgress = true),\r\n        switchMap((val) => this.getOdaDataFromServer(val)),\r\n        tap((res) => {\r\n          this.utils.odaLength = res.length;\r\n          this.utils.loadingInProgress = false;\r\n        }),\r\n      );\r\n\r\n  }\r\n\r\n  getOdaDataFromServer(val: string) {\r\n    return true ? this.useOdaDefaultRestObs(val) : null;\r\n  }\r\n\r\n  useOdaDefaultRestObs(txt: string) {\r\n    return this.http.post<ILookupOdaDataDTO[]>(`${this.siiToolkitService.environment.domain}/lookup/oda/simple`,\r\n      {\r\n        text: txt && txt.trim().length !== 0 ? txt : null,\r\n        codSociety: this.codSociety,\r\n        codSupplier: this.codSupplier,\r\n        lavMatricola: this.lavMatricola,\r\n        tipologie: this.tipologie,\r\n      });\r\n  }\r\n\r\n  displayOdaFn(oda: ILookupOdaDataDTO): string | undefined {\r\n    return oda ? oda.oda : undefined;\r\n  }\r\n\r\n  // disabilitato, da completare su richiesta\r\n  // searchPopup() {\r\n  //   const dialogRef = this.dialog.open(SearchOdaPosDialogComponent, {\r\n  //     width: '100vw',\r\n  //     height: '95%',\r\n  //     data: {\r\n  //       codSociety: this.codSociety,\r\n  //       codSupplier: this.codSupplier,\r\n  //       lavMatricola: this.lavMatricola,\r\n  //       tipologie: this.tipologie,\r\n  //     },\r\n  //   });\r\n  //   dialogRef.afterClosed().subscribe((result: ILookupOdaDataDTO) => {\r\n  //     if (result !== undefined) {\r\n  //       this.onChange(result);\r\n  //       this.lookupOdaComponentCtrl.setValue(result);\r\n  //     }\r\n  //   });\r\n  // }\r\n\r\n  onSelectionChanged(event: MatAutocompleteSelectedEvent) {\r\n    this.onChange(event.option.value as ILookupOdaDataDTO);\r\n  }\r\n\r\n  onChange(item: ILookupOdaDataDTO) {\r\n    this.onTouchedCallback();\r\n    this.selectedItem.oda = item != null ? item.oda : null;\r\n    this.selectedItem.pos = item != null ? item.pos : null;\r\n    this.propagateChange(this.selectedItem);\r\n  }\r\n\r\n  validate(control: AbstractControl): { [key: string]: any } | null {\r\n    const odaval = this.lookupOdaComponentCtrl.value;\r\n    const respErr = {} as IresponseError;\r\n    if (odaval === null || typeof odaval === 'string') {\r\n      if (this.required !== false) {\r\n        respErr.odaValid = false;\r\n        respErr.required = true;\r\n      } else if ((odaval || '').trim() !== '') {\r\n        respErr.odaValid = false;\r\n      }\r\n    }\r\n    this.utils.odaValid = Object.keys(respErr).length === 0;\r\n    return this.utils.odaValid ? null : respErr;\r\n  }\r\n\r\n  registerOnValidatorChange?(fn: () => void): void {\r\n    this.validatorCallback = fn;\r\n  }\r\n\r\n  writeValue(obj: any): void {\r\n    this.selectedItem = obj as IOdaposDTO;\r\n    this.lookupOdaComponentCtrl.setValue(this.selectedItem);\r\n  }\r\n\r\n  registerOnChange(fn: any): void { this.propagateChange = fn; }\r\n\r\n  registerOnTouched(fn: any) { this.onTouchedCallback = fn; }\r\n\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.disabled = isDisabled;\r\n    if (this.disabled) {\r\n      this.lookupOdaComponentCtrl.disable();\r\n    } else { this.lookupOdaComponentCtrl.enable(); }\r\n\r\n  }\r\n\r\n}\r\n","<mat-form-field [appearance]=\"appearance\" class=\"lop_mff\" [ngClass]=\"{'lop_fc_invalid': !utils.odaValid}\">\r\n  <mat-label i18n=\"@@lookOdaPos__oda\" >ODA</mat-label>\r\n  <input matInput\r\n    [required]=\"required\"\r\n    aria-label=\"ODA\"\r\n    [matAutocomplete]=\"lookupOdaAutocompleteRef\"\r\n    [formControl]=\"lookupOdaComponentCtrl\"  >\r\n\r\n    <mat-autocomplete #lookupOdaAutocompleteRef=\"matAutocomplete\" class=\"lopAutoComplete\" [displayWith]=\"displayOdaFn\" (optionSelected)=\"onSelectionChanged($event)\">\r\n      @for (odaItem of odaRestObs | async; track odaItem) {\r\n        <mat-option [value]=\"odaItem\" style=\"border-bottom: 1px solid lightgray;\">\r\n          <div class=\"lopAutocompleteItems\">\r\n            <span class=\"lopAutocompleteItemsId\"> ODA/POS : <b>{{odaItem.oda}} / {{odaItem.pos}}</b></span>\r\n            <span class=\"lopAutocompleteItemsDescr\" [matTooltip]=\"odaItem.noteOda\" matTooltipShowDelay=500>{{odaItem.noteOda}}</span>\r\n            <ul class=\"lopAutocompleteListItemsDescr\">\r\n              @for (mat of odaItem.materiali; track mat) {\r\n                <li  [matTooltip]=\"mat\" matTooltipShowDelay=500>{{mat}}</li>\r\n              }\r\n            </ul>\r\n            <!-- <span class=\"lopAutocompleteItemsDescr\" [matTooltip]=\"odaItem.materiale +' - '+odaItem.descrizioneRiga\" matTooltipShowDelay=1000>{{odaItem.materiale +' - '+odaItem.descrizioneRiga}}</span>  -->\r\n          </div>\r\n        </mat-option>\r\n      }\r\n    </mat-autocomplete>\r\n\r\n    @if (selectedItem?.pos!=null) {\r\n      <div matSuffix style=\"width: 80px; \">\r\n        <div><mat-label i18n=\"@@lookOdaPos_pos\">POS</mat-label>: {{selectedItem?.pos}}</div>\r\n        <!-- disabilitato, da completare su richiesta -->\r\n        <!-- <mat-icon class=\"lopSearchIcon\" [style.visibility]=\"!(disabled!==false) ? 'initial' : 'hidden'\" style=\"cursor: pointer;\"  (click)=\"searchPopup();$event.stopPropagation();\">search</mat-icon> -->\r\n      </div>\r\n    }\r\n\r\n    @if (utils.odaLength==0) {\r\n      <mat-hint i18n=\"@@lookOdaPos_no_available_oda\">No Available Oda</mat-hint>\r\n    }\r\n  </mat-form-field>\r\n  @if (utils.loadingInProgress) {\r\n    <mat-progress-bar class=\"lopProgressBar\" mode=\"query\"></mat-progress-bar>\r\n  }\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { AfterViewInit, Component, Inject, OnInit, ViewChild } from '@angular/core';\r\nimport { UntypedFormControl, FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MAT_DIALOG_DATA, MatDialogRef, MatDialogContent, MatDialogActions, MatDialogClose } from '@angular/material/dialog';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatSort, MatSortHeader } from '@angular/material/sort';\r\nimport { MatTableDataSource, MatTable, MatColumnDef, MatHeaderCellDef, MatHeaderCell, MatCellDef, MatCell, MatHeaderRowDef, MatHeaderRow, MatRowDef, MatRow } from '@angular/material/table';\r\nimport { merge, ObservableInput } from 'rxjs';\r\nimport { debounceTime, startWith, switchMap } from 'rxjs/operators';\r\nimport { ILookupOdaDataDTO } from '../../domain/lookup-oda-data.dto';\r\nimport { IPageableLookupOdaPosDataDTO } from '../../domain/pageable-lookup-oda-pos-data.dto';\r\nimport { SiiToolkitService } from '../../../../../sii-toolkit.service';\r\nimport { MatButton } from '@angular/material/button';\r\nimport { MatInput } from '@angular/material/input';\r\nimport { MatFormField } from '@angular/material/form-field';\r\nimport { CdkScrollable } from '@angular/cdk/scrolling';\r\n@Component({\r\n    selector: 'sii-search-oda-pos-dialog',\r\n    templateUrl: './search-oda-pos-dialog.component.html',\r\n    styleUrls: ['./search-oda-pos-dialog.component.css'],\r\n    standalone: true,\r\n    imports: [\r\n        CdkScrollable,\r\n        MatDialogContent,\r\n        MatFormField,\r\n        MatInput,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        MatTable,\r\n        MatSort,\r\n        MatColumnDef,\r\n        MatHeaderCellDef,\r\n        MatHeaderCell,\r\n        MatSortHeader,\r\n        MatCellDef,\r\n        MatCell,\r\n        MatHeaderRowDef,\r\n        MatHeaderRow,\r\n        MatRowDef,\r\n        MatRow,\r\n        MatPaginator,\r\n        MatDialogActions,\r\n        MatButton,\r\n        MatDialogClose,\r\n    ],\r\n})\r\nexport class SearchOdaPosDialogComponent implements AfterViewInit {\r\n  @ViewChild('odaposPaginator', { read: MatPaginator, static: true }) odaposPaginator: MatPaginator;\r\n  @ViewChild('odaposSort', { read: MatSort, static: true }) odaposSort: MatSort;\r\n\r\n  odaposFormControl = new UntypedFormControl();\r\n  odaposDisplayedColumns: string[] = ['oda', 'pos'];\r\n  odaposDataSource: MatTableDataSource<ILookupOdaDataDTO>;\r\n  odaposResultsLength = 0;\r\n\r\n  constructor(public dialogRef: MatDialogRef<SearchOdaPosDialogComponent>,public siiToolkitService: SiiToolkitService,\r\n              public http: HttpClient, @Inject(MAT_DIALOG_DATA) public data: ISearchOdaPosDialogComponentData) { }\r\n\r\n  ngAfterViewInit() {\r\n    this.odaposSort.sortChange.subscribe(() => this.odaposPaginator.firstPage());\r\n    this.odaposFormControl.valueChanges.subscribe(() => this.odaposPaginator.firstPage());\r\n\r\n    merge(this.odaposSort.sortChange, this.odaposPaginator.page, this.odaposFormControl.valueChanges).pipe(\r\n        startWith({}),\r\n        debounceTime(500),\r\n        switchMap((data) => {\r\n          return this.fetchOdaposDataFromServer();\r\n        }),\r\n      ).subscribe((resp) => {\r\n        this.updateOdaposData(resp);\r\n      });\r\n  }\r\n  updateOdaposData(data: IPageableLookupOdaPosDataDTO) {\r\n    this.odaposDataSource = new MatTableDataSource(data.content);\r\n    this.odaposResultsLength = data.totalElements;\r\n  }\r\n  fetchOdaposDataFromServer(): ObservableInput<IPageableLookupOdaPosDataDTO> {\r\n    return this.http.post<IPageableLookupOdaPosDataDTO>(`${this.siiToolkitService.environment.domain}/lookup/oda`,\r\n      {\r\n        text: this.odaposFormControl.value,\r\n        codSociety: this.data.codSociety,\r\n        codSupplier: this.data.codSupplier,\r\n        lavMatricola: this.data.lavMatricola,\r\n        tipologie: this.data.tipologie,\r\n\r\n        page: this.odaposPaginator.pageIndex,\r\n        size: this.odaposPaginator.pageSize,\r\n        sortField: this.odaposSort.active,\r\n        sortDirection: this.odaposSort.direction.toUpperCase(),\r\n      });\r\n  }\r\n\r\n  selectOdaposRow(row: ILookupOdaDataDTO, event: MouseEvent) {\r\n    if (event.view.getSelection().type !== 'Range') {\r\n      this.dialogRef.close(row);\r\n    }\r\n  }\r\n\r\n}\r\n\r\ninterface ISearchOdaPosDialogComponentData {\r\n  codSociety: string;\r\n  codSupplier: string;\r\n  lavMatricola: string;\r\n  tipologie: string;\r\n}\r\n","\r\n<div mat-dialog-content>\r\n    <mat-form-field>\r\n        <input matInput [formControl]=\"odaposFormControl\"  placeholder=\"Filter\" i18n-placeholder=\"@@siodialog_Filter\">\r\n      </mat-form-field>\r\n\r\n      <div class=\"siod_tableContainer\">\r\n        <table mat-table [dataSource]=\"odaposDataSource\" class=\"mat-elevation-z8\"\r\n        matSort matSortActive=\"oda\" matSortDisableClear matSortDirection=\"desc\" #odaposSort>\r\n\r\n          <!-- itemId Column -->\r\n          <ng-container matColumnDef=\"oda\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header=\"ITEM_ID\" i18n=\"@@oda\">Oda</th>\r\n            <td mat-cell *matCellDef=\"let element\"> {{element.oda}} </td>\r\n          </ng-container>\r\n\r\n          <!-- itemDescription Column -->\r\n          <ng-container matColumnDef=\"pos\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header=\"ITEM_DESCRIPTION\" > Pos </th>\r\n            <td mat-cell *matCellDef=\"let element\"> {{element.pos}} </td>\r\n          </ng-container>\r\n\r\n\r\n          <tr mat-header-row *matHeaderRowDef=\"odaposDisplayedColumns;sticky: true\"></tr>\r\n          <tr mat-row *matRowDef=\"let row; columns: odaposDisplayedColumns;\" (click)=\"selectOdaposRow(row,$event)\" ></tr>\r\n        </table>\r\n\r\n      </div>\r\n\r\n        <mat-paginator #odaposPaginator [length]=\"odaposResultsLength\" [pageSize]=\"10\" [pageSizeOptions]=\"[5, 10, 20]\"></mat-paginator>\r\n\r\n  </div>\r\n  <div mat-dialog-actions style=\"float:right\">\r\n    <button mat-button class=\"sii-button-light\" [mat-dialog-close] i18n=\"@@siodialog_cancel_button\">Cancel Operation</button>\r\n  </div>\r\n","import { Component, OnInit, forwardRef, Input, Output, EventEmitter, AfterViewInit } from '@angular/core';\r\nimport { NG_VALUE_ACCESSOR, NG_VALIDATORS, Validator, ControlValueAccessor, AbstractControl, UntypedFormControl, FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { ILookupEmployeeDTO } from './domain/lookup-employee.dto';\r\nimport { Observable } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged, filter, map, startWith, switchMap, tap } from 'rxjs/operators';\r\nimport { MatAutocompleteSelectedEvent, MatAutocompleteTrigger, MatAutocomplete } from '@angular/material/autocomplete';\r\nimport { MatFormFieldAppearance, MatFormField, MatLabel, MatSuffix, MatHint } from '@angular/material/form-field';\r\nimport { MatProgressBar } from '@angular/material/progress-bar';\r\nimport { MatTooltip } from '@angular/material/tooltip';\r\nimport { WorkerContactInformationComponent } from '../../worker-contact-information/worker-contact-information.component';\r\nimport { MatOption } from '@angular/material/core';\r\nimport { MatInput } from '@angular/material/input';\r\nimport { NgClass, AsyncPipe } from '@angular/common';\r\n\r\ninterface IresponseError {\r\n  employeeValid: boolean;\r\n  required: boolean;\r\n}\r\n\r\n\r\n\r\n@Component({\r\n    selector: 'sii-lookup-employee',\r\n    templateUrl: './lookup-employee.component.html',\r\n    styleUrls: ['./lookup-employee.component.scss'],\r\n    providers: [\r\n        {\r\n            provide: NG_VALUE_ACCESSOR,\r\n            useExisting: forwardRef(() => LookupEmployeeComponent),\r\n            multi: true,\r\n        },\r\n        { provide: NG_VALIDATORS, useExisting: LookupEmployeeComponent, multi: true },\r\n    ],\r\n    standalone: true,\r\n    imports: [\r\n        MatFormField,\r\n        NgClass,\r\n        MatLabel,\r\n        MatInput,\r\n        MatAutocompleteTrigger,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        MatAutocomplete,\r\n        MatOption,\r\n        WorkerContactInformationComponent,\r\n        MatSuffix,\r\n        MatHint,\r\n        MatTooltip,\r\n        MatProgressBar,\r\n        AsyncPipe,\r\n    ],\r\n})\r\nexport class LookupEmployeeComponent implements Validator, ControlValueAccessor, AfterViewInit  {\r\n  @Input() appearance = 'outline' as MatFormFieldAppearance;\r\n  @Input() minLength = 3;\r\n  @Input() label;\r\n  @Input() disabled = false;\r\n  @Input() required = false;\r\n  @Input() restService: (txt: string) => Observable<ILookupEmployeeDTO[]>;\r\n  @Output() valueChange = new EventEmitter<ILookupEmployeeDTO>();\r\n  @Input() hideWorkerContactInformation = false;\r\n  @Input() loadOnInit = false;\r\n  @Input() siiWorkerContactInformationServiceUrl?:string;\r\n\r\n  selectedItem: ILookupEmployeeDTO = null;\r\n  lookupEmployeeComponentCtrl = new UntypedFormControl();\r\n  employeeRestObs: Observable<ILookupEmployeeDTO[]>;\r\n\r\n  utils = {\r\n    employeeValid: true,\r\n    loadingInProgress: false,\r\n  };\r\n\r\n  propagateChange: any = () => { };\r\n  onTouchedCallback: any = () => { };\r\n  validatorCallback: any = () => { };\r\n\r\n  constructor() {\r\n    this.employeeRestObs = this.lookupEmployeeComponentCtrl.valueChanges\r\n    .pipe(\r\n      debounceTime(500),\r\n      tap((text) => { if (typeof text === 'string' && this.selectedItem != null) { this.onChange(null); } }),\r\n      // tslint:disable-next-line:max-line-length\r\n      map((text) => (text == null || (typeof text === 'object' && (text as ILookupEmployeeDTO).workerId === undefined) ? '' : text)),\r\n      filter((text) => typeof text === 'string' && text.length >= this.minLength),\r\n      distinctUntilChanged(),\r\n      tap((res) => this.utils.loadingInProgress = true),\r\n      switchMap((val) => this.restService(val)),\r\n      tap((res) => {\r\n        this.utils.loadingInProgress = false;\r\n      }),\r\n    );\r\n  }\r\n  ngAfterViewInit(): void {\r\n    if (this.loadOnInit === true){\r\n      setTimeout(() => {\r\n        this.lookupEmployeeComponentCtrl.setValue('');\r\n      },\r\n      1000);\r\n    }\r\n  }\r\n\r\n\r\n  onSelectionChanged(event: MatAutocompleteSelectedEvent) {\r\n    this.onChange(event.option.value as ILookupEmployeeDTO);\r\n  }\r\n\r\n  displayEmployeeFn(employee: ILookupEmployeeDTO): string | undefined {\r\n    return employee && employee.workerId !== undefined  ? employee.workerId : undefined;\r\n  }\r\n\r\n\r\n  onChange(item: ILookupEmployeeDTO) {\r\n    this.onTouchedCallback();\r\n    this.selectedItem = item;\r\n    this.propagateChange(this.selectedItem);\r\n    this.valueChange.next(this.selectedItem);\r\n  }\r\n\r\n\r\n  writeValue(obj: any): void {\r\n    this.selectedItem = obj as ILookupEmployeeDTO;\r\n    this.lookupEmployeeComponentCtrl.setValue(this.selectedItem);\r\n  }\r\n  registerOnChange(fn: any): void { this.propagateChange = fn; }\r\n  registerOnTouched(fn: any) { this.onTouchedCallback = fn; }\r\n\r\n  setDisabledState?(isDisabled: boolean): void {\r\n    this.disabled = isDisabled;\r\n    if (this.disabled) {\r\n      this.lookupEmployeeComponentCtrl.disable();\r\n    } else { this.lookupEmployeeComponentCtrl.enable(); }\r\n\r\n  }\r\n  validate(control: AbstractControl): { [key: string]: any } | null {\r\n    const employeeval = this.lookupEmployeeComponentCtrl.value;\r\n    const respErr = {} as IresponseError;\r\n    if (employeeval === null || typeof employeeval === 'string') {\r\n      if (this.required !== false) {\r\n        respErr.employeeValid = false;\r\n        respErr.required = true;\r\n      } else if ((employeeval || '').trim() !== '') {\r\n        respErr.employeeValid = false;\r\n      }\r\n    }\r\n    this.utils.employeeValid = Object.keys(respErr).length === 0;\r\n    return this.utils.employeeValid ? null : respErr;\r\n  }\r\n\r\n  registerOnValidatorChange?(fn: () => void): void {\r\n    this.validatorCallback = fn;\r\n  }\r\n\r\n}\r\n","<mat-form-field [appearance]=\"appearance\" class=\"lempl_mff\" [ngClass]=\"{'lempl_fc_invalid': !utils.employeeValid}\">\r\n  @if (!label) {\r\n    <mat-label i18n=\"@@lookEmployee__employee\" >Employee</mat-label>\r\n  }\r\n  @if (!!label) {\r\n    <mat-label >{{label}}</mat-label>\r\n  }\r\n  <input matInput\r\n    [required]=\"required\"\r\n    aria-label=\"Employee\"\r\n    [matAutocomplete]=\"lookupEmployeeAutocompleteRef\"\r\n    [formControl]=\"lookupEmployeeComponentCtrl\"  >\r\n\r\n    <mat-autocomplete #lookupEmployeeAutocompleteRef=\"matAutocomplete\" class=\"lemplAutoComplete\" [displayWith]=\"displayEmployeeFn\" (optionSelected)=\"onSelectionChanged($event)\">\r\n      @for (employeeItem of employeeRestObs | async; track employeeItem) {\r\n        <mat-option [value]=\"employeeItem\" style=\"border-bottom: 1px solid lightgray;min-height: 35px;\">\r\n          <div class=\"lioAutocompleteItems\">\r\n            <span class=\"lioAutocompleteItemsId\">{{employeeItem.workerId}}</span>\r\n            <span class=\"lioAutocompleteItemsDescr\">{{employeeItem.surname}} {{employeeItem.name}}</span>\r\n          </div>\r\n        </mat-option>\r\n      }\r\n    </mat-autocomplete>\r\n    @if (!hideWorkerContactInformation && selectedItem!=undefined && selectedItem.workerId!=undefined) {\r\n      <sii-worker-contact-information (click)=\"$event.stopPropagation()\" matSuffix [serviceUrl]=\"siiWorkerContactInformationServiceUrl\" [workerId]=\"selectedItem.workerId\"></sii-worker-contact-information>\r\n    }\r\n    @if (selectedItem!=undefined && selectedItem.workerId!=undefined) {\r\n      <mat-hint class=\"lioHint\" [matTooltip]=\"selectedItem.surname+' '+selectedItem.name\" >{{selectedItem.surname+' '+selectedItem.name}}</mat-hint>\r\n    }\r\n  </mat-form-field>\r\n  @if (utils.loadingInProgress) {\r\n    <mat-progress-bar class=\"lemplProgressBar\" mode=\"query\"></mat-progress-bar>\r\n  }\r\n","import { Component, OnInit, ViewChild, AfterViewInit, ElementRef, Input, forwardRef, HostBinding } from '@angular/core';\r\nimport { fromEvent } from 'rxjs';\r\nimport { map, distinctUntilChanged, debounceTime } from 'rxjs/operators';\r\nimport { FacetsContainerComponent } from '../facets/facets-container/facets-container.component';\r\nimport { NG_VALUE_ACCESSOR, NG_VALIDATORS, ControlValueAccessor, Validator, AbstractControl, ValidationErrors, UntypedFormControl, FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatIcon } from '@angular/material/icon';\r\n\r\n@Component({\r\n    selector: 'sii-global-search',\r\n    templateUrl: './global-search.component.html',\r\n    styleUrls: ['./global-search.component.css'],\r\n    providers: [\r\n        {\r\n            provide: NG_VALUE_ACCESSOR,\r\n            useExisting: forwardRef(() => GlobalSearchComponent),\r\n            multi: true,\r\n        },\r\n        { provide: NG_VALIDATORS, useExisting: GlobalSearchComponent, multi: true },\r\n    ],\r\n    standalone: true,\r\n    imports: [\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        MatIcon,\r\n    ],\r\n})\r\nexport class GlobalSearchComponent implements AfterViewInit, ControlValueAccessor, Validator {\r\n  @Input() label='Search';\r\n  @ViewChild('searchBox', { static: false })  inputElement: ElementRef;\r\n\r\n  @HostBinding('class.globalSearchWithValue') get haveValue(){\r\n    return this.inputFormCtrl.value!=null && this.inputFormCtrl.value.length>0}\r\n\r\n  inputFormCtrl = new UntypedFormControl();\r\n\r\n  propagateChange: any = () => { };\r\n  onTouchedCallback: any = () => { };\r\n  validatorCallback: any = () => { };\r\n\r\n  constructor() { }\r\n  validate(control: AbstractControl): ValidationErrors {\r\n   return null;\r\n  }\r\n\r\n  writeValue(obj: any): void {\r\n    this.inputFormCtrl.setValue(obj);\r\n  }\r\nregisterOnChange(fn: any): void {\r\n    this.propagateChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: any) {\r\n    this.onTouchedCallback = fn;\r\n  }\r\n\r\n  registerOnValidatorChange?(fn: () => void): void {\r\n    this.validatorCallback = fn;\r\n  }\r\n  setDisabledState?(isDisabled: boolean): void {\r\n    if (isDisabled) {\r\n      this.inputFormCtrl.disable();\r\n    } else { this.inputFormCtrl.enable(); }\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n   this.initSiiFacet();\r\n  }\r\n\r\n  initSiiFacet(){\r\n\r\n    this.inputFormCtrl.valueChanges.subscribe((val)=>{\r\n      this.propagateChange(val);\r\n\r\n    })\r\n  }\r\n\r\n  focusInput() {\r\n    this.inputElement.nativeElement.focus();\r\n  }\r\n\r\n}\r\n","<input [formControl]=\"inputFormCtrl\"   #searchBox id=\"search-box\"\r\n    i18n-placeholder=\"@@Full_text_search\"\r\n    [placeholder]=\"label\"\r\n    type=\"text\">\r\n\r\n<mat-icon class=\"search-icon\" (click)=\"focusInput()\">search</mat-icon>\r\n\r\n","import { Component, Input, AfterViewInit, ElementRef, HostBinding, ViewChild } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { CisGroup, SiiGroupedInfiniteScrollDataSource } from '../../grouped-infinite-scroll/utils/sii-grouped-infinite-scroll-data-source';\r\nimport { BadgeComponent } from '../../../badge/badge.component';\r\nimport { MatIcon } from '@angular/material/icon';\r\nimport { MatIconButton } from '@angular/material/button';\r\nimport { MatMenu, MatMenuItem, MatMenuTrigger } from '@angular/material/menu';\r\n\r\n@Component({\r\n    selector: 'sii-group-list-toolbar',\r\n    templateUrl: './group-list-toolbar.component.html',\r\n    styleUrls: ['./group-list-toolbar.component.scss'],\r\n    standalone: true,\r\n    imports: [MatIconButton, MatIcon, BadgeComponent, MatMenu, MatMenuTrigger, MatMenuItem]\r\n})\r\nexport class GroupListToolbarComponent implements AfterViewInit {\r\n  @Input() ds:  SiiGroupedInfiniteScrollDataSource;\r\n  @Input() group: CisGroup;\r\n  @HostBinding('style.--prevGroupParent')  prev=\"0px\";\r\n \r\n\r\n\r\n\r\n\r\n\r\n\r\n  utils = {\r\n    plt: null,\r\n    lt: null,\r\n  };\r\n  constructor( private sanitizer: DomSanitizer, private el: ElementRef ) {\r\n    window.addEventListener('listToolbarToggled', () => {\r\n      // workaround per far rerendizzare lo sfondo al toggle\r\n      this.el.nativeElement.style.color = 'white';\r\n      setTimeout(() => {\r\n        this.el.nativeElement.style.color = '';\r\n      }, 0);\r\n    });\r\n   }\r\n  ngAfterViewInit(): void {\r\n    Promise.resolve().then(() => {\r\n      if (!!this.group.parentGroupLabelTransform){\r\n        this.utils.plt = this.sanitizer.bypassSecurityTrustHtml(this.group.parentGroupLabelTransform(this.group.parentGroupKey, this.group.parentGroupValue, this.group.items));\r\n      }\r\n      if (!!this.group.groupLabelTransform){\r\n        this.utils.lt = this.sanitizer.bypassSecurityTrustHtml(this.group.groupLabelTransform(this.group.key, this.group.label, this.group.items));\r\n      }\r\n\r\n\r\n      setTimeout(()=>{\r\n        this.evaluateTop()\r\n      },500)\r\n\r\n\r\n    });\r\n  }\r\n\r\n  evaluateTop(){\r\n\r\n    if(!this.group.isFirstOfparentGroup  ){\r\n      const e= this.el.nativeElement\r\n\r\n      if(e.parentElement==null){\r\n        return\r\n      }\r\n\r\n      const allGroups= e.parentElement.querySelectorAll(\"sii-group-list-toolbar\")\r\n      let prevItem;\r\n      for ( let i = 0; i <= allGroups.length; i++ ) {\r\n        if(allGroups[ i ].querySelectorAll(\".lt_box_parent\").length>0){\r\n          prevItem=allGroups[ i ];\r\n        }\r\n        if (allGroups[ i ]== this.el.nativeElement ) {\r\n          break\r\n        }\r\n       }\r\n\r\n       if(prevItem!=null){\r\n          prevItem.getElementsByClassName('lt_box_parent')\r\n          this.prev= prevItem.getElementsByClassName('lt_box_parent')[0].getBoundingClientRect().height+\"px\";\r\n       }else{\r\n        this.prev=\"0px\";\r\n       }\r\n\r\n\r\n    }\r\n  }\r\n\r\n  toggleGroup(){\r\n    this.ds.toggleGroup(this.group);\r\n    this.refresh();\r\n  }\r\n\r\n  toggleParentGroup(){\r\n    this.ds.toggleparentGroup(this.group.parentGroupKey);\r\n    this.refresh();\r\n  }\r\n\r\n  refresh(){\r\n    window.dispatchEvent(new CustomEvent('listToolbarToggled'));\r\n  }\r\n\r\n}\r\n","\r\n@if (group.isFirstOfparentGroup) {\r\n  <div class=\"lt_box lt_box_parent \">\r\n    <button  class=\"expPB\" mat-icon-button  aria-label=\"expand/reduce group\" (click)=\"toggleParentGroup();\">\r\n      @switch (ds.isParentGroupCollapsed(group.parentGroupKey)) {\r\n        @case (true) {\r\n          <mat-icon>expand_more</mat-icon>\r\n        }\r\n        @case (false) {\r\n          <mat-icon>expand_less</mat-icon>\r\n        }\r\n      }\r\n    </button>\r\n    <div class=\"lt_parentlabel\">\r\n      @if (!!group.parentGroupLabelTransform) {\r\n        <div [innerHtml]=\"utils.plt\"></div>\r\n      }\r\n      @if (!group.parentGroupLabelTransform) {\r\n        <div>{{group.parentGroupValue}}</div>\r\n      }\r\n      @if (ds.isParentGroupCollapsed(group.parentGroupKey)) {\r\n        <sii-badge>{{ds.parentGroupSize(group.parentGroupKey)}}</sii-badge>\r\n      }\r\n    </div>\r\n\r\n    @if(group.parentGroupAction!=null  ){\r\n      <button class=\"actionButton\" [style.display]=\"parentMenuGroup?.items?.length>0 ? 'block':'none'\"  mat-icon-button [matMenuTriggerFor]=\"parentMenuGroup\"><mat-icon>more_vert</mat-icon></button>\r\n      <mat-menu #parentMenuGroup=\"matMenu\">\r\n        @for (mi of  group.parentGroupAction; track mi) {\r\n          @if(  mi.visible==null || mi.visible(group.parentGroupKey,group.parentGroupValue,group.items)){\r\n            <button   mat-menu-item (click)=\"mi.action(group.parentGroupKey,group.parentGroupValue,group.items)\"><mat-icon>{{mi.icon}}</mat-icon>{{mi.label}}</button>\r\n          }\r\n        }\r\n      </mat-menu> \r\n    }\r\n  </div>\r\n}\r\n\r\n\r\n\r\n\r\n@if (!ds.isParentGroupCollapsed(group.parentGroupKey)) {\r\n  <div class=\"lt_box\">\r\n    <button class=\"expB\" (click)=\"toggleGroup();\"   mat-icon-button   aria-label=\"expand/reduce group\">\r\n      @switch (ds.isGroupCollapsed(group.key)) {\r\n        @case (true) {\r\n          <mat-icon>expand_more</mat-icon>\r\n        }\r\n        @case (false) {\r\n          <mat-icon>expand_less</mat-icon>\r\n        }\r\n      }\r\n    </button>\r\n    <div class=\"lt_label\">\r\n      @if (!!group.groupLabelTransform) {\r\n        <div  [innerHtml]=\"utils.lt\"></div>\r\n      }\r\n      @if (!group.groupLabelTransform) {\r\n        <div>{{group.label}}</div>\r\n      }\r\n      @if (ds.isGroupCollapsed(group.key)) {\r\n        <sii-badge>{{group.items.length}}</sii-badge>\r\n      }\r\n    </div>\r\n\r\n    @if(group.groupAction!=null  ){\r\n      <button class=\"actionButton\"   [style.display]=\"menuGroup?.items?.length>0 ? 'block':'none'\" mat-icon-button [matMenuTriggerFor]=\"menuGroup\"><mat-icon>more_vert</mat-icon></button>\r\n      <mat-menu #menuGroup=\"matMenu\">\r\n        @for (mi of  group.groupAction; track mi) {\r\n          @if(mi.visible==null || mi.visible(group.key,group.label,group.items)){\r\n          <button mat-menu-item  (click)=\"mi.action(group.key,group.label,group.items)\"><mat-icon>{{mi.icon}}</mat-icon>{{mi.label}}</button>\r\n       }\r\n      }\r\n      </mat-menu> \r\n    }\r\n\r\n  </div>\r\n}\r\n\r\n","import { Directive, ElementRef, Renderer2, AfterViewInit, Input, TemplateRef, ViewContainerRef, OnDestroy } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[siiFakeListItem]',\r\n    standalone: true,\r\n})\r\nexport class FakeListItemDirective implements AfterViewInit, OnDestroy{\r\n  @Input() siiFakeListItem;\r\n  // checkInterval;\r\n  elements: any[] = [];\r\n  // eventListeDom;\r\n\r\n  private changes: MutationObserver;\r\n\r\n\r\n  // prependedEl:HTMLElement;\r\n  constructor(public el: ElementRef,\r\n              public template: TemplateRef<any>, public view: ViewContainerRef\r\n    ) {}\r\n\r\n    ngOnDestroy(): void {\r\n      // clearInterval(this.checkInterval);\r\n    }\r\n\r\n  ngAfterViewInit(): void {\r\n\r\n    this.changes = new MutationObserver((mutations: MutationRecord[]) => {\r\n      this.updateStyles();\r\n      }\r\n      );\r\n\r\n    this.changes.observe(this.siiFakeListItem, {\r\n      childList: true,\r\n      subtree: false,\r\n      attributes: false,\r\n      characterData: false,\r\n    });\r\n\r\n\r\n    // setTimeout(()=>{\r\n\r\n      // this.eventListeDom= this.createDestroyNodeListener();\r\n    this.elements.push(this.view.createEmbeddedView(this.template).rootNodes[0]);\r\n    this.elements.push(this.view.createEmbeddedView(this.template).rootNodes[0]);\r\n    this.elements.push(this.view.createEmbeddedView(this.template).rootNodes[0]);\r\n    this.elements.push(this.view.createEmbeddedView(this.template).rootNodes[0]);\r\n    this.elements.push(this.view.createEmbeddedView(this.template).rootNodes[0]);\r\n    this.updateStyles();\r\n      // this.checkInterval= setInterval(()=>{\r\n      //   this.updateStyles();\r\n      // },1000)\r\n\r\n\r\n    // },0)\r\n  }\r\n\r\n  // createDestroyNodeListener(){\r\n  //   return this.siiFakeListItem.firstElementChild.addEventListener('DOMNodeRemoved', () => {\r\n  //     console.log('createDestroyNodeListener change');\r\n  //     setTimeout(() => {\r\n  //       this.updateStyles();\r\n  //       this.eventListeDom = this.createDestroyNodeListener();\r\n  //     });\r\n  //     });\r\n  // }\r\n\r\n  updateStyles = () => {\r\n    if ( !!this.siiFakeListItem.firstElementChild){\r\n      const cs = window.getComputedStyle(this.siiFakeListItem.firstElementChild);\r\n      this.elements.forEach((elNode) => {\r\n        elNode.style.width = Math.ceil(this.siiFakeListItem.firstElementChild.offsetWidth) + 'px';\r\n        elNode.style.marginLeft = cs.marginLeft;\r\n        elNode.style.marginRight = cs.marginRight;\r\n        elNode.style.flex = cs.flex;\r\n        elNode.style.maxWidth = cs.maxWidth;\r\n      });\r\n    }\r\n  }\r\n\r\n}\r\n","import { ChangeDetectorRef, Component, ElementRef, Inject, OnInit, Renderer2, ViewChild } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA, MatDialogContent, MatDialogActions } from '@angular/material/dialog';\r\nimport { ImageCroppedEvent, ImageCropperModule } from 'ngx-image-cropper';\r\nimport { MatIcon } from '@angular/material/icon';\r\nimport { MatIconButton, MatButton } from '@angular/material/button';\r\nimport { NgClass } from '@angular/common';\r\nimport { CdkScrollable } from '@angular/cdk/scrolling';\r\n\r\n@Component({\r\n    selector: 'sii-crop-image-dialog',\r\n    templateUrl: './crop-image-dialog.component.html',\r\n    styleUrls: ['./crop-image-dialog.component.scss'],\r\n    standalone: true,\r\n    imports: [CdkScrollable, MatDialogContent, NgClass, ImageCropperModule, MatIconButton, MatIcon, MatDialogActions, MatButton]\r\n})\r\nexport class CropImageDialogComponent implements OnInit {\r\n\r\n  utils = {\r\n    maxWidth: 'inherit',\r\n    rotation: 0,\r\n    originalImageWidth: 0,\r\n    originalImageHeight: 0,\r\n    initImageWidth: null,\r\n    initImageHeight: null,\r\n    isVerticalOriginalImage : false,\r\n    quality: 1,\r\n    errorImageLoad: false\r\n  };\r\n  isVertical = false;\r\n  croppedImage: any = '';\r\n  photoToSave: File;\r\n\r\n  // @ViewChild('file_canvas')    public fileCanvas: ElementRef;\r\n  @ViewChild('cropper_canvas')    public cropperCanvas: ElementRef;\r\n\r\n  constructor( @Inject(MAT_DIALOG_DATA) public data,\r\n               public dialogRef: MatDialogRef<CropImageDialogComponent>,\r\n               private renderer: Renderer2,\r\n               private cdref: ChangeDetectorRef) {\r\n\r\n        // this.fileCanvas.nativeElement.getContext('2d').drawImage(data.file, 0, 0);\r\n\r\n\r\n               }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  onNoClick(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  confirmImage(){\r\n    if (this.likeSize(this.cropperCanvas.nativeElement.width, this.utils.initImageWidth)\r\n      && this.likeSize(this.cropperCanvas.nativeElement.height, this.utils.initImageHeight)){\r\n        // console.log('originalImage')\r\n\r\n        if ((this.data.file.size / (1024 * 1024)) > this.data.maxSize){\r\n          console.log('originalImage too Big.. use edited image');\r\n          this.dialogRef.close(this.photoToSave);\r\n        }else{\r\n          this.dialogRef.close(this.data.file);\r\n        }\r\n\r\n\r\n      }else{\r\n        // console.log('editedImage')\r\n        this.dialogRef.close(this.photoToSave);\r\n      }\r\n  }\r\n\r\n  likeSize(size1, size2){\r\n    return Math.abs(size1 - size2) < 3;\r\n  }\r\n\r\n\r\n  rotate(){\r\n    this.utils.rotation = (this.utils.rotation - 1) % 4;\r\n    const tmp = this.utils.originalImageWidth;\r\n    this.utils.originalImageWidth = this.utils.originalImageHeight;\r\n    this.utils.originalImageHeight = tmp;\r\n    this.croppedImage = '';\r\n\r\n    this.calculateOriginalImageProp();\r\n  }\r\n\r\n  imageCropped(crop: ImageCroppedEvent) {\r\n    // this.croppedImage = crop.base64;\r\n\r\n    // put the created cropped image to canvas and reduce the size\r\n    this.renderer.setProperty(this.cropperCanvas.nativeElement, 'width', crop.width);\r\n    this.renderer.setProperty(this.cropperCanvas.nativeElement, 'height', crop.height);\r\n\r\n    this.isVertical = crop.width < crop.height;\r\n\r\n\r\n    const image = new Image();\r\n    image.onload = () => {\r\n      this.cropperCanvas.nativeElement.getContext('2d').drawImage(image, 0, 0);\r\n      this.updatePhotoCroppedFromCanvas(this.cropperCanvas.nativeElement, 'image/jpeg', 1.0);\r\n\r\n    };\r\n    image.src = crop.base64;\r\n  }\r\n\r\n  fileImageLoaded(data){\r\n    this.utils.initImageWidth = this.utils.initImageWidth || data.transformed.size.width;\r\n    this.utils.initImageHeight = this.utils.initImageHeight || data.transformed.size.height;\r\n    this.utils.originalImageWidth = data.transformed.size.width;\r\n    this.utils.originalImageHeight = data.transformed.size.height;\r\n    this.calculateOriginalImageProp();\r\n  }\r\n\r\n  calculateOriginalImageProp(){\r\n    this.utils.isVerticalOriginalImage = this.utils.originalImageWidth < this.utils.originalImageHeight;\r\n    this.utils.maxWidth = ((80 * this.utils.originalImageWidth) / this.utils.originalImageHeight ) + 'vh' ;\r\n\r\n  }\r\n\r\n\r\n  updatePhotoCroppedFromCanvas(canvas, mimeType: string, qualityArgument: number){\r\n\r\n\r\n    canvas.toBlob((blob) => {\r\n    const fileCreated = this.blobToFile(blob, this.data.file.name.split('.')[0].replace('_crp', '') + '_crp.jpeg', mimeType);\r\n    if (qualityArgument < 0){\r\n        console.log('unable to resize image to minSize of upload');\r\n        this.dialogRef.close(this.data.file);\r\n      }\r\n    // console.log('canvasBlob size:' + (blob.size / (1024 * 1024)));\r\n    if ((fileCreated.size / (1024 * 1024)) > this.data.maxSize){\r\n            console.log('TOO BIG, reduce');\r\n            this.updatePhotoCroppedFromCanvas(canvas, mimeType, qualityArgument - 0.1);\r\n            // this.utils.quality -= 0.1;\r\n          }else{\r\n            // this.croppedImage = blob;\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(blob);\r\n            reader.onloadend = () => {\r\n              this.croppedImage =  reader.result;\r\n              this.cdref.detectChanges();\r\n              this.cdref.markForCheck();\r\n            };\r\n\r\n            this.photoToSave = fileCreated;\r\n\r\n            // console.log('FINAL PHOTO size:'+ (fileCreated.size/(1024*1024)),this.photoToSave)\r\n            this.cdref.detectChanges();\r\n            this.cdref.markForCheck();\r\n          }\r\n\r\n\r\n    }, mimeType, qualityArgument);\r\n  }\r\n\r\n  loadImageFailed = () => {\r\n    this.utils.errorImageLoad = true;\r\n  }\r\n\r\n    // A Blob() is almost a File() - it's just missing the two properties below which we will add\r\n    public blobToFile = (theBlob: Blob, fileName: string, mimeType: string): File => {\r\n      // const b: any = theBlob;\r\n      // b.lastModifiedDate = new Date();\r\n      // b.name = fileName;\r\n      return new File([theBlob], fileName, {type: mimeType});\r\n      // return theBlob as File;\r\n  }\r\n\r\n}\r\n","<!-- <span mat-dialog-title>Take a pic</span> -->\r\n<div mat-dialog-content style=\"max-height: none;\">\r\n\r\n  @if (utils.errorImageLoad) {\r\n    <div class=\"ErrorLoadImage\" i18n=\"@@siiUploadCorruptedImage\">The Uploaded Image Is Corrupt And Cannot Be Processed</div>\r\n  }\r\n\r\n\r\n  <!-- <video #video id=\"video\" class=\"pd_video_player\" autoplay></video> -->\r\n  <!-- <canvas #file_canvas style=\"display: none;\"></canvas> -->\r\n  <canvas #cropper_canvas style=\"display: none;\"></canvas>\r\n\r\n  <!-- [resizeToWidth]=\"205\" -->\r\n  <!-- [cropperMinWidth]=\"205\" -->\r\n  <!-- [aspectRatio]=\"205 / 256\" -->\r\n  <!-- [maintainAspectRatio]=\"true\" -->\r\n  <!-- [onlyScaleDown]=\"true\" -->\r\n  @if (!utils.errorImageLoad) {\r\n    <div  class=\"pd_canvas\" [ngClass]=\"{'verticalpdCanvas':utils.isVerticalOriginalImage}\">\r\n      <image-cropper [style.maxWidth]=\"utils.maxWidth\"\r\n        [imageQuality]=\"100\"\r\n        [imageFile]=\"data.file\"\r\n        [maintainAspectRatio]=\"!!data.aspectRatio\"\r\n        [aspectRatio]=\"data.aspectRatio\"\r\n        [resizeToWidth]=\"data.resizeToWidth\"\r\n        format=\"jpeg\"\r\n        (imageCropped)=\"imageCropped($event)\"\r\n        (imageLoaded)=\"fileImageLoaded($event)\"\r\n        [canvasRotation]=\"utils.rotation\"\r\n        (loadImageFailed)=\"loadImageFailed()\"\r\n        >\r\n      </image-cropper>\r\n      <img class=\"finalImage\"  [ngClass]=\"{'verticalFinalImage':isVertical}\" [src]=\"croppedImage\" />\r\n      <button  mat-icon-button (click)=\"rotate()\" class=\"rotateButton\">\r\n        <mat-icon>crop_rotate</mat-icon>\r\n      </button>\r\n    </div>\r\n  }\r\n\r\n</div>\r\n<div mat-dialog-actions align=\"end\">\r\n  <button type=\"button\" mat-button (click)=\"onNoClick()\" i18n=\"pict@@cancelOperation\">Cancel</button>\r\n  @if (!utils.errorImageLoad) {\r\n    <button  type=\"button\" mat-raised-button color=\"primary\"   (click)=\"confirmImage()\" i18n=\"pict@@confirmPhoto\">Confirm</button>\r\n  }\r\n</div>\r\n\r\n","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA, MatDialogContent, MatDialogActions, MatDialogClose } from '@angular/material/dialog';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { MatButton } from '@angular/material/button';\r\nimport { CdkScrollable } from '@angular/cdk/scrolling';\r\n\r\n@Component({\r\n    selector: 'sii-file-preview-dialog',\r\n    templateUrl: './file-preview-dialog.component.html',\r\n    styleUrls: ['./file-preview-dialog.component.scss'],\r\n    standalone: true,\r\n    imports: [CdkScrollable, MatDialogContent, MatDialogActions, MatButton, MatDialogClose]\r\n})\r\nexport class FilePreviewDialogComponent implements OnInit {\r\n\r\nutils = {\r\n  isImage: null,\r\n  fileUrl: null\r\n};\r\n\r\n  constructor(@Inject(MAT_DIALOG_DATA) public file, private sanitizer: DomSanitizer,\r\n              public dialogRef: MatDialogRef<FilePreviewDialogComponent>) {\r\n\r\n                this.utils.isImage = file.type.match(/image\\/*/) != null;\r\n\r\n                this.utils.fileUrl =  this.sanitizer.bypassSecurityTrustResourceUrl( window.URL.createObjectURL(file as Blob));\r\n\r\n                // const reader = new FileReader();\r\n                // reader.readAsDataURL(file);\r\n                // reader.onloadend = () =>  this.utils.fileUrl =  this.sanitizer.bypassSecurityTrustResourceUrl(reader.result as string);\r\n\r\n\r\n              }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<mat-dialog-content>\r\n  @if (utils.fileUrl) {\r\n    @switch (utils.isImage) {\r\n      @default {\r\n        <iframe [src]=\"utils.fileUrl\"></iframe>\r\n      }\r\n      @case (true) {\r\n        <img  class=\"previewImg\" [src]=\"utils.fileUrl\">\r\n      }\r\n    }\r\n  }\r\n</mat-dialog-content>\r\n<mat-dialog-actions align=\"end\">\r\n\r\n  <span class=\"fileName\">{{file.name}}</span>\r\n  <button mat-button mat-dialog-close i18n=\"@@close\">Close</button>\r\n\r\n</mat-dialog-actions>\r\n\r\n","import { ChangeDetectorRef, Component, ElementRef, HostBinding, Inject, OnDestroy, OnInit, Renderer2, ViewChild } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA, MatDialogContent, MatDialogActions, MatDialogClose } from '@angular/material/dialog';\r\nimport { base64ToFile, ImageCroppedEvent, ImageCropperModule } from 'ngx-image-cropper';\r\nimport { MatIcon } from '@angular/material/icon';\r\nimport { MatButton, MatFabButton } from '@angular/material/button';\r\nimport { NgClass } from '@angular/common';\r\nimport { CdkScrollable } from '@angular/cdk/scrolling';\r\n\r\n@Component({\r\n    selector: 'sii-pict-dialog',\r\n    templateUrl: './pict-dialog.component.html',\r\n    styleUrls: ['./pict-dialog.component.css'],\r\n    standalone: true,\r\n    imports: [CdkScrollable, MatDialogContent, ImageCropperModule, NgClass, MatDialogActions, MatButton, MatFabButton, MatIcon, MatDialogClose]\r\n})\r\nexport class PictDialogComponent implements OnInit, OnDestroy  {\r\n  @ViewChild('video') videoElement: ElementRef;\r\n  @ViewChild('video_canvas')    public videoCanvas: ElementRef;\r\n  @ViewChild('cropper_canvas')    public cropperCanvas: ElementRef;\r\n\r\n  @HostBinding('class.pictDone') pictDone = false;\r\n\r\n  photoToSave: File;\r\n  canvasPhotoExtraction;\r\n  videoStream;\r\n  videoWidth = 0;\r\n  videoHeight = 0;\r\n  videoActive = false;\r\n  isVertical = false;\r\n  croppedImage: any = '';\r\n\r\n  cameraConstraints = {\r\n    video: {\r\n        width: { ideal: 4096 },\r\n        height: { ideal: 2160 }\r\n    }\r\n};\r\n\r\n\r\n  constructor(   @Inject(MAT_DIALOG_DATA) public data, private cdref: ChangeDetectorRef,\r\n                 private renderer: Renderer2,  public dialogRef: MatDialogRef<PictDialogComponent> ) {}\r\n\r\n  ngOnInit() {\r\n    this.startCamera();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.stopVideo();\r\n   }\r\n\r\n\r\n  startCamera() {\r\n    this.pictDone = false;\r\n    this.photoToSave = null;\r\n    if (!!(navigator.mediaDevices && navigator.mediaDevices.getUserMedia)) {\r\n      navigator.mediaDevices.getUserMedia(this.cameraConstraints)\r\n      .then((stream) => {this.videoStream = stream; this.attachVideo(); })\r\n      .catch((error) => alert(error));\r\n    } else {\r\n        alert('Sorry, camera not available.');\r\n    }\r\n  }\r\n\r\n\r\n\r\n    attachVideo() {\r\n      this.renderer.setProperty(this.videoElement.nativeElement, 'srcObject', this.videoStream);\r\n      this.renderer.listen(this.videoElement.nativeElement, 'play', (event) => {\r\n        this.videoHeight = this.videoElement.nativeElement.videoHeight;\r\n        this.videoWidth = this.videoElement.nativeElement.videoWidth;\r\n        this.videoActive = true;\r\n      });\r\n    }\r\n\r\n    stopVideo(){\r\n      this.videoStream.getTracks().forEach(element => {element.stop();  });\r\n      this.videoActive = false;\r\n    }\r\n\r\n  onNoClick(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  doPict(){\r\n    this.renderer.setProperty(this.videoCanvas.nativeElement, 'width', this.videoWidth);\r\n    this.renderer.setProperty(this.videoCanvas.nativeElement, 'height', this.videoHeight);\r\n    this.videoCanvas.nativeElement.getContext('2d').drawImage(this.videoElement.nativeElement, 0, 0);\r\n    this.stopVideo();\r\n    this.updatePhotoExtractionFromCanvas(this.videoCanvas.nativeElement, 'image/jpeg', 1.0);\r\n  }\r\n\r\n\r\n  updatePhotoExtractionFromCanvas(canvas, mimeType: string, qualityArgument: number){\r\n    canvas.toBlob((blob) => {\r\n      // const fileCreated=this.blobToFile(blob,'image'+new Date().getTime()+'.jpeg',mimeType);\r\n      // console.log(fileCreated)\r\n      this.canvasPhotoExtraction = blob;\r\n      // console.log('firstCanvasSize '+ this.blobToFile(blob,'image'+new Date().getTime()+'.jpeg',mimeType).size);\r\n\r\n      this.cdref.detectChanges();\r\n      this.cdref.markForCheck();\r\n    }, mimeType, qualityArgument);\r\n  }\r\n\r\n  webCamIageLoaded(){\r\n    this.pictDone = true;\r\n  }\r\n\r\n  imageCropped(crop: ImageCroppedEvent) {\r\n    // this.croppedImage = crop.base64;\r\n\r\n    // put the created cropped image to canvas and reduce the size\r\n    this.renderer.setProperty(this.cropperCanvas.nativeElement, 'width', crop.width);\r\n    this.renderer.setProperty(this.cropperCanvas.nativeElement, 'height', crop.height);\r\n\r\n    this.isVertical = crop.width < crop.height;\r\n\r\n\r\n    const image = new Image();\r\n    image.onload = () => {\r\n      this.cropperCanvas.nativeElement.getContext('2d').drawImage(image, 0, 0);\r\n      this.updatePhotoCroppedFromCanvas(this.cropperCanvas.nativeElement, 'image/jpeg', 0.92);\r\n\r\n    };\r\n    image.src = crop.base64;\r\n  }\r\n\r\n\r\n  updatePhotoCroppedFromCanvas(canvas, mimeType: string, qualityArgument: number){\r\n    canvas.toBlob((blob) => {\r\n      console.log('canvasBlob size:' + (blob.size / (1024 * 1024)));\r\n      const fileCreated = this.blobToFile(blob, 'image' + new Date().getTime() + '.jpeg', mimeType);\r\n      if ((fileCreated.size / (1024 * 1024)) > this.data.maxSize){\r\n            console.log('TOO BIG, reduce');\r\n            this.updatePhotoCroppedFromCanvas(canvas, mimeType, qualityArgument - 0.1);\r\n          }else{\r\n            // this.croppedImage = blob;\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(blob);\r\n            reader.onloadend = () => this.croppedImage =  reader.result;\r\n\r\n            this.photoToSave = fileCreated;\r\n\r\n            // console.log('FINAL PHOTO size:'+ (fileCreated.size/(1024*1024)),this.photoToSave)\r\n            this.cdref.detectChanges();\r\n            this.cdref.markForCheck();\r\n          }\r\n\r\n\r\n    }, mimeType, qualityArgument);\r\n  }\r\n\r\n\r\n\r\n  // createFile(canvas,mimeType:string, qualityArgument:number){\r\n  //   canvas.toBlob((blob) =>{\r\n  //     const fileCreated=this.blobToFile(blob,'image'+new Date().getTime()+'.jpeg',mimeType);\r\n  //     if((fileCreated.size/(1024*1024))>this.data.maxSize){\r\n  //       this.createFile(canvas, mimeType,qualityArgument-0.1)\r\n  //     }else{\r\n  //       this.photoToSave=fileCreated;\r\n  //       this.cdref.detectChanges();\r\n  //       this.cdref.markForCheck();\r\n  //     }\r\n\r\n  //   }, mimeType,qualityArgument);\r\n  // }\r\n\r\n  // A Blob() is almost a File() - it's just missing the two properties below which we will add\r\n  public blobToFile = (theBlob: Blob, fileName: string, mimeType: string): File => {\r\n    // const b: any = theBlob;\r\n    // b.lastModifiedDate = new Date();\r\n    // b.name = fileName;\r\n    return new File([theBlob], fileName, {type: mimeType});\r\n    // return theBlob as File;\r\n}\r\n\r\n}\r\n","<!-- <span mat-dialog-title>Take a pic</span> -->\r\n<div mat-dialog-content style=\"max-height: none;\">\r\n  <video #video id=\"video\" class=\"pd_video_player\" autoplay></video>\r\n  <canvas #video_canvas style=\"display: none;\"></canvas>\r\n  <canvas #cropper_canvas style=\"display: none;\"></canvas>\r\n\r\n  <!-- [resizeToWidth]=\"205\" -->\r\n  <!-- [cropperMinWidth]=\"205\" -->\r\n  <!-- [aspectRatio]=\"205 / 256\" -->\r\n  <!-- [maintainAspectRatio]=\"true\" -->\r\n  <!-- [onlyScaleDown]=\"true\" -->\r\n  <!-- [imageQuality]=\"100\" -->\r\n  <div class=\"pd_canvas\">\r\n    <image-cropper\r\n      [imageFile]=\"canvasPhotoExtraction\"\r\n      [maintainAspectRatio]=\"!!data.aspectRatio\"\r\n      [aspectRatio]=\"data.aspectRatio\"\r\n      [resizeToWidth]=\"data.resizeToWidth\"\r\n      format=\"jpeg\"\r\n      (imageCropped)=\"imageCropped($event)\"\r\n      (imageLoaded)=\"webCamIageLoaded()\" >\r\n    </image-cropper>\r\n    <img class=\"finalImage\"  [ngClass]=\"{'verticalFinalImage':isVertical}\" [src]=\"croppedImage\" />\r\n  </div>\r\n\r\n</div>\r\n<div mat-dialog-actions>\r\n  <button type=\"button\" mat-button (click)=\"onNoClick()\" i18n=\"pict@@cancelOperation\">Cancel</button>\r\n  <span style=\"flex: 1;\"></span>\r\n  <button type=\"button\" mat-stroked-button class=\"ricatturaImmagine\"   (click)=\"startCamera()\" i18n=\"pict@@retry\">Retry</button>\r\n  <button type=\"button\" [disabled]=\"!videoActive\" mat-fab class=\"catturaImmagine\"    (click)=\"doPict()\" cdkFocusInitial><mat-icon>photo_camera</mat-icon></button>\r\n  <span style=\"flex: 1;\"></span>\r\n  <button type=\"button\" mat-raised-button color=\"primary\" [disabled]=\"!photoToSave\"  [mat-dialog-close]=\"photoToSave\" i18n=\"pict@@confirmPhoto\">Confirm</button>\r\n</div>\r\n\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n    name: 'siiMemory',\r\n    standalone: true\r\n})\r\nexport class SiiMemoryPipe implements PipeTransform {\r\n\r\n  transform(value: number, ...args: unknown[]): unknown {\r\n    // value in byte\r\n    if ( value < 1024 ) {\r\n      return Math.ceil(value) + 'B';\r\n    }else if (value < (1024 * 1024)){\r\n      return Math.ceil(value / 1024) + 'KB';\r\n    }else if (value < (1024 * 1024 * 1024)){\r\n      return Math.ceil(value / (1024 * 1024 )) + 'MB';\r\n    }else{\r\n      return Math.ceil(value / (1024 * 1024 * 1024 )) + 'GB';\r\n    }\r\n\r\n  }\r\n\r\n}\r\n","import { coerceBooleanProperty, coerceNumberProperty } from '@angular/cdk/coercion';\r\nimport { Platform } from '@angular/cdk/platform';\r\nimport { Component, ElementRef, forwardRef, HostBinding, HostListener, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { ControlValueAccessor, FormControl, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { isObservable, Observable } from 'rxjs';\r\nimport { SiiToolkitService } from '../../sii-toolkit.service';\r\nimport { CropImageDialogComponent } from './crop-image-dialog/crop-image-dialog.component';\r\nimport { FilePreviewDialogComponent } from './file-preview-dialog/file-preview-dialog.component';\r\nimport { PictDialogComponent } from './pict-dialog/pict-dialog.component';\r\nimport { SiiMemoryPipe } from '../util/sii-memory.pipe';\r\nimport { SiiDatePipe } from '../util/sii-date.pipe';\r\nimport { MatMenuTrigger, MatMenu, MatMenuItem } from '@angular/material/menu';\r\nimport { MatIconButton, MatButton } from '@angular/material/button';\r\nimport { MatIcon } from '@angular/material/icon';\r\n\r\n\r\n@Component({\r\n    selector: 'sii-upload',\r\n    templateUrl: './upload.component.html',\r\n    styleUrls: ['./upload.component.scss'],\r\n    providers: [\r\n        {\r\n            provide: NG_VALUE_ACCESSOR,\r\n            useExisting: forwardRef(() => UploadComponent),\r\n            multi: true,\r\n        },\r\n        SiiDatePipe\r\n        // { provide: NG_VALIDATORS, useExisting: UploadContainerComponent, multi: true },\r\n    ],\r\n    standalone: true,\r\n    imports: [\r\n        MatIcon,\r\n        MatIconButton,\r\n        MatMenuTrigger,\r\n        MatMenu,\r\n        MatMenuItem,\r\n        MatButton,\r\n        SiiDatePipe,\r\n        SiiMemoryPipe,\r\n    ],\r\n})\r\nexport class UploadComponent implements  ControlValueAccessor {\r\n\r\n  webcamAvailable = false;\r\n  get acceptArray(){\r\n    return this.accept !== '' ? this.accept.split(',') : [];\r\n  }\r\n\r\n  get acceptText(){\r\n   return this.acceptArray.map(a => a.split('/').pop()).join(', ');\r\n  }\r\n\r\n  constructor(public dialog: MatDialog, public platform: Platform, private sanitizer: DomSanitizer, private ts: SiiToolkitService) {\r\n    this.webcamAvailable = !platform.IOS && !platform.ANDROID && !!(navigator.mediaDevices && navigator.mediaDevices.getUserMedia);\r\n\r\n  }\r\n\r\n  // tslint:disable-next-line:variable-name\r\n  _multiple = false;\r\n  @Input()\r\n  get multiple(): boolean {\r\n    return this._multiple;\r\n  }\r\n  set multiple(value: boolean) {\r\n    this._multiple = coerceBooleanProperty(value);\r\n  }\r\n\r\n\r\n  private isMaxSizeDefault = true;\r\n  private isMaxSizeSingleDefault = true;\r\n  // tslint:disable-next-line:variable-name\r\n  _maxSize = 20;\r\n   // tslint:disable-next-line:variable-name\r\n  _maxSizeSingleFile = 20;\r\n\r\n  @Input()\r\n   get maxSize(): number {\r\n    if (this.isMaxSizeDefault && !this.isMaxSizeSingleDefault){\r\n      return Math.max(this._maxSize, this._maxSizeSingleFile);\r\n    }\r\n    return this._maxSize;\r\n  }\r\n  set maxSize(value: number) {\r\n    this._maxSize = coerceNumberProperty(value);\r\n    this.isMaxSizeDefault = false;\r\n  }\r\n  @Input()\r\n   get maxSizeSingleFile(): number {\r\n    if (!this.isMaxSizeDefault && !this.isMaxSizeSingleDefault){\r\n      return Math.min(this._maxSize, this._maxSizeSingleFile);\r\n    }else if (!this.isMaxSizeDefault && this.isMaxSizeSingleDefault){\r\n      return this._maxSize;\r\n    }\r\n    return this._maxSizeSingleFile;\r\n  }\r\n  set maxSizeSingleFile(value: number) {\r\n    this._maxSizeSingleFile = coerceNumberProperty(value);\r\n    this.isMaxSizeSingleDefault = false;\r\n\r\n\r\n  }\r\n\r\n  @Input() accept = '';\r\n  @Input() enableCamera = false;\r\n  @Input() disableDelete = false;\r\n  @Input() disableCrop = false;\r\n  @Input() aspectRatio;\r\n  @Input() resizeToWidth;\r\n\r\n  @Input() downloadService: (id: any) => void | Observable<File>;\r\n  @Input() previewService: (id: any) =>  Observable<File>;\r\n  @Input() deleteService: (file: UploadContainerFile) =>  Observable<boolean>;\r\n\r\n  @HostBinding('class.uploadErrorMessage') uploadErrorMessage = false;\r\n  @HostBinding('class.invalidExtension') invalidExt = false;\r\n  @HostBinding('class.invalidSize') invalidSize = false;\r\n  @HostBinding('class.invalidSizeSingle') invalidSizeSingleFile = false;\r\n  @HostBinding('class.invalidLength') invalidLength = false;\r\n  @ViewChild('fileDropRef') inputEle: ElementRef;\r\n\r\n\r\n  @HostBinding('class.fileover') fileOver: boolean;\r\n\r\n  disabled = false;\r\n\r\n  // uploadContainerControl = new FormControl();\r\n  selectedFiles: UploadContainerFile[] = [];\r\n\r\n  // Dragover listener\r\n  @HostListener('dragover', ['$event']) onDragOver(evt) {\r\n    evt.preventDefault();\r\n    evt.stopPropagation();\r\n    if (!this.disabled){\r\n      this.fileOver = true;\r\n    }\r\n  }\r\n\r\n  // Dragleave listener\r\n  @HostListener('dragleave', ['$event']) public onDragLeave(evt) {\r\n    evt.preventDefault();\r\n    evt.stopPropagation();\r\n    this.fileOver = false;\r\n  }\r\n\r\n  // Drop listener\r\n  @HostListener('drop', ['$event']) public ondrop(evt) {\r\n    evt.preventDefault();\r\n    evt.stopPropagation();\r\n\r\n    this.fileOver = false;\r\n    if (!this.disabled){\r\n    const files = evt.dataTransfer.files;\r\n    if (files.length > 0) {\r\n      this.onFileDropped(files);\r\n      // this.fileDropped.emit(files);\r\n      }\r\n    }\r\n   }\r\n\r\n  propagateChange: any = () => { };\r\n  onTouchedCallback: any = () => { };\r\n  validatorCallback: any = () => { };\r\n\r\n\r\n  registerOnValidatorChange?(fn: () => void): void {\r\n    this.validatorCallback = fn;\r\n  }\r\n\r\n  writeValue(obj: UploadContainerFile[] | UploadContainerFile ): void {\r\n    if (obj != null){\r\n      if (this.multiple){\r\n        this.selectedFiles = ( obj as UploadContainerFile[]).map(f => ( {...f, ...{ _type : this.getFileType(f.file) } } ) );\r\n      }else{\r\n        this.selectedFiles = [obj as UploadContainerFile].map(f => ( {...f, ...{ _type : this.getFileType(f.file) } } ) );\r\n      }\r\n    }else{\r\n      this.selectedFiles = [];\r\n    }\r\n\r\n    // this.uploadContainerControl.setValue(this.selectedFiles);\r\n  }\r\n\r\n  registerOnChange(fn: any): void {\r\n    this.propagateChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: any) {\r\n    this.onTouchedCallback = fn;\r\n  }\r\n\r\n  setDisabledState?(isDisabled: boolean): void {\r\n    this.disabled = isDisabled;\r\n    // isDisabled? this.uploadContainerControl.disable():this.uploadContainerControl.enable();\r\n  }\r\n\r\n  onFileDropped($event) {\r\n    if (!!$event && $event.length > 0){\r\n      this.checkImageToCrop($event).then((fileToLoad) => {\r\n        this.prepareFilesList(fileToLoad);\r\n      }, () => {});\r\n    }\r\n  }\r\n\r\n  fileBrowseHandler(files) {\r\n    if (!!files && files.length > 0){\r\n      this.checkImageToCrop(files).then((fileToLoad) => {\r\n        this.prepareFilesList(fileToLoad);\r\n      }, () => {});\r\n    }\r\n  }\r\n\r\n  deleteFile(index: number, file: UploadContainerFile) {\r\n    const perform = (i) => {\r\n      this.selectedFiles.splice(i, 1);\r\n      this.change(this.selectedFiles);\r\n    };\r\n\r\n    if ( !!this.deleteService ){\r\n      this.deleteService(file).subscribe(deleted => {\r\n        if (deleted){\r\n          perform(index);\r\n        }\r\n      });\r\n    }else{\r\n      perform(index);\r\n    }\r\n  }\r\n\r\n  loadFilePreviewInformation(fu: UploadContainerFile, force= false ){\r\n    return new Promise<void>((resolve, reject) => {\r\n      if (!fu._imagePreviewUrl || force){\r\n        const isImage = fu.file.type.match(/image\\/*/) != null;\r\n        const isPdf = fu.file.type.match(/pdf\\/*/) != null;\r\n        if (isImage || isPdf) {\r\n        // const reader = new FileReader();\r\n        // reader.readAsDataURL(fu.file as File);\r\n        fu._isImage = isImage;\r\n        fu._imagePreviewUrl =  this.sanitizer.bypassSecurityTrustResourceUrl( window.URL.createObjectURL(fu.file as Blob));\r\n        resolve();\r\n        // reader.onloadend = () => {\r\n          //    fu._imagePreviewUrl =  this.sanitizer.bypassSecurityTrustResourceUrl(reader.result as string);\r\n          // resolve();\r\n        //   };\r\n      }\r\n      }else{\r\n        resolve();\r\n      }\r\n    });\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n  downloadableFile(fu: UploadContainerFile ){\r\n    return (fu?.file  instanceof  File)  || this.downloadService != null  || this.previewService != null;\r\n  }\r\n\r\n  previewableFile(fu: UploadContainerFile ){\r\n    return !!fu?._imagePreviewUrl  ||\r\n    ( this.previewService != null &&\r\n       (\r\n         fu?.file?.type?.match(/image\\/*/) != null\r\n        ||\r\n        fu?.file?.type?.match(/pdf\\/*/) != null\r\n        ));\r\n  }\r\n  cropableFile(fu: UploadContainerFile ){\r\n    return (!!fu?._imagePreviewUrl && !!fu._isImage)  ||\r\n    ( this.previewService != null && fu?.file?.type?.match(/image\\/*/) != null  );\r\n  }\r\n\r\n  cropFile( fu: UploadContainerFile, index){\r\n    if (fu.file != null && fu.file  instanceof  File){\r\n      this.performCropFile(index);\r\n    }else if (this.previewService != null){\r\n      // il file non c'Ã¨\r\n      this.previewService(fu.id).subscribe((resp) => {\r\n        const respFile = this.previewServiceResponseToFile(resp, fu);\r\n        if (respFile != null ){\r\n            fu.file = respFile;\r\n            this.loadFilePreviewInformation(fu).then(() => {\r\n              if (fu._isImage){\r\n                this.performCropFile(index);\r\n              }else{\r\n                console.error('the downloaded file is not of type image or pdf');\r\n              }\r\n            });\r\n          }else{\r\n            fu._isImage = false;\r\n            console.error('the downloaded file is not of type File');\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  previewServiceResponseToFile( resp , fu: UploadContainerFile ){\r\n     if (resp  instanceof  File){\r\n      return resp;\r\n    }else if (resp instanceof Blob){\r\n      return new File([resp], fu.file.name, {type: resp.type});\r\n    }else{\r\n      return null;\r\n    }\r\n  }\r\n\r\n  previewFile(fu: UploadContainerFile){\r\n    if (!!fu?._imagePreviewUrl){\r\n      this.openPreviewDialog(fu);\r\n    }else if (this.previewService != null){\r\n      this.previewService(fu.id).subscribe((resp) => {\r\n        const respFile = this.previewServiceResponseToFile(resp, fu);\r\n        if (respFile != null){\r\n          fu.file = respFile;\r\n          this.loadFilePreviewInformation(fu).then(() => {\r\n            if (!!fu._imagePreviewUrl){\r\n              this.openPreviewDialog(fu);\r\n            }else{\r\n              console.error('the downloaded file is not of type image or pdf');\r\n            }\r\n          });\r\n        }else{\r\n          fu._isImage = false;\r\n          console.error('the downloaded file is not of type File');\r\n        }\r\n      });\r\n    }else{\r\n      console.log('error on preview');\r\n    }\r\n\r\n\r\n  }\r\n\r\n\r\n  downloadFile(fu: UploadContainerFile ){\r\n    if (fu.file != null && fu.file  instanceof  File){\r\n      // il file c'Ã¨\r\n    this.buildDownloadLink(fu);\r\n    }else if (this.downloadService != null){\r\n      this.downloadService(fu.id);\r\n    }else if (this.previewService != null){\r\n      // il file non c'Ã¨\r\n      this.previewService(fu.id).subscribe((resp) => {\r\n        const respFile = this.previewServiceResponseToFile(resp, fu);\r\n        if (respFile != null){\r\n            fu.file = respFile;\r\n            this.loadFilePreviewInformation(fu).then(() => {\r\n              this.buildDownloadLink(fu);\r\n            });\r\n          }else{\r\n            fu._isImage = false;\r\n            console.error('the downloaded file is not of type File');\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  buildDownloadLink(fu: UploadContainerFile){\r\n    const downloadLink = document.createElement('a');\r\n    downloadLink.href = window.URL.createObjectURL(fu.file as File);\r\n    downloadLink.setAttribute('download', fu.file.name);\r\n    document.body.appendChild(downloadLink);\r\n    downloadLink.click();\r\n    document.body.removeChild(downloadLink);\r\n  }\r\n\r\n\r\n  prepareFilesList(files: Array<any>) {\r\n\r\n    this.checkFile(files).then(\r\n      () => {\r\n\r\n        if (!this.multiple){\r\n          this.selectedFiles = [];\r\n        }\r\n\r\n        for (const it of files) {\r\n          // clono l'oggetto per modificarne la data con quella attuale\r\n          const item = new File([it], it.name, { type: it.type }) as File;\r\n          const duplicated = this.selectedFiles.find(sf => sf.file.name === item.name) != null;\r\n\r\n          const cf = {\r\n            name: duplicated ? 'copy-' + item.name : item.name,\r\n            file: item,\r\n            creationUser: {\r\n              firstname: this.ts.loggedUser.value.firstName,\r\n              lastname: this.ts.loggedUser.value.lastName,\r\n              userid: this.ts.loggedUser.value.username\r\n            },\r\n            id: null,\r\n            _type: this.getFileType(item)\r\n          } as UploadContainerFile;\r\n\r\n          this.selectedFiles.push(cf);\r\n\r\n          this.loadFilePreviewInformation(cf);\r\n\r\n        }\r\n        this.change(this.selectedFiles);\r\n        this.onTouchedCallback();\r\n        this.inputEle.nativeElement.value = '';\r\n\r\n      },\r\n      (err) => {\r\n      this.uploadErrorMessage = true;\r\n\r\n      switch (err){\r\n          case 'INVALID-FILE-EXTENSION': this.invalidExt = true; break;\r\n          case 'INVALID-FILE-SIZE': this.invalidSize = true; break;\r\n          case 'INVALID-FILE-SIZE-SINGLE-FILE': this.invalidSizeSingleFile = true; break;\r\n          case 'INVALID-FILE-LENGTH': this.invalidLength = true; break;\r\n        }\r\n\r\n      setTimeout(() => {\r\n        this.uploadErrorMessage = false;\r\n        this.invalidExt = false;\r\n        this.invalidSize = false;\r\n        this.invalidSizeSingleFile = false;\r\n        this.invalidLength = false;\r\n      }, 4000);\r\n\r\n        // remove the file selected\r\n        // if(this.selectedFiles){\r\n        //   this.selectedFiles.length=0;\r\n        // }\r\n        // this.uploadContainerControl.setValue(this.selectedFiles);\r\n      this.inputEle.nativeElement.value = '';\r\n\r\n\r\n      });\r\n\r\n\r\n  }\r\n\r\n  change(files){\r\n    if (this.multiple){\r\n      this.propagateChange(files);\r\n    }else{\r\n      this.propagateChange(files.length === 0 ? null : files[0]);\r\n    }\r\n\r\n  }\r\n\r\n  getFileType(file: File | SiiFile): string | null{\r\n    if ( file.type.match(/image\\/*/) != null){return 'IMAGE'; }\r\n    else if ( file.type.match(/pdf\\/*/) != null){return 'PDF'; }\r\n    else if ( file.type.match(/csv$/) != null){return 'CSV'; }\r\n    else if ( file.type.match(/\\.spreadsheetml$/) != null){return 'EXCEL'; }\r\n    else if ( file.type.match(/\\.document$/) != null){return 'WORD'; }\r\n    else if ( file.type.match(/\\.presentation$/) != null){return 'POWERPOINT'; }\r\n  }\r\n\r\n\r\n  checkImageToCrop(files: Array<any>){\r\n    return new Promise< Array<any>>((resolve, reject) => {\r\n\r\n      // get all images file\r\n      const imagesFile = [];\r\n      const othersFile = [];\r\n      for (const f of files) {\r\n        if (f.type.match(/image\\/*/) != null){\r\n          imagesFile.push(f);\r\n        }else{\r\n          othersFile.push(f);\r\n        }\r\n      }\r\n\r\n      // const imagesFile = files.filter(f => f.type.match(/image\\/*/) != null);\r\n      if (imagesFile.length === 0 || imagesFile.length > 1){\r\n        resolve(files);\r\n        return;\r\n      }\r\n\r\n      // if i'm here there is only 1 image file\r\n      this.openCropDialog(imagesFile[0])\r\n      .subscribe((photo: File) => {\r\n        if (!!photo){\r\n          othersFile.push(photo);\r\n          resolve(othersFile);\r\n        }else{\r\n          reject();\r\n        }\r\n      });\r\n\r\n\r\n    });\r\n  }\r\n\r\n\r\n\r\n  performCropFile( index){\r\n    this.openCropDialog( this.selectedFiles[index].file as File)\r\n      .subscribe((photo: File) => {\r\n        if (!!photo){\r\n          // remove the id to perform a new upload\r\n          this.selectedFiles[index].prevId = this.selectedFiles[index].id;\r\n          this.selectedFiles[index].id = null;\r\n          this.selectedFiles[index].file = photo;\r\n          this.loadFilePreviewInformation(this.selectedFiles[index], true);\r\n          this.change(this.selectedFiles);\r\n        }\r\n      });\r\n  }\r\n\r\n  openCropDialog(file: File){\r\n   return this.dialog.open(CropImageDialogComponent,\r\n      {\r\n        disableClose: true,\r\n        width: '98vw',\r\n        maxWidth: '98vw',\r\n        data: {\r\n          maxSize: (this.multiple ? this.maxSizeSingleFile : this.maxSize ),\r\n          aspectRatio: this.aspectRatio,\r\n          resizeToWidth: this.resizeToWidth,\r\n          file\r\n        }\r\n      }\r\n      ).afterClosed();\r\n  }\r\n\r\n\r\n private openPreviewDialog(fu: UploadContainerFile){\r\n  if ( fu.file.size > (1000 * 1024 * 4) ){\r\n    // Create a link pointing to the ObjectURL containing the blob.\r\n    const url = window.URL.createObjectURL(fu.file as Blob);\r\n    const anchor = document.createElement('a');\r\n    anchor.href = url;\r\n    anchor.target = '_blank';\r\n    anchor.click();\r\n    setTimeout(() => {\r\n      // For Firefox it is necessary to delay revoking the ObjectURL\r\n      window.URL.revokeObjectURL(url);\r\n    }, 100);\r\n  }else{\r\n\r\n     this.dialog.open(FilePreviewDialogComponent,\r\n       {\r\n        width: '98%',\r\n        maxWidth: '100%',\r\n        // height: '98%',\r\n        // maxHeight: '98%',\r\n         data: fu.file\r\n       }\r\n       );\r\n   }\r\n  }\r\n\r\n\r\n\r\n\r\n    checkFile(files: Array<any>){\r\n      return new Promise((resolve, reject) => {\r\n\r\n      if (!this.multiple && files.length > 1 ){\r\n        reject('INVALID-FILE-LENGTH');\r\n        return;\r\n      }\r\n\r\n      if (this.acceptArray.length !== 0){\r\n        // check the format\r\n        for (const f of files) {\r\n          if (!this.isValidFormat(f, this.acceptArray)){\r\n            reject('INVALID-FILE-EXTENSION');\r\n            return;\r\n          }\r\n        }\r\n      }\r\n\r\n      for (const f of files) {\r\n        // check max size\r\n        if (!this.isValidSize(f)){\r\n          reject('INVALID-FILE-SIZE-SINGLE-FILE');\r\n          return;\r\n        }\r\n      }\r\n\r\n      let totalSize = 0;\r\n      for (const f of files) {\r\n        totalSize += (f as File).size;\r\n      }\r\n      // SUM ALSO THE ACTUAL SELECTED FILES if is multiple\r\n      if (this.multiple && this.selectedFiles != null){\r\n        this.selectedFiles.forEach(sf => {\r\n          if (sf.file != null && sf.file.size != null){\r\n            totalSize += (sf.file as File)?.size || 0 ;\r\n          }else{\r\n            console.error('some files of Sii-Upload have null file object. Please return an empty object with only the size');\r\n          }\r\n        });\r\n      }\r\n      if ((totalSize / (1020 * 1024)) > this.maxSize){\r\n        reject('INVALID-FILE-SIZE');\r\n        return;\r\n      }\r\n\r\n\r\n\r\n      resolve(null);\r\n\r\n    });\r\n  }\r\n\r\n  isValidFormat(f: File, acceptArray: Array<string>): boolean{\r\n    return acceptArray.find(acc => acc === f.type) != null;\r\n    // return acceptArray.includes(f.type);\r\n  }\r\n  isValidSize(f: File): boolean{\r\n    return (f.size / (1024 * 1024)) <= (this.multiple ? this.maxSizeSingleFile : this.maxSize );\r\n  }\r\n\r\n  pictImage(){\r\n    this.dialog.open(PictDialogComponent,\r\n      {\r\n        disableClose: true,\r\n        data: {\r\n          maxSize: (this.multiple ? this.maxSizeSingleFile : this.maxSize ),\r\n          aspectRatio: this.aspectRatio,\r\n          resizeToWidth: this.resizeToWidth,\r\n        }\r\n      }\r\n      ).afterClosed()\r\n    .subscribe((photo: File) => {\r\n      this.prepareFilesList(!!photo ? [photo] : []);\r\n    });\r\n  }\r\n}\r\n\r\nexport interface UploadContainerFile {\r\n  id: number;\r\n  creationUser?: {firstname: string, lastname: string, userid: string};\r\n  file: File | SiiFile;\r\n  readonly?: boolean;\r\n  prevId?: number;\r\n  _imagePreviewUrl?: any ;\r\n  _isImage?: any ;\r\n  _type?: string;\r\n\r\n}\r\n\r\nexport interface SiiFile{\r\n  name: string;\r\n  lastModified: number;\r\n  type: string;\r\n  size: number;\r\n}\r\n\r\n\r\n// {\r\n//   id: number;\r\n// creationUser: {firstname: string, lastname: string, userid: string};\r\n// file: { name:string , lastModified: number,  type: string,  size: number};\r\n// readonly?: boolean;\r\n// }\r\n","<input type=\"file\"  style=\"display: none;\" [accept]=\"accept\"   #fileDropRef id=\"fileDropRef\" [multiple]=\"multiple\" (change)=\"fileBrowseHandler($event.target.files)\" />\r\n\r\n\r\n<ng-content select=\"[sii-upload-title]\"></ng-content>\r\n\r\n<div class=\"siiUploadBox\">\r\n\r\n\r\n  <div class=\"container\"  >\r\n\r\n    <div class=\"UC_Drop_row_fullScreen\" >\r\n      <mat-icon style=\"    width: 40px;      height: 40px;      margin: 10px;\" svgIcon=\"upload-solid\"></mat-icon>\r\n      <span style=\"    margin-left: 10px;\" i18n=\"@@DropFileHere\">Drop file here</span>\r\n    </div>\r\n\r\n    <div class=\"invalidExtensionFile\" >\r\n      <b><h2 i18n=\"@@FU_invalidFileType\">Invalid File Type</h2></b>\r\n      <span i18n=\"@@FU_supportedType\">Supported types are</span>\r\n\r\n      @for (t of acceptArray; track t) {\r\n        <div>{{t}}</div>\r\n      }\r\n    </div>\r\n\r\n    <div class=\"invalidSizeFile\" >\r\n      <b><h2 i18n=\"@@FU_invalidFileSize\">Invalid Size</h2></b>\r\n      <span i18n=\"@@FU_maxSize\">Max size for the upload is : {{maxSize}} MB</span>\r\n    </div>\r\n    <div class=\"invalidSizeSingleFile\" >\r\n      <b><h2 i18n=\"@@FU_invalidFileSize\">Invalid Size</h2></b>\r\n      <span i18n=\"@@FU_maxSizeSingleFile\">Max size for single file is : {{maxSizeSingleFile}} MB</span>\r\n    </div>\r\n\r\n    <div  class=\"invalidLengthFile\" >\r\n      <b><h2 i18n=\"@@FU_invalidLengthSize\">Invalid Length</h2></b>\r\n      <span i18n=\"@@FU_onlyOne\">You can upload only 1 file</span>\r\n    </div>\r\n\r\n\r\n\r\n    <ng-content select=\"[sii-upload-description]\"></ng-content>\r\n\r\n    @if (!disabled) {\r\n      <div class=\"infoBox\" >\r\n        <div class=\"specifiche\">\r\n          @if (multiple) {\r\n            <span class=\"UC_multiple\" i18n=\"sii-upload-component@@multipleFileSelection\">more than one file can be uploaded</span>\r\n          }\r\n          <span class=\"UC_max_size\" >\r\n            <span i18n=\"@@FU_maxSize_small\">Max Size</span>:{{(maxSize*1024*1024) | siiMemory}}\r\n            @if (multiple || true) {\r\n              -  <span i18n=\"@@FU_maxSizeSingle_small\">Max Size Single File</span>: {{(maxSizeSingleFile *1024*1024) | siiMemory}}\r\n            }\r\n          </span>\r\n          @if (accept!='') {\r\n            <span class=\"UC_accept\"><span i18n=\"@@fileTypes\">File type:</span>&nbsp;{{acceptText}}</span>\r\n          }\r\n        </div>\r\n        <div class=\"UC_Drop_row\">\r\n          <mat-icon style=\"    width: 20px;\" svgIcon=\"upload-solid\"></mat-icon>\r\n          <span style=\"    margin-left: 10px;\" i18n=\"@@DropFileHere\">Drop file here</span>\r\n        </div>\r\n      </div>\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n  </div>\r\n\r\n\r\n  <div class=\"UC-file-list\">\r\n\r\n    @for (file of selectedFiles; track file; let i = $index) {\r\n      <div class=\"UC-file-selected-item\">\r\n        <div class=\"UC-file-selected-item-box\">\r\n          <span  class=\"UC-file-selected-item-attribute titleCol\">\r\n            @if (!!file._imagePreviewUrl && !!file._isImage) {\r\n              <img class=\"rowPreviewImage\" [src]=\"file._imagePreviewUrl\">\r\n            }\r\n            @if (!(!!file._imagePreviewUrl && !!file._isImage)) {\r\n              @switch (file._type) {\r\n                @case ('CSV') {\r\n                  <mat-icon svgIcon=\"file-csv\"></mat-icon>\r\n                }\r\n                @case ('EXCEL') {\r\n                  <mat-icon svgIcon=\"file-excel\"></mat-icon>\r\n                }\r\n                @case ('IMAGE') {\r\n                  <mat-icon svgIcon=\"file-image\"></mat-icon>\r\n                }\r\n                @case ('PDF') {\r\n                  <mat-icon svgIcon=\"file-pdf\"></mat-icon>\r\n                }\r\n                @case ('POWERPOINT') {\r\n                  <mat-icon svgIcon=\"file-powerpoint\"></mat-icon>\r\n                }\r\n                @case ('WORD') {\r\n                  <mat-icon svgIcon=\"file-word\"></mat-icon>\r\n                }\r\n                @default {\r\n                  <mat-icon svgIcon=\"file_download\"></mat-icon>\r\n                }\r\n              }\r\n            }\r\n            <span class=\"fileName\">{{ file?.file.name }}</span>\r\n          </span>\r\n          <span  class=\"UC-file-selected-item-attribute creuser\">\r\n            @if (!!file?.creationUser?.firstname) {\r\n              <mat-icon>person</mat-icon>\r\n              <span>{{file?.creationUser?.firstname +' '+ file?.creationUser?.lastname }}</span>\r\n            }\r\n          </span>\r\n          <span  class=\"UC-file-selected-item-attribute lastmod\">\r\n            @if (!!file?.file?.lastModified) {\r\n              <mat-icon>event</mat-icon>\r\n              <span>{{file?.file?.lastModified | siiDate}}</span>\r\n            }\r\n          </span>\r\n          <span  class=\"UC-file-selected-item-attribute size\">\r\n            @if (!!file?.file?.size) {\r\n              <mat-icon>memory</mat-icon>\r\n              <span>{{file?.file?.size | siiMemory}}</span>\r\n            }\r\n          </span>\r\n        </div>\r\n        <button type=\"button\" [matMenuTriggerFor]=\"action\"   mat-icon-button ><mat-icon>more_vert</mat-icon></button>\r\n        <mat-menu #action=\"matMenu\"   >\r\n          @if (!disableCrop && !this.disabled && cropableFile(file) && file.readonly!=true) {\r\n            <button type=\"button\" mat-menu-item (click)=\"cropFile(file, i)\"><mat-icon>crop</mat-icon><span i18n=\"@@SiiUploadCrop\">Crop</span></button>\r\n          }\r\n          @if (downloadableFile(file)) {\r\n            <button type=\"button\" mat-menu-item (click)=\"downloadFile(file)\"><mat-icon>file_download</mat-icon><span i18n=\"@@SiiUploadDownload\">Download</span></button>\r\n          }\r\n          @if (!disabled && !disableDelete && file.readonly!=true) {\r\n            <button type=\"button\" mat-menu-item (click)=\"deleteFile(i,file)\"><mat-icon>delete_outline</mat-icon><span i18n=\"@@SiiUploadDelete\">Delete</span></button>\r\n          }\r\n          @if (previewableFile(file)) {\r\n            <button type=\"button\" mat-menu-item (click)=\"previewFile(file)\"><mat-icon>visibility</mat-icon><span i18n=\"@@SiiUploadPreview\">Preview</span></button>\r\n          }\r\n        </mat-menu>\r\n      </div>\r\n    }\r\n  </div>\r\n\r\n\r\n  @if (!disabled) {\r\n    <div class=\"UC_fileSelectionsRow\">\r\n      <button type=\"button\" mat-button  (click)=\"fileDropRef.click() \" >\r\n        <mat-icon style=\"    width: 17px;      margin-right: 4px;\" svgIcon=\"attachment\"></mat-icon>\r\n        <span i18n=\"@@Choose_File\">Choose file</span>\r\n      </button>\r\n      @if (enableCamera && webcamAvailable) {\r\n        <button type=\"button\" mat-button (click)=\"pictImage() \">\r\n          <mat-icon style=\"margin-right: 4px;\">photo_camera</mat-icon>\r\n          <span i18n=\"@@takeAPhoto\">Take a Photo</span>\r\n        </button>\r\n      }\r\n    </div>\r\n  }\r\n</div>\r\n\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { MatIcon } from '@angular/material/icon';\r\nimport { MatButton } from '@angular/material/button';\r\nimport { CdkScrollable } from '@angular/cdk/scrolling';\r\nimport { MatDialogTitle, MatDialogContent, MatDialogActions, MatDialogClose } from '@angular/material/dialog';\r\n\r\n@Component({\r\n    selector: 'sii-notarization',\r\n    templateUrl: './notarization.component.html',\r\n    styleUrls: ['./notarization.component.scss'],\r\n    standalone: true,\r\n    imports: [MatDialogTitle, CdkScrollable, MatDialogContent, MatDialogActions, MatButton, MatDialogClose, MatIcon]\r\n})\r\nexport class NotarizationComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div  mat-dialog-title class=\"notar_title_content\">\r\n  <span class=\"notar_title\">\r\n      <span i18n=\"@@Notarization\">Notarization</span>&nbsp;-&nbsp;\r\n      <ng-content select=\"notarization-title\"></ng-content>\r\n  </span>\r\n  <ng-content select=\"notarization-subtitle\"></ng-content>\r\n</div>\r\n<div mat-dialog-content>\r\n  <ng-content select=\"notarization-content\"></ng-content>\r\n</div>\r\n<div mat-dialog-actions>\r\n  <button mat-button mat-dialog-close>Cancel</button>\r\n  <span [style.flex]=\"1\"></span>\r\n  <button mat-raised-button color=\"primary\" [mat-dialog-close]=\"true\" cdkFocusInitial>\r\n    <mat-icon style=\"padding-right: 10px;\" svgIcon=\"file_signature\" ></mat-icon>\r\n    <span i18n=\"@@NotarizeDocument\">Notarize Document</span>\r\n  </button>\r\n</div>\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Component, Inject, OnInit } from '@angular/core';\r\nimport { MAT_DIALOG_DATA, MatDialogClose } from '@angular/material/dialog';\r\nimport { SiiNotarizationResponse } from '../../../../dto/notarization-response.dto';\r\nimport { MatIcon } from '@angular/material/icon';\r\nimport { MatButton } from '@angular/material/button';\r\nimport { BannerFeedbackComponent } from '../../../feedback/banner-feedback/banner-feedback.component';\r\n\r\n@Component({\r\n    selector: 'sii-notarization-response-dialog',\r\n    templateUrl: './notarization-response-dialog.component.html',\r\n    styleUrls: ['./notarization-response-dialog.component.scss'],\r\n    standalone: true,\r\n    imports: [BannerFeedbackComponent, MatButton, MatIcon, MatDialogClose]\r\n})\r\nexport class NotarizationResponseDialogComponent  {\r\n\r\n  constructor( @Inject(MAT_DIALOG_DATA) public data: any, private http: HttpClient) {}\r\n\r\n  printReceipt(){\r\n    this.http.post<any>(this.data.notarizationPrintReceiptUrl,\r\n       {\r\n        documentName:   this.data.notarizResp.documentName,\r\n        transactionId:  this.data.notarizResp.transactionId,\r\n        fileHash:       this.data.notarizResp.fileHash\r\n       },\r\n        {responseType: 'blob' as 'json'})\r\n       .subscribe((res) => {\r\n        const dataType = res.type;\r\n        const binaryData = [];\r\n        binaryData.push(res);\r\n        const downloadLink = document.createElement('a');\r\n        downloadLink.href = window.URL.createObjectURL(new Blob(binaryData, {type: dataType}));\r\n        downloadLink.setAttribute('download', `NOTARIZATION_${this.data.notarizResp.documentName}`);\r\n        document.body.appendChild(downloadLink);\r\n        downloadLink.click();\r\n       })\r\n        ;\r\n  }\r\n\r\n}\r\n\r\n\r\n","<sii-banner-feedback>\r\n  <div feedback-toolbar></div>\r\n  <div feedback-body style=\"display: flex; flex-direction: column; padding: 10px;\">\r\n\r\n    @switch (data.notarizResp.status) {\r\n      @case ('DONE') {\r\n        <p i18n=\"@@dialogDocumentSuccessNotarized\">The document has been correctly notarized</p>\r\n        <p i18n=\"@@dialogDocumentSuccessNotarizedData\">The operation data are as follows</p>\r\n        <p> <span i18n=\"@@transactionId\">Transaction ID</span>: {{data.notarizResp.transactionId}}</p>\r\n        <p> <span i18n=\"@@fileHash\">File Hash</span>: {{data.notarizResp.fileHash}}</p>\r\n      }\r\n      @case ('PENDING') {\r\n        <p i18n=\"@@notarizationPending\">The notarization request has been sent. You will receive a communication once it is processed. </p>\r\n      }\r\n    }\r\n\r\n\r\n\r\n  </div>\r\n  <div feedback-action>\r\n    @if (data.notarizResp.status=='DONE' && !!data.notarizationPrintReceiptUrl) {\r\n      <button mat-button (click)=\"printReceipt()\">\r\n        <mat-icon svgIcon=\"receipt_download\"></mat-icon>\r\n        <span  i18n=\"@@printreceipt\">Print Receipt</span>\r\n      </button>\r\n    }\r\n    <span [style.flex]=\"1\"></span>\r\n    <button mat-button mat-dialog-close cdkFocusInitial>OK</button>\r\n  </div>\r\n</sii-banner-feedback>\r\n","import { AfterContentInit, AfterViewInit, ContentChild, ContentChildren, Directive, ElementRef, OnInit, QueryList, ViewChild, HostListener } from '@angular/core';\r\nimport { MatInput } from '@angular/material/input';\r\nimport { MatDateRangePicker, MatEndDate , MatStartDate } from '@angular/material/datepicker';\r\nimport { debounceTime, distinctUntilChanged, startWith } from 'rxjs/operators';\r\nimport { SiiToolkitService } from '../../sii-toolkit.service';\r\nimport { SiiDatePipe } from './sii-date.pipe';\r\nimport { FormControlName, NgControl } from '@angular/forms';\r\nimport { forkJoin } from 'rxjs';\r\n\r\n@Directive({\r\n    selector: '[siiDateHint]',\r\n    providers: [SiiDatePipe],\r\n    standalone: true\r\n})\r\nexport class DateHintDirective implements AfterContentInit{\r\n  @ContentChild(MatInput) matInput: MatInput;\r\n  @ContentChild(MatStartDate) startDate: MatStartDate<Date>;\r\n  @ContentChild(MatEndDate) endDate: MatEndDate<Date>;\r\n  \r\n\r\n\r\n  dateHint: HTMLSpanElement;\r\n  startDateHint: HTMLSpanElement;\r\n  endDateHint: HTMLSpanElement;\r\n\r\n  constructor(private el: ElementRef, private siiDatePipe: SiiDatePipe, private siiToolkitService: SiiToolkitService) {\r\n\r\n   }\r\n\r\n  ngAfterContentInit(): void {\r\n\r\n\r\n    if(this.matInput!=null){\r\n      this.dateHint= document.createElement('span');\r\n      this.initialize(this.matInput.ngControl , this.dateHint);\r\n      this.matInput.stateChanges.pipe(debounceTime(100)).subscribe((res)=>{\r\n        if(this.el.nativeElement.getElementsByClassName(\"mat-mdc-form-field-error-wrapper\").length>0){\r\n          this.dateHint.style.display='none'\r\n        }else{\r\n          this.dateHint.style.display=''\r\n        }\r\n      })\r\n\r\n      \r\n    }\r\n\r\n    if(this.endDate!=null && this.startDate!=null){\r\n      this.endDateHint= document.createElement('span');\r\n      this.startDateHint= document.createElement('span');\r\n      this.initialize(this.endDate.ngControl , this.endDateHint)\r\n      this.initialize(this.startDate.ngControl , this.startDateHint , true)\r\n\r\n\r\n      this.startDate.stateChanges.pipe(debounceTime(100)).subscribe((res)=>{\r\n        this.checkForError();\r\n      });\r\n      this.endDate.stateChanges.pipe(debounceTime(100)).subscribe((res)=>{\r\n        this.checkForError();\r\n      })\r\n\r\n    }\r\n\r\n\r\n\r\n   \r\n\r\n\r\n\r\n   \r\n  }\r\n\r\n  checkForError(){\r\n    if(this.el.nativeElement.getElementsByClassName(\"mat-mdc-form-field-error-wrapper\").length>0){\r\n      this.startDateHint.style.display='none'\r\n      this.endDateHint.style.display='none'\r\n    }else{\r\n      this.startDateHint.style.display=''\r\n      this.endDateHint.style.display=''\r\n    }\r\n  }\r\n\r\n\r\n  initialize(control:NgControl, hintSpan:HTMLSpanElement , addSeparator=false){\r\n    hintSpan.classList.add('mat-hint');\r\n    this.el.nativeElement.getElementsByClassName('mat-mdc-form-field-bottom-align')[0].\r\n    insertAdjacentElement('afterbegin', hintSpan);\r\n \r\n    control.valueChanges\r\n    .pipe(\r\n      startWith(control.value),\r\n      distinctUntilChanged()\r\n      )\r\n      .subscribe((val) => {\r\n     if (val instanceof Array){\r\n       Promise.resolve().then(() => {\r\n        control.control.setValue(new Date(val[0], val[1] - 1, val[2]), {emitEvent: false});\r\n       });\r\n     }\r\n     \r\n \r\n     if (val != null){\r\n       if (this.siiToolkitService.loggedUser.value.inputDatePattern.toLowerCase() === this.siiToolkitService.loggedUser.value.displayDatePattern.toLowerCase()){\r\n        hintSpan.innerHTML = '';\r\n       }else{\r\n        hintSpan.innerHTML = this.siiDatePipe.transform(val) + (addSeparator?\" - \":\"\");\r\n       }\r\n     }else{\r\n      hintSpan.innerHTML = this.siiToolkitService.loggedUser.value.inputDatePattern.toLowerCase()+ (addSeparator?\" - \":\"\");\r\n \r\n     }\r\n    });\r\n  }\r\n\r\n}\r\n","import {FocusMonitor} from '@angular/cdk/a11y';\r\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\r\nimport {\r\n  AfterViewInit,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Inject,\r\n  Input,\r\n  OnDestroy,\r\n  Optional,\r\n  Output,\r\n  Self,\r\n  ViewChild\r\n} from '@angular/core';\r\nimport { AbstractControl, ControlValueAccessor, UntypedFormBuilder, UntypedFormControl, FormControlDirective, UntypedFormGroup, NgControl, ValidationErrors, ValidatorFn, Validators, FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport {MAT_FORM_FIELD, MatFormField, MatFormFieldControl} from '@angular/material/form-field';\r\nimport {Subject} from 'rxjs';\r\n\r\n\r\n\r\n/** Data structure for holding year month item. */\r\nexport class SiiYearMonth {\r\n  constructor(\r\n    public year: string,\r\n    public month: string\r\n  ) {}\r\n}\r\n\r\n/** Custom `MatFormFieldControl` for telephone number input. */\r\n@Component({\r\n    selector: 'sii-year-month-input',\r\n    templateUrl: './year-month-input.component.html',\r\n    styleUrls: ['./year-month-input.component.scss'],\r\n    providers: [{ provide: MatFormFieldControl, useExisting: YearMonthInputComponent }],\r\n    host: {\r\n        '[class.example-floating]': 'shouldLabelFloat',\r\n        '[id]': 'id',\r\n    },\r\n    standalone: true,\r\n    imports: [FormsModule, ReactiveFormsModule]\r\n})\r\nexport class YearMonthInputComponent\r\n  implements ControlValueAccessor, MatFormFieldControl<SiiYearMonth>, OnDestroy, AfterViewInit {\r\n\r\n  @Output() valueChange = new EventEmitter<SiiYearMonth>();\r\n\r\n  get empty() {\r\n    const {\r\n      value: { year,month }\r\n    } = this.parts;\r\n\r\n    return !month && !year ;\r\n  }\r\n  get emptyMonth() {\r\n    const {\r\n      value: { month }\r\n    } = this.parts;\r\n\r\n    return !month ;\r\n  }\r\n  get emptyYear() {\r\n    const {\r\n      value: { year }\r\n    } = this.parts;\r\n\r\n    return !year ;\r\n  }\r\n\r\n\r\n\r\n  get shouldLabelFloat() {\r\n    return this.focused || !this.empty;\r\n  }\r\n\r\n  @Input()\r\n  get placeholder(): string {\r\n    return this._placeholder;\r\n  }\r\n  set placeholder(value: string) {\r\n    this._placeholder = value;\r\n    this.stateChanges.next();\r\n  }\r\n\r\n  @Input()\r\n  get required(): boolean {\r\n    return this._required;\r\n  }\r\n  set required(value: boolean) {\r\n    this._required = coerceBooleanProperty(value);\r\n    this.stateChanges.next();\r\n  }\r\n\r\n  @Input()\r\n  get disabled(): boolean {\r\n    return this._disabled;\r\n  }\r\n  set disabled(value: boolean) {\r\n    this._disabled = coerceBooleanProperty(value);\r\n    this._disabled ? this.parts.disable() : this.parts.enable();\r\n    this.stateChanges.next();\r\n  }\r\n\r\n  @Input()\r\n  get value(): SiiYearMonth | null {\r\n    if (this.parts.valid) {\r\n      const {\r\n        value: { year,month }\r\n      } = this.parts;\r\n      return new SiiYearMonth(year,month);\r\n    }\r\n    return null;\r\n  }\r\n  set value(my: SiiYearMonth | null) {\r\n    const { year,month } = my || new SiiYearMonth('', '');\r\n    this.parts.setValue({ year,month });\r\n    this.stateChanges.next();\r\n  }\r\n\r\n  get errorState(): boolean {\r\n    return (this.parts.dirty || (!!this.ngControl && this.ngControl.control.touched))\r\n    &&\r\n    this.isInvalid\r\n    ;\r\n  }\r\n\r\n  get isInvalid(){\r\n      return   this.required ? ( this.emptyMonth || this.emptyYear || this.parts.invalid )\r\n                : ( (this.emptyMonth && !this.emptyYear) || (!this.emptyMonth && this.emptyYear) ||  (!this.empty && this.parts.invalid));\r\n  }\r\n\r\n  get isValid(){\r\n    return !this.isInvalid;\r\n  }\r\n\r\n  constructor(\r\n    formBuilder: UntypedFormBuilder,\r\n    private focusMonitor: FocusMonitor,\r\n    private elementRef: ElementRef<HTMLElement>,\r\n    @Optional() @Inject(MAT_FORM_FIELD) public formField: MatFormField,\r\n    @Optional() @Self() public ngControl: NgControl) {\r\n\r\n    this.parts = formBuilder.group({\r\n      month: [null, validMonth(this.required)],\r\n      year: [null, validYear(this.required)]\r\n    });\r\n\r\n\r\n    focusMonitor.monitor(elementRef, true).subscribe(origin => {\r\n      if (this.focused && !origin) {\r\n        this.onTouched();\r\n      }\r\n      this.focused = !!origin;\r\n      this.stateChanges.next();\r\n    });\r\n\r\n    if(this.ngControl!=null){\r\n      this.ngControl.valueAccessor = this;\r\n    }\r\n  }\r\n\r\n  static nextId = 0;\r\n\r\n  // static ngAcceptInputType_disabled: boolean | string | null | undefined;\r\n  // static ngAcceptInputType_required: boolean | string | null | undefined;\r\n  @ViewChild('year') yearInput: HTMLInputElement;\r\n  @ViewChild('month') monthInput: HTMLInputElement;\r\n\r\n  parts: UntypedFormGroup;\r\n  stateChanges = new Subject<void>();\r\n  focused = false;\r\n  controlType = 'sii-year-month-input';\r\n  id = `sii-year-month-input-${YearMonthInputComponent.nextId++}`;\r\n\r\n  @Input('aria-describedby') userAriaDescribedBy: string;\r\n  private _placeholder: string;\r\n  private _required = false;\r\n  private _disabled = false;\r\n\r\n  ngAfterViewInit(): void {\r\n    if(!!this.ngControl){\r\n      if (hasRequiredField(this.ngControl.control)){\r\n        this.required = true;\r\n      }\r\n      Promise.resolve().then(() => {\r\n        this.ngControl.control.setValidators(this.validate.bind(this));\r\n        this.ngControl.control.updateValueAndValidity();\r\n      });\r\n    }\r\n  }\r\n  onChange = (_: any) => {};\r\n  onTouched = () => {};\r\n\r\n  autoFocusNext(control: AbstractControl, nextElement?: HTMLInputElement): void {\r\n    if (!control.errors && nextElement) {\r\n      this.focusMonitor.focusVia(nextElement, 'program');\r\n    }\r\n  }\r\n\r\n  autoFocusPrev(control: AbstractControl, prevElement: HTMLInputElement): void {\r\n    if ((control.value || '').length < 1) {\r\n      this.focusMonitor.focusVia(prevElement, 'program');\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.stateChanges.complete();\r\n    this.focusMonitor.stopMonitoring(this.elementRef);\r\n  }\r\n\r\n  setDescribedByIds(ids: string[]) {\r\n    const controlElement = this.elementRef.nativeElement.querySelector('.sii-year-month-input-container')!;\r\n    controlElement.setAttribute('aria-describedby', ids.join(' '));\r\n  }\r\n\r\n  onContainerClick(ev) {\r\n\r\n    if (ev.target.tagName !== 'INPUT'){\r\n      if (!this.emptyYear && this.parts.controls.year.valid) {\r\n       this.focusMonitor.focusVia(this.monthInput, 'program');\r\n     } else {\r\n       this.focusMonitor.focusVia(this.yearInput, 'program');\r\n     }\r\n    }\r\n  }\r\n\r\n  writeValue(tel: SiiYearMonth | null): void {\r\n    this.value = tel;\r\n  }\r\n\r\n  registerOnChange(fn: any): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: any): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.disabled = isDisabled;\r\n  }\r\n\r\n  public validate(c: UntypedFormControl): ValidationErrors {\r\n    return this.isInvalid ?  {invalid: true} : null;\r\n}\r\n\r\n\r\n  _handleInput(control: AbstractControl, nextElement?: HTMLInputElement): void {\r\n    this.autoFocusNext(control, nextElement);\r\n    this.onChange(this.value);\r\n    this.valueChange.emit(this.value);\r\n  }\r\n}\r\n\r\n\r\nexport function validMonth(required: boolean): ValidatorFn {\r\n  return (control: AbstractControl): {[key: string]: any} | null => {\r\n    let valid = false;\r\n    const validMonthValue = (m) => m.length === 2 && !isNaN(Number(m)) && Number(m) >= 1 && Number(m) <= 12;\r\n    if (required){\r\n        valid = !isEmpty(control.value) && validMonthValue(control.value);\r\n      }else{\r\n        valid = isEmpty(control.value) || validMonthValue(control.value);\r\n      }\r\n    return !valid ? {invalidMonth: {value: control.value}} : null;\r\n  };\r\n}\r\n\r\nexport function validYear(required: boolean): ValidatorFn {\r\n  return (control: AbstractControl): {[key: string]: any} | null => {\r\n    let valid = false;\r\n    const validYearValue = (m) => m.length === 4 && !isNaN(Number(m)) && Number(m) >= 1 ;\r\n    if (required){\r\n        valid = !isEmpty(control.value) && validYearValue(control.value);\r\n      }else{\r\n        valid = isEmpty(control.value) || validYearValue(control.value);\r\n      }\r\n    return !valid ? {invalidYear: {value: control.value}} : null;\r\n  };\r\n}\r\n\r\nexport function isEmpty(item: any){\r\n  return item == null ||  item === undefined || item.length ===  0;\r\n}\r\n\r\nexport const hasRequiredField = (abstractControl: AbstractControl): boolean => {\r\n  if (abstractControl.validator) {\r\n      const validator = abstractControl.validator({}as AbstractControl);\r\n      if (validator && validator.required) {\r\n          return true;\r\n      }\r\n  }\r\n  // if (abstractControl.controls) {\r\n  //     for (const controlName in abstractControl.controls) {\r\n  //         if (abstractControl.controls[controlName]) {\r\n  //             if (hasRequiredField(abstractControl.controls[controlName])) {\r\n  //                 return true;\r\n  //             }\r\n  //         }\r\n  //     }\r\n  // }\r\n  return false;\r\n};\r\n","<div role=\"group\" class=\"sii-year-month-input-container\"\r\n     [formGroup]=\"parts\"\r\n     [attr.aria-labelledby]=\"formField?.getLabelId()\">\r\n  <input class=\"sii-year-month-input-element\" style=\"width:45px\"\r\n         formControlName=\"year\"\r\n         maxLength=\"4\"\r\n         size=\"4\"\r\n         placeholder=\"YYYY\"\r\n         aria-label=\"Year\"\r\n         (input)=\"_handleInput(parts.controls.year,month)\"\r\n         #year>\r\n  <span class=\"sii-year-month-input-spacer\">/</span>\r\n  <input class=\"sii-year-month-input-element\" style=\"margin-left: 5px;\"\r\n         formControlName=\"month\" size=\"2\"\r\n         maxLength=\"2\"\r\n         placeholder=\"MM\"\r\n         aria-label=\"Month\"\r\n         (input)=\"_handleInput(parts.controls.month)\"\r\n         (keyup.backspace)=\"autoFocusPrev(parts.controls.month, year)\"\r\n         #month>\r\n\r\n</div>\r\n","import { Directive, ElementRef, Input, OnDestroy, OnInit, TemplateRef, ViewContainerRef } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[siiAutoHideRow]',\r\n    standalone: true\r\n})\r\nexport class AutoHideRowDirective implements OnInit, OnDestroy{\r\n  @Input() siiAutoHideRow: string;\r\n  public get id(){\r\n    return this.siiAutoHideRow;\r\n  }\r\n  public get offsetTop(){\r\n    return !!this.targetItem ? this.targetItem.getBoundingClientRect().bottom : 0;\r\n  }\r\n\r\n  private get targetItem(){\r\n    return this.isVisible ? this.el.nativeElement.previousElementSibling.firstChild.firstChild : this.fakeElement;\r\n  }\r\n\r\n  fakeElement;\r\n  isVisible = false;\r\n  constructor(public el: ElementRef,  private templateRef: TemplateRef<any>,    private viewContainer: ViewContainerRef) {\r\n   }\r\n  ngOnDestroy(): void {\r\n    if (!!this.fakeElement){\r\n      this.fakeElement.parentNode.removeChild(this.fakeElement);\r\n      this.fakeElement = null;\r\n    }\r\n  }\r\n  ngOnInit(): void {\r\n    this.show();\r\n  }\r\n\r\n  private createFakeItem(){\r\n    const fi = document.createElement('span');\r\n    // fi.classList.add('gluglu');\r\n    // fi.classList.add('glu' + this.id);\r\n    const cs = window.getComputedStyle(this.targetItem);\r\n\r\n    // Array.from(cs).forEach(key => fi.style.setProperty(key, cs.getPropertyValue(key), cs.getPropertyPriority(key)));\r\n    fi.style.height = cs.height;\r\n    fi.style.width = cs.width;\r\n    fi.style.minHeight = cs.minHeight;\r\n    fi.style.minWidth = cs.minWidth;\r\n    fi.style.padding = cs.padding;\r\n    fi.style.margin = cs.margin;\r\n    fi.style.border = cs.border;\r\n    fi.style.flex = cs.flex;\r\n\r\n    // fi.style.backgroundColor = 'gray';\r\n    // fi.innerHTML = this.id;\r\n    return fi;\r\n\r\n  }\r\n\r\n   public hide(){\r\n     if (this.isVisible){\r\n       this.fakeElement = this.createFakeItem();\r\n       this.el.nativeElement.parentNode.insertBefore(this.fakeElement, this.el.nativeElement.previousElementSibling);\r\n       this.viewContainer.clear();\r\n       this.isVisible = false;\r\n     }\r\n    }\r\n\r\n    public show(){\r\n      if (!this.isVisible){\r\n        this.viewContainer.createEmbeddedView(this.templateRef);\r\n        this.isVisible = true;\r\n        if (!!this.fakeElement){\r\n          this.fakeElement.parentNode.removeChild(this.fakeElement);\r\n          this.fakeElement = null;\r\n        }\r\n      }\r\n   }\r\n\r\n   private refresh(){\r\n    this.fakeElement.parentNode.removeChild(this.fakeElement);\r\n    this.viewContainer.createEmbeddedView(this.templateRef);\r\n    this.isVisible = true;\r\n    setTimeout(() => {\r\n    // Promise.resolve().then(() => {\r\n    this.fakeElement = this.createFakeItem();\r\n    this.viewContainer.clear();\r\n    this.isVisible = false;\r\n    this.el.nativeElement.parentNode.insertBefore(this.fakeElement, this.el.nativeElement.previousElementSibling);\r\n      // });\r\n    }, 0);\r\n\r\n   }\r\n\r\n   check(refresh= false){\r\n     if (this.offsetTop < -1000){\r\n      if (refresh && !this.isVisible ){\r\n        this.refresh();\r\n      }else{\r\n        this.hide();\r\n      }\r\n\r\n    }else{\r\n      this.show();\r\n     }\r\n   }\r\n\r\n}\r\n","import { Directive } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[siiFacetTemplate]',\r\n    standalone: true\r\n})\r\nexport class SiiFacetTemplateDirective {\r\n\r\n  constructor() {\r\n   }\r\n\r\n}\r\n","import {  Component, Input} from '@angular/core';\r\nimport { Router, RouterLink } from '@angular/router';\r\nimport { BreadcrumbItem, SiiBreadcrumbService } from './services/breadcrumb.service';\r\nimport { MatMenuTrigger, MatMenu, MatMenuItem } from '@angular/material/menu';\r\nimport { MatButton } from '@angular/material/button';\r\nimport { NgClass, AsyncPipe } from '@angular/common';\r\n\r\n@Component({\r\n    selector: 'sii-breadcrumb',\r\n    templateUrl: './breadcrumb.component.html',\r\n    styleUrls: ['./breadcrumb.component.scss'],\r\n    standalone: true,\r\n    imports: [\r\n        RouterLink,\r\n        NgClass,\r\n        MatButton,\r\n        MatMenuTrigger,\r\n        MatMenu,\r\n        MatMenuItem,\r\n        AsyncPipe,\r\n    ],\r\n})\r\nexport class BreadcrumbComponent {\r\n  @Input() externalHome:string | URL;\r\n  @Input() home:any[];\r\n\r\n  get breadcrumbList(){\r\n    return this.breadcrumbService.breadcrumb;\r\n  }\r\n\r\n\r\n  constructor(  private breadcrumbService: SiiBreadcrumbService,  private router: Router  ) {\r\n  }\r\n\r\n  routerLinkClicked(event:Event ,index:number, breadItem:BreadcrumbItem){\r\n    if(index==0 && !!this.externalHome || !!this.home){\r\n      event.stopImmediatePropagation();\r\n      if(!!this.home){\r\n        this.router.navigate(this.home);\r\n      }else{\r\n        window.open(this.externalHome,\"_self\");\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","\r\n@if ((breadcrumbList | async); as lista) {\r\n  <nav>\r\n    @for (bread of lista; track bread; let last = $last; let index = $index) {\r\n      @if (  index==0 || index == lista.length-2 || last) {\r\n        <a  (click)=\"routerLinkClicked($event,index,bread)\" [routerLink]=\" bread.url\" [fragment]=\"bread.fragment\" [queryParams]=\"bread.queryParams\"  [ngClass]=\"{'currentBread':last}\"> {{bread.label}}</a>\r\n        @if (!last) {\r\n          <span style=\" padding: 0 10px;\">/</span>\r\n        }\r\n      }\r\n      @if (lista.length>3 &&  index==1 ) {\r\n        <button mat-button [matMenuTriggerFor]=\"menu\" class=\"ellipsedItemsButton\">...</button>\r\n        <mat-menu #menu=\"matMenu\">\r\n          @for (menubread of lista; track menubread; let lastmb = $last; let indexmb = $index) {\r\n            @if (indexmb>=1 && indexmb<lista.length-2) {\r\n              <a mat-menu-item  [routerLink]=\" menubread.url\" [fragment]=\"menubread.fragment\" [queryParams]=\"menubread.queryParams\"   >{{menubread.label}}</a>\r\n            }\r\n          }\r\n        </mat-menu>\r\n        @if (!last) {\r\n          <span style=\" padding: 0 10px;\">/</span>\r\n        }\r\n      }\r\n    }\r\n  </nav>\r\n}\r\n","import { Directive } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[siiListRow]',\r\n    standalone: true\r\n})\r\nexport class ListRowDirective {\r\n\r\n  constructor() { }\r\n\r\n}\r\n","import { Directive } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[siiEmptyListMessage]',\r\n    standalone: true\r\n})\r\nexport class EmptyListMessageDirective {\r\n\r\n  constructor() {\r\n  }\r\n\r\n}\r\n","import { CollectionViewer, DataSource } from '@angular/cdk/collections';\r\nimport { Observable, BehaviorSubject, Subscription, from, zip, of } from 'rxjs';\r\nimport { SiiListController } from '../../../../service/sii-list-controller.service';\r\nimport { ISiiPageResponseDTO } from '../../../../dto/i-sii-page-response.dto';\r\nimport { filter, groupBy, mergeMap, toArray } from 'rxjs/operators';\r\nimport { ChangeDetectorRef } from '@angular/core';\r\nimport { SorterGroupAction } from '../../../../components/list-sorter/list-sorter-option/list-sorter-option.component';\r\nexport type CisGroup= {\r\n  items: any,\r\n  label: string,\r\n  key: string,\r\n  firstItem: number,\r\n  lastItem: number,\r\n  length: number,\r\n  parentGroupKey?: any,\r\n  parentGroupValue?: any,\r\n  isFirstOfparentGroup?: boolean,\r\n  parentGroupLabelTransform?: (rid: any, value: any, obj: any) => string,\r\n  groupLabelTransform?: (rid: any, value: any, obj: any) => string,\r\n  groupAction?: SorterGroupAction[]\r\n  parentGroupAction?: SorterGroupAction[]\r\n};\r\n\r\nexport class SiiGroupedInfiniteScrollDataSource  {\r\n\r\n  get data(){ return this._dataStream; }\r\n  get dataValue(){ return this._dataStream.value; }\r\n\r\n  get fetchSize(){\r\n    return this.siiListController._fetchSize;\r\n  }\r\n\r\n  get listSize(){\r\n    return this._cachedData.length;\r\n  }\r\n\r\n  get displayedListSize(){\r\n    return this._displayedData.length;\r\n  }\r\n\r\n  get visibleGroups(){\r\n    return this.utils.groups.byVisiblePos;\r\n  }\r\n  get bySiiId(){\r\n    return this.utils.groups.bySiiId;\r\n  }\r\n\r\n  private utils = {\r\n    lastRequestedPage: undefined,\r\n    groups: {byKey: {}, byRealPos: {}, byVisiblePos: {}, byParentGroupKey: {}, bySiiId: {}},\r\n    collapsedGroup: [],\r\n    collapsedParentGroup: {},\r\n    itemsToFetchAfterCollapse: undefined,\r\n    selectAllFetchedPage: undefined\r\n  };\r\n\r\n  private lastFetchedpage = -1;\r\n  private _cachedData =  [];\r\n  private _displayedData = Array.from<object>({length: this.fetchSize});\r\n  private _dataStream = new BehaviorSubject<(object | undefined)[]>(this._cachedData);\r\n  private _subscription = new Subscription();\r\n\r\n\r\n  constructor(  public siiListController: SiiListController, private ref: ChangeDetectorRef){\r\n    this._subscription.add(\r\n      siiListController.fetchPageData.subscribe((resp) => {\r\n        this.listChangeSubscriptionFunction(resp.page, resp.rows, resp.reset);\r\n        this.fetchItemsAfterCollapse();\r\n        this.checkForSelectAll(resp.page);\r\n      })\r\n    );\r\n    this._subscription.add(\r\n      siiListController.selectAllObs.subscribe((resp) => this.selectAllSubscriptionFunction() )\r\n    );\r\n    this._subscription.add(\r\n      siiListController.refreshObs.subscribe((resp) => this.refreshSubscriptionFunction() )\r\n    );\r\n  }\r\n\r\n  fetchNextPage(){\r\n    this._fetchPage(this.lastFetchedpage + 1);\r\n  }\r\n\r\n  get haveCollapsedGroups(){\r\n    return this.utils.collapsedGroup.length > 0;\r\n  }\r\n\r\n  isGroupCollapsed(key): boolean{\r\n    return this.utils.collapsedGroup.indexOf(key) !== -1;\r\n  }\r\n\r\n  isParentGroupCollapsed(key): boolean{\r\n    return !!this.utils.collapsedParentGroup[key];\r\n  }\r\n\r\n  parentGroupSize(key): number{\r\n    return this.utils.groups.byParentGroupKey[key].reduce((a, g) => a + g.length, 0 );\r\n  }\r\n\r\n\r\n\r\n  private _fetchPage(page: number) {\r\n    // if (this._fetchedPages.has(page)) {\r\n    //   return;\r\n    // }\r\n    if (page === 0 || page < this.siiListController.lastFetchRequestInfo.maxPage){\r\n      this.lastFetchedpage = page;\r\n      // console.log(`_fetchPage ${page}`, this._fetchedPages);\r\n      this.siiListController.doFetchPage.next(page);\r\n    }else{\r\n      // console.log('NO MORE PAGES')\r\n    }\r\n  }\r\n\r\n  listChangeSubscriptionFunction = (page: number , res: ISiiPageResponseDTO<any>, reset: boolean) => {\r\n    // console.log(`listChangeSubscriptionFunction - ${page}`)\r\n    if (reset){\r\n      this._cachedData = [];\r\n      this.lastFetchedpage = page;\r\n      this.utils.collapsedGroup.length = 0;\r\n      this.utils.collapsedParentGroup = {};\r\n    }\r\n\r\n    // if(reset || res.count> this._cachedData.length){\r\n    //   this._cachedData.length= res.count\r\n    // }\r\n\r\n    // console.log(`page: ${page} -> splice(${page*this.fetchSize},${res.data.length}, data)   -> dataLength=${this._cachedData.length}`)\r\n    this.fillCachedData(page * this.fetchSize);\r\n    let idTime = new Date().getTime();\r\n    this._cachedData.splice(page * this.fetchSize, res.data.length, ...res.data.map(d => ( {...d, ...{ _siiId: idTime++ } } ) ) ) ;\r\n    // console.log( `dataLength=${this._cachedData.length}` )\r\n    this.buildGroups();\r\n    this.siiListController.lastFetchRequestInfo = {...res, data: null };\r\n  }\r\n\r\n  fillCachedData = (toIndex: number) => {\r\n    for (let i = 0; i < toIndex; i++){\r\n      if (!this._cachedData[i]){\r\n        this._cachedData[i] = undefined;\r\n      }\r\n    }\r\n  }\r\n\r\n  buildData(){\r\n    this.utils.groups.byVisiblePos = {};\r\n\r\n    // recupero la dimensione degli elementi collassati\r\n    const collapsedDim = this.utils.collapsedGroup.map(cg => this.utils.groups.byKey[cg]?.length).reduce((a, i) => {a += i; return a; }, 0);\r\n    const newData = Array.from<object>({length: this._cachedData.length - collapsedDim});\r\n\r\n    const grPosArr = Object.keys(this.utils.groups.byRealPos);\r\n    let collapsedItemCount = 0;\r\n    for ( const grPos of grPosArr){\r\n      const currGr = this.utils.groups.byRealPos[grPos];\r\n      if (this.utils.collapsedGroup.findIndex(k => k === currGr.key) !== -1){\r\n        // se il gruppo  Ã¨ collassato aggiungo solo in puntatore\r\n        this.addGroupPointer(currGr.firstItem - collapsedItemCount, currGr);\r\n        collapsedItemCount += currGr.length;\r\n      }else{\r\n        // aggiungo gli elementi in base alla loro posizione rispetto al gruppo\r\n        this.addGroupPointer((+grPos - collapsedItemCount), currGr);\r\n        for (let z = 0, j = +grPos; z < currGr.length; j++, z++ ){\r\n          newData[j - collapsedItemCount] = currGr.items[z];\r\n        }\r\n      }\r\n    }\r\n    this._displayedData = newData;\r\n    this._dataStream.next(this._displayedData);\r\n    this.ref.markForCheck();\r\n    this.ref.detectChanges();\r\n  }\r\n\r\n   addGroupPointer(pos: number, item) {\r\n     if (this.utils.groups.byVisiblePos[pos] === undefined){\r\n      this.utils.groups.byVisiblePos[pos] = [];\r\n     }\r\n     this.utils.groups.byVisiblePos[pos].push(item);\r\n   }\r\n\r\n\r\n   getGroupKey(record: any){\r\n    return record[this.siiListController._groupField.groupKey] + (!!this.siiListController._groupField.parentGroupKey ? record[this.siiListController._groupField.parentGroupKey] : '') ;  }\r\n\r\n  buildGroups(){\r\n    const groups: CisGroup[] = [];\r\n    if (!this.siiListController._groupField.groupKey){\r\n      groups.push({\r\n        label: undefined,\r\n        items: this._cachedData,\r\n        key: '##NOGROUP##',\r\n        firstItem: 0,\r\n        lastItem: this._cachedData.length - 1,\r\n        length: this._cachedData.length\r\n      });\r\n    }else{\r\n      from(this._cachedData)\r\n      .pipe(\r\n        filter(r => r !== undefined),\r\n        groupBy(record => this.getGroupKey(record),\r\n                p => p),\r\n        mergeMap(group =>  zip(of(group.key), group.pipe(toArray()))  )\r\n        )\r\n        .subscribe((res) => {\r\n          const parentGroupKey = !!this.siiListController._groupField.parentGroupKey ? res[1][0][this.siiListController._groupField.parentGroupKey] : null;\r\n          const gta = {\r\n            key: (parentGroupKey || '') + res[1][0][this.siiListController._groupField.groupKey],\r\n            label: res[1][0][this.siiListController._groupField.groupValue],\r\n            groupKey:  res[1][0][this.siiListController._groupField.groupKey],\r\n            items: res[1],\r\n            firstItem: this._cachedData.indexOf(res[1][0]),\r\n            lastItem: this._cachedData.indexOf(res[1][res[1].length - 1]),\r\n            length: res[1].length,\r\n            parentGroupKey,\r\n            parentGroupValue: !!this.siiListController._groupField.parentGroupValue ? res[1][0][this.siiListController._groupField.parentGroupValue] : null,\r\n            parentGroupLabelTransform: this.siiListController._groupField.parentGroupLabelTransform,\r\n            groupLabelTransform: this.siiListController._groupField.groupLabelTransform,\r\n            groupAction: this.siiListController._groupField.groupAction,\r\n            parentGroupAction: this.siiListController._groupField.parentGroupAction\r\n          } as CisGroup;\r\n          if (!!this.siiListController._groupField.parentGroupKey  && (groups.length === 0 || groups[groups.length - 1].parentGroupKey !== gta.parentGroupKey)){\r\n            gta.isFirstOfparentGroup = true;\r\n          }\r\n\r\n\r\n          groups.push(gta);\r\n        });\r\n    }\r\n\r\n\r\n    this.utils.groups.byKey = groups.reduce((a, i) => {a[i.key] = i; return a; }, {});\r\n    this.utils.groups.byRealPos = groups.reduce((a, i) => {a[i.firstItem] = i; return a; }, {});\r\n    this.utils.groups.bySiiId = groups.reduce((a, i) => {  i.items.forEach(el => a[(el as any)._siiId] = i ); return a; }, {});\r\n    // groups.forEach((g) => {\r\n    //   for (let i = g.firstItem; i <= g.lastItem; i++){\r\n    //     this.utils.groups.byRowIndex[i] = g;\r\n    //   }\r\n    // });\r\n    if (!!this.siiListController._groupField.parentGroupKey ){\r\n      this.utils.groups.byParentGroupKey = {};\r\n      groups.forEach((g) => {\r\n        if (!this.utils.groups.byParentGroupKey[g.parentGroupKey]){this.utils.groups.byParentGroupKey[g.parentGroupKey] = []; }\r\n        this.utils.groups.byParentGroupKey[g.parentGroupKey].push(g);\r\n        if (this.utils.collapsedParentGroup.hasOwnProperty(g.parentGroupKey) && !this.isGroupCollapsed(g.key)){\r\n          this.toggleGroup(g);\r\n        }\r\n      });\r\n\r\n      // console.log('build groups', this.utils.groups.byParentGroupKey);\r\n    }\r\n\r\n    this.buildData();\r\n  }\r\n\r\n  toggleparentGroup(parentGroupId){\r\n    if (!this.utils.collapsedParentGroup.hasOwnProperty(parentGroupId)){\r\n      // collasso il gruppo\r\n      this.utils.collapsedParentGroup[parentGroupId] = true;\r\n      this.utils.groups.byParentGroupKey[parentGroupId].forEach(g => {\r\n        if (!this.isGroupCollapsed(g.key)){\r\n          this.toggleGroup(g);\r\n        }\r\n      });\r\n    }else{\r\n\r\n      delete this.utils.collapsedParentGroup[parentGroupId];\r\n    }\r\n  }\r\n\r\n  toggleGroup(group: CisGroup){\r\n    const gk = this.utils.collapsedGroup.findIndex(k => group.key === k);\r\n    if (gk === -1){\r\n      // collasso il gruppo\r\n      this.utils.collapsedGroup.push(group.key);\r\n      this.utils.itemsToFetchAfterCollapse = {\r\n        size: group.length,\r\n        group: group.key\r\n      };\r\n      this.fetchItemsAfterCollapse();\r\n    }else{\r\n      // rimuovo collasso\r\n      this.utils.collapsedGroup.splice(gk, 1);\r\n    }\r\n    this.buildData();\r\n  }\r\n\r\n  fetchItemsAfterCollapse(){\r\n    if (this.utils.itemsToFetchAfterCollapse !== undefined){\r\n      let allLoaded = true;\r\n      const group: CisGroup = this.utils.groups.byKey[this.utils.itemsToFetchAfterCollapse.group];\r\n\r\n      // for(let i=group.lastItem+1;i<Math.min(this._cachedData.length,(group.lastItem+this.utils.itemsToFetchAfterCollapse.size+1));i++){\r\n      for (  let i = group.lastItem + 1;\r\n            i < Math.min(this.siiListController.api.itemsCount, (group.lastItem + this.utils.itemsToFetchAfterCollapse.size + 1));\r\n            i++){\r\n        if (this._cachedData[i] === undefined){\r\n          allLoaded = false;\r\n          break;\r\n        }\r\n      }\r\n      if (allLoaded){\r\n        this.utils.itemsToFetchAfterCollapse = undefined;\r\n      }else{\r\n          this.fetchNextPage();\r\n      }\r\n    }\r\n  }\r\n\r\n  refreshSubscriptionFunction(){\r\n\r\n    // const pages=[...this._fetchedPages];\r\n    // this._fetchedPages.clear();\r\n    const pages = [];\r\n    this._cachedData.length = 0;\r\n    const lfp = this.lastFetchedpage;\r\n    this.lastFetchedpage = -1;\r\n    for (let i = 0; i <= lfp; i++){\r\n      pages.push(i);\r\n      this._fetchPage(i);\r\n    }\r\n    // pages.forEach((page)=>{\r\n    //   // console.log(`refresh page ${page}`)\r\n    //   this._fetchPage(page)\r\n    // })\r\n\r\n    // dopo che ho caricato tutte le pagine, deseleziono gli elementi che non sono piÃ¹ presenti\r\n    // mi metto quindi in ascolto per intercettare le response di tutte le pagine, e alla fine faccio l'operazione\r\n    const fetchSubsc = this.siiListController.fetchPageData.subscribe((resp) => {\r\n      pages.splice(pages.indexOf(resp.page), 1);\r\n      if (pages.length === 0){\r\n        fetchSubsc.unsubscribe();\r\n        Promise.resolve().then(() => {\r\n          this.siiListController.removeMissingSelection(this._cachedData);\r\n        });\r\n      }\r\n    });\r\n\r\n\r\n  }\r\n\r\n  selectAllSubscriptionFunction(){\r\n    const loadedItem = this._cachedData.reduce((acc, i) => {\r\n      acc += i === undefined ? 0 : 1;\r\n      return acc; }, 0);\r\n      // se ho tutti gli elementi\r\n    if (loadedItem === this.siiListController.lastFetchRequestInfo.count){\r\n        this.siiListController.markAsSelected(this._cachedData);\r\n      }else{\r\n        this.siiListController.selectAllInProgress = true;\r\n        const newData = Array.from<object>({length: this.siiListController.api.itemsCount});\r\n        this._cachedData.forEach((cd, index) => newData[index] = cd);\r\n        this._cachedData = newData;\r\n        for (let i = 0; i < this.siiListController.lastFetchRequestInfo.maxPage; i++){\r\n          if (i > this.lastFetchedpage) {\r\n            this._fetchPage(i);\r\n            if (this.utils.selectAllFetchedPage === undefined){this.utils.selectAllFetchedPage = []; }\r\n            this.utils.selectAllFetchedPage.push(i);\r\n          }\r\n        }\r\n      }\r\n\r\n  }\r\n\r\n  checkForSelectAll(page){\r\n    // console.log(`checkForSelectAll -> ${page}` ,this.selectAllFetchedPage)\r\n    if (this.utils.selectAllFetchedPage !== undefined){\r\n      this.utils.selectAllFetchedPage.splice(this.utils.selectAllFetchedPage.indexOf(page), 1);\r\n      if (this.utils.selectAllFetchedPage.length === 0){\r\n        this.utils.selectAllFetchedPage = undefined;\r\n        this.siiListController.markAsSelected(this._cachedData);\r\n        this.siiListController.selectAllInProgress = false;\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { SiiFacetedPageRequestDTO } from '../dto/i-sii-faceted-page-request.dto';\r\nimport { ISiiPageResponseDTO } from '../dto/i-sii-page-response.dto';\r\nimport { Observable, Subject, BehaviorSubject, Subscription } from 'rxjs';\r\nimport { SiiFacetedPageResponseDTO } from '../components/facets/common/dto/i-sii-faceted-page-response.dto';\r\nimport { SiiFacetDto } from '../components/facets/common/dto/i-sii-facet.dto';\r\nimport { SiiSortDTO } from '../dto/i-sii-sort.dto';\r\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\r\nimport { FacetChangesDto } from '../components/facets/common/service/sii-facet.service';\r\nimport { SiiWaitService } from '../components/wait/sii-wait.service';\r\nimport { SiiSortGroup } from '../dto/i-sii-group.dto';\r\n\r\n// tslint:disable-next-line:max-line-length\r\nexport type SiiListRestServiceType = ( request: SiiFacetedPageRequestDTO) => Observable<SiiFacetedPageResponseDTO<any>>;\r\nexport type selectionStatusType = 'A' | 'P' | 'N';\r\n\r\n@Injectable()\r\nexport class SiiListController{\r\n  private _fetchService: SiiListRestServiceType;\r\n  private _autosaveId = null;\r\n  private _skipInitFacets = false;\r\n  _fetchSize = 20;\r\n  _itemId;\r\n  _currentpage = 0;\r\n  _lastEvaluatedKeyOfPage={};\r\n  _maxFetchSize = 1000;\r\n  _sortField: SiiSortDTO = {sort: null, sortAscending: true};\r\n  _groupField: SiiSortGroup = {groupKey: null, groupValue: null};\r\n  selectAllInProgress = false;\r\n  currentFetchCall = Array<Subscription>();\r\n  // currentFetchCall = new Subscription();\r\n\r\n  private _lastFetchRequestInfo: ISiiPageResponseDTO<any> ;\r\n\r\n  set lastFetchRequestInfo(lfri: ISiiPageResponseDTO<any> ){\r\n    this._lastFetchRequestInfo = lfri;\r\n    this.api.itemsCount = lfri.count;\r\n  }\r\n  get lastFetchRequestInfo(): ISiiPageResponseDTO<any> {\r\n    return this._lastFetchRequestInfo;\r\n  }\r\n\r\n\r\n  lastFacetRequest: FacetChangesDto = {facets: {}, searchText: ''};\r\n\r\n  _selectionStatus: selectionStatusType = 'N';\r\n  _selectionMap = {};\r\n\r\n  private _facetChangeSubj = new Subject<Array<SiiFacetDto>>();\r\n  public facetsData = this._facetChangeSubj.asObservable();\r\n\r\n  public doFetchPage = new Subject<number>();\r\n  private fetchPage = this.doFetchPage.asObservable();\r\n\r\n  public executeSearch = new Subject<boolean>();\r\n  private executeSearchObs = this.executeSearch.asObservable();\r\n\r\n  public facetsChange = new Subject<FacetChangesDto>();\r\n  private facetsChangeObs = this.facetsChange.asObservable();\r\n\r\n  public facetsReset = new Subject<object>();\r\n  private facetsResetObs = this.facetsReset.asObservable();\r\n\r\n\r\n  public sortChange = new Subject<void>();\r\n  private sortChangeObs = this.sortChange.asObservable();\r\n\r\n  private _fetchPageDataSubj = new Subject<{page: number, rows: ISiiPageResponseDTO<any>, reset: boolean}>();\r\n  public fetchPageData = this._fetchPageDataSubj.asObservable();\r\n\r\n\r\n  private _selectedItemChangeSubj = new Subject<object>();\r\n  private _selectedItemsChangeSubj = new Subject<object[]>();\r\n\r\n  private _selectAllSubj = new Subject<void>();\r\n  public selectAllObs = this._selectAllSubj.asObservable();\r\n\r\n  private _refreshSubj = new Subject<void>();\r\n  public refreshObs = this._refreshSubj.asObservable();\r\n\r\n  private setInitFacetsSubj = new Subject<FacetChangesDto>();\r\n  setInitFacetsObs = this.setInitFacetsSubj.asObservable();\r\n\r\n  private changeFacetsSubj = new Subject<{facets: object, reset: boolean}>();\r\n  changeFacetsObs = this.changeFacetsSubj.asObservable();\r\n\r\n  private changeSearchTextSubj = new Subject<string>();\r\n  changeSearchTextObs = this.changeSearchTextSubj.asObservable();\r\n\r\n  private semaphoreFetch = 0;\r\n  fetchInProgress = new BehaviorSubject<boolean>(false);\r\n  fetchInProgressObs = this.fetchInProgress.asObservable().pipe( distinctUntilChanged());\r\n\r\n\r\n  api = {\r\n    setAutoSave: (id: string, skipInitFacets = true) => { this.setAutosave(id, skipInitFacets); },\r\n    setFetchService: (restService: SiiListRestServiceType) => this._fetchService = restService,\r\n    setFetchSize: (fs: number) => this._fetchSize = fs,\r\n    setItemId: ( id: string) =>   this._itemId = id,\r\n    setMaxFetchSize: ( mfs: number) =>  this._maxFetchSize = mfs,\r\n    setInitFacets: (initFacets: object, searchText= '') => this.setInitfacets({facets: initFacets, searchText}),\r\n    changeFacets: (facets?: object, searchText?: string, resetOthers= true) => this.changeFacets( facets, searchText, resetOthers),\r\n    selectedItemChange : this._selectedItemChangeSubj.asObservable(),\r\n    selectedItemsChange: this._selectedItemsChangeSubj.asObservable(),\r\n    selectAll: () => this.selectAll(),\r\n    deselectAll: () => this.deselectAll(),\r\n    refresh: () => this._refreshSubj.next(),\r\n    reset: () => this.executeSearch.next(true),\r\n\r\n    getFacet: (facetRef) => (this.lastFacetRequest || {facets: {}}).facets[facetRef],\r\n    itemsCount: 0,\r\n    selectedItemsCount: 0,\r\n    getSelectedItems: (): any[] => Object.values(this._selectionMap),\r\n    getFetchRequestData: () => this.getFetchRequestData()\r\n\r\n  };\r\n\r\n\r\n\r\n\r\n  constructor(private waitService: SiiWaitService){\r\n    this.fetchPage.subscribe((pagaReq) => {\r\n      this._currentpage = pagaReq;\r\n      this.executeSearch.next(false);\r\n    });\r\n\r\n    this.facetsChangeObs.subscribe((facetsChanges: FacetChangesDto) => {\r\n      this.lastFacetRequest = facetsChanges;\r\n      this.executeSearch.next(true);\r\n    });\r\n\r\n    this.facetsResetObs.subscribe((facets: FacetChangesDto) => {\r\n      this.lastFacetRequest = facets;\r\n      this.executeSearch.next(true);\r\n    });\r\n\r\n\r\n    this.sortChangeObs.subscribe(() => {\r\n      this.executeSearch.next(true);\r\n    });\r\n\r\n    // this.searchChangeObs.subscribe((txt)=>{\r\n    //   this._textSerch=txt;\r\n    //   this.executeSearch.next(true);\r\n    // })\r\n\r\n\r\n    this.executeSearchObs\r\n    .subscribe((reset) => {\r\n      this.executeSearchFunction(reset);\r\n    });\r\n\r\n  }\r\n\r\n  private setAutosave(autosaveId: string, skipInitFacets: boolean){\r\n    this._autosaveId = autosaveId;\r\n    const asaveDate = window.localStorage.getItem('siiList-' + this._autosaveId + 'date');\r\n    if (asaveDate == null || ((new Date().getTime()) - parseInt(asaveDate, 10)  - (1 * 24 * 60 * 60 * 1000) < 0)){\r\n      // se non Ã¨ passato un giorno dall'ultimo salvataggio, riutilizzo i filtri salvati\r\n      const asave = window.localStorage.getItem('siiList-' + this._autosaveId);\r\n      if (asave != null && skipInitFacets) {\r\n        try{\r\n          const jsonAsave = JSON.parse(asave) as SiiFacetedPageRequestDTO;\r\n          this.setInitfacets({\r\n            facets: jsonAsave.selected,\r\n            searchText: (jsonAsave.textSearch || ''),\r\n            sort: jsonAsave.sort,\r\n            group: jsonAsave.group\r\n          });\r\n\r\n          this._skipInitFacets = true;\r\n        }catch (err){\r\n          console.log('Errore recupero configurazione lista salvata');\r\n        }\r\n       }\r\n    }\r\n\r\n  }\r\n\r\nprivate  setInitfacets(inif: FacetChangesDto ){\r\n  if (!this._skipInitFacets){\r\n    this.lastFacetRequest = inif;\r\n    if (!!inif.sort){\r\n      this._sortField = inif.sort;\r\n    }\r\n    if (!!inif.group){\r\n      this._groupField = inif.group;\r\n    }\r\n    Promise.resolve().then(() => {\r\n      this.setInitFacetsSubj.next(inif);\r\n    });\r\n  }else{\r\n    this._skipInitFacets = false;\r\n  }\r\n  }\r\nprivate changeFacets(facets: object|null, searchText: string|null  , resetOthers: boolean){\r\n  if (facets != null || resetOthers){\r\n    this.changeFacetsSubj.next({facets: (facets || {} ),  reset: resetOthers});\r\n  }\r\n\r\n  if (searchText != null || resetOthers){\r\n    this.changeSearchTextSubj.next(searchText || '');\r\n  }\r\n}\r\n// private changeSearchText(data: string){\r\n//   this.changeSearchTextSubj.next(data);\r\n// }\r\n\r\nprivate getFetchRequestData = (): SiiFacetedPageRequestDTO => {\r\n  return {\r\n    fetchSize:  this._fetchSize,\r\n    page: this._currentpage,\r\n    startKey:this._currentpage!=0? this._lastEvaluatedKeyOfPage[this._currentpage-1] : null,\r\n    selected: this.lastFacetRequest.facets ,\r\n    sort: this._sortField,\r\n    group: this._groupField,\r\n    textSearch: (this.lastFacetRequest.searchText.length === 0 ? null : this.lastFacetRequest.searchText)\r\n      } as SiiFacetedPageRequestDTO;\r\n}\r\n\r\n  private executeSearchFunction(reset= false){\r\n    if (reset){\r\n      this._currentpage = 0;\r\n      this.deselectAll();\r\n      this.currentFetchCall.forEach(i=>i.unsubscribe());\r\n      this.currentFetchCall.length==0;\r\n      this.semaphoreFetch=0;\r\n      this.hideFetchSpinner()\r\n    }\r\n    const page = this._currentpage;\r\n    const ps = this._fetchSize;\r\n\r\n    const fr = this.getFetchRequestData();\r\n\r\n\r\n    this.waitService.skipNext();\r\n    this.showFetchSpinner();\r\n    this.currentFetchCall.push(\r\n      this._fetchService(fr)\r\n      .subscribe( ( resp: SiiFacetedPageResponseDTO<any>) => {\r\n        resp.rows.currPage=page;\r\n        resp.rows.pageSize=ps;\r\n\r\n        if(resp.rows.count==null){\r\n          resp.rows.count=ps*page + (resp.rows.data || []).length;\r\n        }\r\n\r\n        if(!!resp.rows?.lastEvaluatedKey){\r\n          this._lastEvaluatedKeyOfPage[page]= resp.rows?.lastEvaluatedKey;\r\n          resp.rows.count+=resp.rows?.lastEvaluatedKey==null? 0: 1;\r\n        }\r\n        resp.rows.maxPage=  Math.ceil(resp.rows.count / ps);\r\n\r\n        if (resp.facets != null){\r\n          this._facetChangeSubj.next(resp.facets);\r\n        }\r\n        this._fetchPageDataSubj.next({page, rows: resp.rows, reset });\r\n\r\n        this.hideFetchSpinner();\r\n\r\n        if (!!this._autosaveId){\r\n          window.localStorage.setItem('siiList-' + this._autosaveId, JSON.stringify(fr));\r\n          window.localStorage.setItem('siiList-' + this._autosaveId + 'date', new Date().getTime().toString());\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n  hideFetchSpinner() {\r\n    this.semaphoreFetch--;\r\n    if (this.semaphoreFetch < 0 ) {\r\n      this.semaphoreFetch = 0;\r\n    }\r\n    if (this.semaphoreFetch === 0) {\r\n      Promise.resolve().then(() =>\r\n       this.fetchInProgress.next(false)\r\n      );\r\n    }\r\n  }\r\n\r\n  showFetchSpinner() {\r\n    if (this.semaphoreFetch === 0) {\r\n      Promise.resolve().then(() =>\r\n        this.fetchInProgress.next(true)\r\n      );\r\n    }\r\n    this.semaphoreFetch++;\r\n  }\r\n\r\n\r\n // ----------start------------selections\r\n\r\n  multiselectItemClick(selecteditem){\r\n    if (this._selectionMap[selecteditem[this._itemId]] === undefined){\r\n      // add item\r\n      this._selectionMap[selecteditem[this._itemId]] = selecteditem;\r\n    }else{\r\n      // remove item\r\n      delete this._selectionMap[selecteditem[this._itemId]];\r\n    }\r\n\r\n    this._selectedItemsChangeSubj.next(Object.values(this._selectionMap));\r\n    this.updateSelectionStatus();\r\n  }\r\n\r\n  markAsSelected(items: any[]){\r\n    items.forEach((item) => {\r\n      this._selectionMap[item[this._itemId]] = item;\r\n    });\r\n    this._selectedItemsChangeSubj.next(Object.values(this._selectionMap));\r\n    this.updateSelectionStatus();\r\n  }\r\n\r\n  removeMissingSelection(items: any[]){\r\n    let someChange = false;\r\n    Object.keys(this._selectionMap).forEach(selItemId => {\r\n      if (items.filter(e => e !== undefined).findIndex(item => '' + item[this._itemId] === '' + selItemId) === -1){\r\n        delete this._selectionMap[selItemId];\r\n        console.log(`rimuovo elemento ${selItemId} dopo il reload`);\r\n        someChange = true;\r\n      }\r\n    });\r\n\r\n    if (someChange){\r\n      this._selectedItemsChangeSubj.next(Object.values(this._selectionMap));\r\n      this.updateSelectionStatus();\r\n    }\r\n  }\r\n\r\n  singleselectItemClick(selecteditem){\r\n    if (this._selectionMap[selecteditem[this._itemId]] === undefined){\r\n      // add item\r\n      this._selectionMap = {};\r\n      this._selectionMap[selecteditem[this._itemId]] = selecteditem;\r\n      this._selectedItemChangeSubj.next(this._selectionMap[selecteditem[this._itemId]]);\r\n    }else{\r\n      // remove item\r\n      this._selectionMap = {};\r\n      this._selectedItemChangeSubj.next(null);\r\n    }\r\n\r\n    this._selectedItemsChangeSubj.next(Object.values(this._selectionMap));\r\n    this.updateSelectionStatus();\r\n  }\r\n\r\n\r\n\r\n\r\n  private updateSelectionStatus(){\r\n    this.api.selectedItemsCount = Object.values(this._selectionMap).length;\r\n    switch (this.api.selectedItemsCount){\r\n      case 0:\r\n        this._selectionStatus = 'N';\r\n        break;\r\n      case this.lastFetchRequestInfo.count:\r\n         this._selectionStatus = 'A';\r\n         break;\r\n      default:\r\n         this._selectionStatus = 'P';\r\n         break;\r\n    }\r\n  }\r\n  isSelected = (item): boolean => {\r\n    return this._selectionMap[item[this._itemId]] !== undefined;\r\n  }\r\n\r\n  get selectionStatus(): selectionStatusType{\r\n    return this._selectionStatus;\r\n  }\r\n\r\n  selectAll(){\r\n    // se ci sono troppi elementi non posso fare la selezione\r\n    // todo\r\n    if (this.lastFetchRequestInfo.count > this._maxFetchSize){\r\n      alert('troppi elementi');\r\n      return;\r\n    }\r\n    this._selectAllSubj.next();\r\n  }\r\n\r\n  deselectAll(){\r\n    this._selectionMap = {};\r\n    this._selectedItemsChangeSubj.next([]);\r\n    this._selectedItemChangeSubj.next(null);\r\n    this.updateSelectionStatus();\r\n  }\r\n// -----------end-----------selections\r\n\r\n}\r\n\r\n","import { Component, Input, ViewChild, TemplateRef, ElementRef, OnDestroy, Output, EventEmitter, AfterViewInit, ContentChild, ContentChildren, QueryList, ViewChildren, ChangeDetectorRef } from '@angular/core';\r\nimport {  Subject, Subscription } from 'rxjs';\r\nimport { SiiListController } from '../../../service/sii-list-controller.service';\r\nimport { ScrollerComponent } from '../../page-container/utils/dto/scroller-component.dto';\r\nimport { ListRowDirective } from '../utils/list-row/list-row.directive';\r\nimport { EmptyListMessageDirective } from '../utils/empty-list-message/empty-list-message.directive';\r\nimport { SiiGroupedInfiniteScrollDataSource } from './utils/sii-grouped-infinite-scroll-data-source';\r\nimport {style,  animate, transition, trigger} from '@angular/animations';\r\nimport { AutoHideRowDirective } from '../utils/auto-hide-row/auto-hide-row.directive';\r\nimport { debounceTime } from 'rxjs/operators';\r\nimport { BannerFeedbackComponent } from '../../feedback/banner-feedback/banner-feedback.component';\r\nimport { FakeListItemDirective } from '../utils/fake-list-item.directive';\r\nimport { GroupListToolbarComponent } from '../utils/group-list-toolbar/group-list-toolbar.component';\r\nimport { NgTemplateOutlet, NgClass, AsyncPipe } from '@angular/common';\r\nimport { MatProgressBar } from '@angular/material/progress-bar';\r\n\r\n@Component({\r\n    selector: 'sii-grouped-infinite-scroll',\r\n    templateUrl: './grouped-infinite-scroll.component.html',\r\n    styleUrls: ['./grouped-infinite-scroll.component.css'],\r\n    standalone: true,\r\n    imports: [\r\n        MatProgressBar,\r\n        NgTemplateOutlet,\r\n        GroupListToolbarComponent,\r\n        NgClass,\r\n        AutoHideRowDirective,\r\n        FakeListItemDirective,\r\n        BannerFeedbackComponent,\r\n        AsyncPipe,\r\n    ],\r\n})\r\nexport class GroupedInfiniteScrollComponent implements AfterViewInit, OnDestroy, ScrollerComponent{\r\n  @ContentChild(ListRowDirective, {read: TemplateRef}) templateRef;\r\n  // @ViewChildren('itemRef') listRows2: QueryList<any>;\r\n  @ViewChildren(AutoHideRowDirective) listRows: QueryList<AutoHideRowDirective>;\r\n  @ContentChild(EmptyListMessageDirective, {read: TemplateRef}) noDataFoundTpl;\r\n  @Input() multiselect = false;\r\n  @Input() selectable = true;\r\n  @Input() selectOnlyWithHandler = false; //la selezione singola o multipla avviene sollo dal sii-list-multiselect-handler\r\n  @Input() groupListToolbarClass: any;\r\n  @Output() itemClick = new EventEmitter<any>();\r\n\r\n  private subscription = new Subscription();\r\n  widthWatchInterval;\r\n  utils = {\r\n    lastContentWidth: 0,\r\n    hideNotVisibleRowObserver: new Subject<void>(),\r\n    resizeObserver: new Subject<void>()\r\n  };\r\n\r\n  ds = new SiiGroupedInfiniteScrollDataSource(this.siiListController, this.changeDetector);\r\n\r\n  @ViewChild('vs_ref') listContainer: ElementRef;\r\n  containerObserver;\r\n  // // lastScrollHeight=0;\r\n\r\n  // public get scrollerEl():HTMLElement{\r\n  //   return this.scrolleRef.nativeElement;\r\n  // }\r\n  public scrollerEl = document;\r\n\r\n\r\n  constructor(public  el: ElementRef, public siiListController: SiiListController, private changeDetector: ChangeDetectorRef){\r\n\r\n    this.subscription.add(this.utils.hideNotVisibleRowObserver.pipe(debounceTime(100)).subscribe(() => this.hideNotVisibleRow()));\r\n    this.subscription.add(this.utils.resizeObserver.pipe(debounceTime(100)).subscribe(() => {\r\n      this.hideNotVisibleRow(true);\r\n      this.checkForAvailableSpaceAfterResize();\r\n    }));\r\n\r\n    this.containerObserver = new ResizeObserver(entries => {\r\n          if (entries[0].contentRect.width !== this.utils.lastContentWidth){\r\n            this.utils.lastContentWidth = entries[0].contentRect.width;\r\n            this.utils.resizeObserver.next();\r\n          }\r\n    });\r\n\r\n\r\n    this.subscription.add(siiListController.fetchPageData.subscribe((resp) => {\r\n        if (resp.reset){\r\n          this.scrollerEl.scrollingElement.scrollTo({top: 0});\r\n          // this.lastScrollHeight=0;\r\n        }\r\n        setTimeout(() => {\r\n          // console.log(`infinitescroll fetchPageData\r\n          // this.scrollerEl.offsetHeight===this.scrollerEl.scrollHeight=${this.scrollerEl.offsetHeight===this.scrollerEl.scrollHeight}\r\n          // || this.lastScrollHeight(${this.lastScrollHeight})===this.scrollerEl.scrollHeight ${this.scrollerEl.scrollHeight} = ${this.lastScrollHeight===this.scrollerEl.scrollHeight}\r\n          // &&resp.rows.maxPage>resp.rows.currPage= ${resp.rows.maxPage>resp.rows.currPage}`)\r\n            if (\r\n                (\r\n                  window.scrollY >= document.body.offsetHeight // scroll not visible\r\n                  || this.isScrolledAtEndOfPage()\r\n                  // || this.lastScrollHeight===this.scrollerEl.scrollHeight     // l'ultima posizione non Ã¨ variata\r\n              ) && resp.rows.maxPage > resp.rows.currPage){\r\n                // console.log('fetchBy setTimeout');\r\n              this.ds.fetchNextPage();\r\n              // this.lastScrollHeight=this.scrollerEl.scrollHeight;\r\n            }\r\n          }, 1000);\r\n      }\r\n      )\r\n     );\r\n\r\n  }\r\n\r\n\r\n  ngAfterViewInit(): void {\r\n\r\n    this.containerObserver.observe(this.listContainer.nativeElement);\r\n\r\n    // lancio la ricerca\r\n    Promise.resolve().then(() =>    this.ds.fetchNextPage());\r\n\r\n    this.scrollerEl.addEventListener('scroll', this.scrollerFunctionRef, {capture: true, passive: true});\r\n  }\r\n\r\n  scrollerFunctionRef = (event: Event) => {\r\n\r\n      this.utils.hideNotVisibleRowObserver.next();\r\n      if (event.target === event.currentTarget &&  !this.siiListController.fetchInProgress.value &&  this.isScrolledAtEndOfPage()){\r\n      //  console.log(` distance from bottom ${document.body.offsetHeight - Math.ceil(window.innerHeight + window.scrollY)}\r\n      //  -> condition to fetch -> ${Math.ceil(window.innerHeight + window.scrollY) >= document.body.offsetHeight}`);\r\n      //  condition to fetch -> ${Math.ceil(window.innerHeight + window.scrollY) >= document.body.offsetHeight}`);\r\n          this.ds.fetchNextPage();\r\n      }\r\n  }\r\n\r\n  isScrolledAtEndOfPage(){\r\n    // aggiungo 2 px di margine\r\n    return Math.round(window.innerHeight + window.scrollY + 2) >= document.body.offsetHeight;\r\n  }\r\n\r\n  hideNotVisibleRow(refresh= false){\r\n    this.listRows.forEach((i: AutoHideRowDirective) => { i.check(refresh); });\r\n    if (refresh){\r\n      this.utils.hideNotVisibleRowObserver.next();\r\n    }\r\n  }\r\n\r\n\r\n  ngOnDestroy(): void {\r\n    this.containerObserver.unobserve(this.listContainer.nativeElement);\r\n    this.subscription.unsubscribe();\r\n    if (this.widthWatchInterval){\r\n     clearInterval(this.widthWatchInterval);\r\n   }\r\n    this.scrollerEl.removeEventListener('scroll', this.scrollerFunctionRef, true);\r\n  }\r\n\r\n\r\n  itemClicked(item, ev: MouseEvent){\r\n    this.itemClick.next(item);\r\n    if (this.selectable){\r\n      if (this.multiselect && this.clickedOnMultiselectHandler(ev)){\r\n        this.siiListController.multiselectItemClick(item);\r\n      }else{\r\n        if(!this.selectOnlyWithHandler){\r\n          this.siiListController.singleselectItemClick(item);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  clickedOnMultiselectHandler = (ev) => {\r\n    return ev.target.closest('[sii-list-multiselect-handler]') !== null;\r\n  }\r\n\r\n  checkForAvailableSpaceAfterResize(){\r\n      if ( (\r\n        window.scrollY >= document.body.offsetHeight // scroll not visible\r\n        || this.isScrolledAtEndOfPage()            // i'm at the end of the page\r\n        )\r\n        && !this.siiListController.fetchInProgress.value\r\n        //  && this.scrollerEl.scrollHeight!==this.lastScrollHeight\r\n        && this.siiListController.lastFetchRequestInfo !== undefined\r\n        && this.siiListController.lastFetchRequestInfo.maxPage > this.siiListController.lastFetchRequestInfo.currPage){\r\n          // console.log(`infiniteScroll. fetch page`)\r\n          // console.log('fetchBy resize');\r\n          this.ds.fetchNextPage();\r\n          // this.lastScrollHeight=this.scrollerEl.scrollHeight;\r\n        }\r\n      }\r\n    }\r\n\r\n","<!-- <mat-progress-bar mode=\"query\" ></mat-progress-bar> -->\r\n@if (siiListController.fetchInProgressObs | async) {\r\n  <mat-progress-bar mode=\"query\"></mat-progress-bar>\r\n}\r\n\r\n<div class=\"infiniteScrollListContainer\" #vs_ref  >\r\n  <ng-content select=\"[listHeader]\"></ng-content>\r\n\r\n  @if (ds.listSize==0 && !(siiListController.fetchInProgressObs | async)) {\r\n    <div class=\"emptyListContainer\">\r\n      <ng-container  *ngTemplateOutlet=\"noDataFoundTpl || defaultEmptyData\" ></ng-container>\r\n    </div>\r\n  }\r\n\r\n  <!-- <div  [@fadeInOut]  style=\"width: 200px;height: 200px; background-color: red;\" *ngIf=\"vv\"></div> -->\r\n\r\n  @if (ds.displayedListSize==0 &&   ds.visibleGroups[0]!=undefined ) {\r\n    @for (gr of ds.visibleGroups[0]; track gr.key) {\r\n      <sii-group-list-toolbar [ngClass]=\"groupListToolbarClass\" [group]=\"gr\" [ds]=\"ds\"></sii-group-list-toolbar>\r\n    }\r\n  }\r\n\r\n\r\n  @for (item of ds.data | async  ; track item['_siiId']; let index = $index; let last = $last) {\r\n    @if (ds.visibleGroups[index] && (index!=0 || ds.visibleGroups[0][0].key!='##NOGROUP##' )) {\r\n      @for (gr of ds.visibleGroups[index]; track gr.key) {\r\n        <sii-group-list-toolbar [ngClass]=\"groupListToolbarClass\"  [group]=\"gr\" [ds]=\"ds\"></sii-group-list-toolbar>\r\n      }\r\n    }\r\n    <!-- siiFakeListItem [@fadeIn]-->\r\n    @if (item) {\r\n      <span *siiAutoHideRow=\"'AAR'+index\"  class=\"siiAutoHide\">\r\n        <div #itemRef  class=\"infiniteScrollItem\" [class.sii-infinite-scroll-selected]=\"item && siiListController.isSelected(item)\" (click)=\"itemClicked(item,$event)\">\r\n          <ng-container   *ngTemplateOutlet=\"templateRef; context:{$implicit:item, index:index, items:ds.dataValue,\r\n              prev: (index==0?null : ds.dataValue[index-1]),\r\n              next:(last?null:ds.dataValue[index+1]),\r\n              group: ds.bySiiId[item['_siiId']]   } \" ></ng-container>\r\n        </div>\r\n        @if (last || ds.visibleGroups[index+1]) {\r\n          <span  *siiFakeListItem=\"itemRef;\"></span>\r\n        }\r\n      </span>\r\n    }\r\n  }\r\n\r\n  @if (ds.displayedListSize>0 &&   ds.visibleGroups[ds.displayedListSize]!=undefined ) {\r\n    @for (gr of ds.visibleGroups[ds.displayedListSize]; track gr.key) {\r\n      <sii-group-list-toolbar [ngClass]=\"groupListToolbarClass\" [group]=\"gr\" [ds]=\"ds\"></sii-group-list-toolbar>\r\n    }\r\n  }\r\n\r\n  <ng-content select=\"[listFooter]\"></ng-content>\r\n</div>\r\n\r\n\r\n<ng-template #defaultEmptyData>\r\n  <sii-banner-feedback type='info' style=\"flex:1\" >\r\n    <div feedback-toolbar>No Data Found</div>\r\n  </sii-banner-feedback>\r\n</ng-template>\r\n","import { CollectionViewer, DataSource } from '@angular/cdk/collections';\r\nimport { Observable, BehaviorSubject, Subscription, Subject } from 'rxjs';\r\nimport { SiiListController } from '../../../../service/sii-list-controller.service';\r\nimport { ISiiPageResponseDTO } from '../../../../dto/i-sii-page-response.dto';\r\nimport { debounceTime } from 'rxjs/operators';\r\n\r\n\r\nexport class SiiInfiniteScrollDataSource  {\r\n\r\n  // private _fetchedPages = new Set<number>();\r\n  private lastFetchedpage = -1;\r\n  private _cachedData = [];\r\n  private _dataStream = new BehaviorSubject<(object | undefined)[]>(this._cachedData);\r\n  private _subscription = new Subscription();\r\n  private performSearch = new Subject<void>();\r\n  selectAllFetchedPage: Array<number> = undefined;\r\n\r\n  get data(){ return this._dataStream; }\r\n  get dataValue(){ return this._dataStream.value; }\r\n  \r\n\r\n  get fetchSize(){\r\n    return this.siiListController._fetchSize;\r\n  }\r\n\r\n  get listSize(){\r\n    return this._cachedData.length;\r\n  }\r\n\r\n  private utils = {\r\n    lastRequestedPage: undefined,\r\n  };\r\n  // public fetchRequestService:(page: number, fetchSize: number) => Observable<ISiiPageResponseDTO<any>>,\r\n  constructor(  public siiListController: SiiListController){\r\n    this._subscription.add(\r\n      siiListController.fetchPageData.subscribe((resp) => {\r\n        this.listChangeSubscriptionFunction(resp.page, resp.rows, resp.reset);\r\n        this.checkForSelectAll(resp.page);\r\n      })\r\n    );\r\n\r\n    this._subscription.add(\r\n      siiListController.selectAllObs.subscribe((resp) => this.selectAllSubscriptionFunction() )\r\n    );\r\n\r\n    this._subscription.add(\r\n      siiListController.refreshObs.subscribe((resp) => this.refreshSubscriptionFunction() )\r\n    );\r\n    this._subscription.add(\r\n     this.performSearch.pipe(debounceTime(500)).subscribe((resp) => this._fetchPage(this.lastFetchedpage + 1) )\r\n    );\r\n\r\n  }\r\n  fetchNextPage(){\r\n    this.performSearch.next();\r\n\r\n  }\r\n\r\n  listChangeSubscriptionFunction = (page: number , res: ISiiPageResponseDTO<any>, reset: boolean) => {\r\n    // console.log(`listChangeSubscriptionFunction - ${page}`)\r\n    if (reset){\r\n      this._cachedData = [];\r\n      this.lastFetchedpage = page;\r\n      // this._fetchedPages.clear();\r\n      // this._fetchedPages.add(page);\r\n    }\r\n\r\n    // if(reset || res.count> this._cachedData.length){\r\n    //   this._cachedData.length= res.count\r\n    // }\r\n\r\n    this._cachedData.splice(page * this.fetchSize, this.fetchSize, ...res.data);\r\n    this._dataStream.next(this._cachedData);\r\n    this.siiListController.lastFetchRequestInfo = {...res, data: null };\r\n  }\r\n\r\n\r\n\r\n  // connect(collectionViewer: CollectionViewer): Observable<(object | undefined)[]> {\r\n  //   this._subscription.add(collectionViewer.viewChange.subscribe(range => {\r\n  //     const startPage = this._getPageForIndex(range.start);\r\n  //     const endPage = this._getPageForIndex(range.end - 1);\r\n  //     this.utils.lastRequestedPage= `${startPage}-${endPage}`;\r\n\r\n  //     // console.log(`viewChange RANGE: ${range.start} - ${range.end - 1} PAGE: ${startPage} - ${endPage}  `)\r\n\r\n\r\n  //     setTimeout(()=>{\r\n  //       if(this.utils.lastRequestedPage===`${startPage}-${endPage}`){\r\n  //       const startFetchPage= startPage===0 ? 0:startPage-1\r\n  //       const endFetchPage= this.siiListController.lastFetchRequestInfo?.maxPage===undefined ?\r\n  //        endPage :  Math.min(endPage+1, this.siiListController.lastFetchRequestInfo.maxPage-1);\r\n\r\n\r\n  //         for ( let i =startFetchPage; i <= endFetchPage;  i++) {\r\n  //           this._fetchPage(i);\r\n  //         }\r\n  //       }\r\n  //     },500);\r\n  //   }));\r\n  //   return this._dataStream;\r\n  // }\r\n\r\n\r\n  // disconnect(): void {\r\n  //   this._subscription.unsubscribe();\r\n  // }\r\n\r\n  // private _getPageForIndex(index: number): number {\r\n  //   return Math.floor(index / this.fetchSize);\r\n  // }\r\n\r\n  private _fetchPage(page: number) {\r\n    // if (this._fetchedPages.has(page)) {\r\n    //   return;\r\n    // }\r\n    if (page === 0 || page < this.siiListController.lastFetchRequestInfo.maxPage){\r\n      this.lastFetchedpage = page;\r\n      // console.log(`_fetchPage ${page}`, this._fetchedPages);\r\n      this.siiListController.doFetchPage.next(page);\r\n    }else{\r\n      console.log('NO MORE PAGES');\r\n    }\r\n  }\r\n\r\n  refreshSubscriptionFunction(){\r\n\r\n    // const pages=[...this._fetchedPages];\r\n    // this._fetchedPages.clear();\r\n    const pages = [];\r\n    this._cachedData.length = 0;\r\n    const lfp = this.lastFetchedpage;\r\n    this.lastFetchedpage = -1;\r\n    for (let i = 0; i <= lfp; i++){\r\n      pages.push(i);\r\n      this._fetchPage(i);\r\n    }\r\n    // pages.forEach((page)=>{\r\n    //   // console.log(`refresh page ${page}`)\r\n    //   this._fetchPage(page)\r\n    // })\r\n\r\n    // dopo che ho caricato tutte le pagine, deseleziono gli elementi che non sono piÃ¹ presenti\r\n    // mi metto quindi in ascolto per intercettare le response di tutte le pagine, e alla fine faccio l'operazione\r\n    const fetchSubsc = this.siiListController.fetchPageData.subscribe((resp) => {\r\n      pages.splice(pages.indexOf(resp.page), 1);\r\n      if (pages.length === 0){\r\n        fetchSubsc.unsubscribe();\r\n        Promise.resolve().then(() => {\r\n          this.siiListController.removeMissingSelection(this._cachedData);\r\n        });\r\n      }\r\n    });\r\n\r\n\r\n  }\r\n\r\n  selectAllSubscriptionFunction(){\r\n    const loadedItem = this._cachedData.reduce((acc, i) => {\r\n      acc += i === undefined ? 0 : 1;\r\n      return acc; }, 0);\r\n      // se ho tutti gli elementi\r\n    if (loadedItem === this.siiListController.lastFetchRequestInfo.count){\r\n        this.siiListController.markAsSelected(this._cachedData);\r\n      }else{\r\n        this.siiListController.selectAllInProgress = true;\r\n        const newData = Array.from<object>({length: this.siiListController.api.itemsCount});\r\n        this._cachedData.forEach((cd, index) => newData[index] = cd);\r\n        this._cachedData = newData;\r\n        for (let i = 0; i < this.siiListController.lastFetchRequestInfo.maxPage; i++){\r\n          if (i > this.lastFetchedpage) {\r\n            this._fetchPage(i);\r\n            if (this.selectAllFetchedPage === undefined){this.selectAllFetchedPage = []; }\r\n            this.selectAllFetchedPage.push(i);\r\n          }\r\n        }\r\n      }\r\n\r\n  }\r\n\r\n  checkForSelectAll(page){\r\n    // console.log(`checkForSelectAll -> ${page}` ,this.selectAllFetchedPage)\r\n    if (this.selectAllFetchedPage !== undefined){\r\n      this.selectAllFetchedPage.splice(this.selectAllFetchedPage.indexOf(page), 1);\r\n      if (this.selectAllFetchedPage.length === 0){\r\n        this.selectAllFetchedPage = undefined;\r\n        this.siiListController.markAsSelected(this._cachedData);\r\n        this.siiListController.selectAllInProgress = false;\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n","import { Component, Input, ViewChild, TemplateRef, ElementRef, OnDestroy, Output, EventEmitter, AfterViewInit, ContentChild } from '@angular/core';\r\nimport {  Subscription } from 'rxjs';\r\nimport { SiiListController } from '../../../service/sii-list-controller.service';\r\nimport { SiiInfiniteScrollDataSource } from './utils/sii-infinite-scroll-data-source';\r\nimport { ScrollerComponent } from '../../page-container/utils/dto/scroller-component.dto';\r\nimport { ListRowDirective } from '../utils/list-row/list-row.directive';\r\nimport { EmptyListMessageDirective } from '../utils/empty-list-message/empty-list-message.directive';\r\nimport { BannerFeedbackComponent } from '../../feedback/banner-feedback/banner-feedback.component';\r\nimport { NgTemplateOutlet, AsyncPipe } from '@angular/common';\r\nimport { MatProgressBar } from '@angular/material/progress-bar';\r\n\r\n@Component({\r\n    selector: 'sii-infinite-scroll',\r\n    templateUrl: './infinite-scroll.component.html',\r\n    styleUrls: ['./infinite-scroll.component.css'],\r\n    standalone: true,\r\n    imports: [MatProgressBar, NgTemplateOutlet, BannerFeedbackComponent, AsyncPipe]\r\n})\r\nexport class InfiniteScrollComponent implements AfterViewInit, OnDestroy, ScrollerComponent{\r\n\r\n  @ContentChild(ListRowDirective, {read: TemplateRef}) templateRef;\r\n  @ContentChild(EmptyListMessageDirective, {read: TemplateRef}) noDataFoundTpl;\r\n  @Input() multiselect = false;\r\n  @Input() selectable = true;\r\n  @Output() itemClick = new EventEmitter<any>();\r\n\r\n  initialized = false;\r\n  private subscription = new Subscription();\r\n\r\n  ds = new SiiInfiniteScrollDataSource(this.siiListController);\r\n\r\n  // @ViewChild('vs_ref') scrolleRef: ElementRef;\r\n\r\n  // public get scrollerEl(): HTMLElement{\r\n  //   return this.scrolleRef.nativeElement;\r\n  // }\r\n  public scrollerEl = document;\r\n\r\n\r\n  constructor(public  el: ElementRef, public siiListController: SiiListController){\r\n\r\n\r\n     this.subscription.add(siiListController.fetchPageData.subscribe((resp) => {\r\n       this.initialized = true;\r\n       if (resp.reset){\r\n          this.scrollerEl.scrollingElement.scrollTo({top: 0});\r\n        }\r\n       setTimeout(() => {\r\n            if (\r\n              (\r\n                window.scrollY >= document.body.offsetHeight // scroll not visible\r\n                || this.isScrolledAtEndOfPage()\r\n                // || this.lastScrollHeight===this.scrollerEl.scrollHeight     // l'ultima posizione non Ã¨ variata\r\n            )\r\n              && resp.rows.maxPage > resp.rows.currPage){\r\n              this.ds.fetchNextPage();\r\n            }\r\n          }, 0);\r\n      }\r\n      )\r\n     );\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n  isScrolledAtEndOfPage(){\r\n    return Math.round(window.innerHeight + window.scrollY) >= document.body.offsetHeight;\r\n  }\r\n\r\n\r\n  ngAfterViewInit(): void {\r\n     // lancio la ricerca\r\n     Promise.resolve().then(() =>   {\r\n       this.ds.fetchNextPage();\r\n      });\r\n     this.scrollerEl.addEventListener('scroll', this.scrollerFunctionRef, {capture: true, passive: true});\r\n  }\r\n\r\n\r\n  ngOnDestroy(): void {\r\n   this.subscription.unsubscribe();\r\n   this.scrollerEl.removeEventListener('scroll', this.scrollerFunctionRef, true);\r\n  }\r\n\r\n  scrollerFunctionRef =  (event: Event) => {\r\n      if (event.target === event.currentTarget && this.isScrolledAtEndOfPage()){\r\n       this.ds.fetchNextPage();\r\n    }\r\n  }\r\n\r\n  itemClicked(item, ev: MouseEvent){\r\n    this.itemClick.next(item);\r\n    if (this.selectable){\r\n      if (this.multiselect && this.clickedOnMultiselectHandler(ev)){\r\n        this.siiListController.multiselectItemClick(item);\r\n      }else{\r\n        this.siiListController.singleselectItemClick(item);\r\n      }\r\n    }\r\n  }\r\n\r\n  clickedOnMultiselectHandler = (ev) => {\r\n    return ev.target.closest('[sii-list-multiselect-handler]') !== null;\r\n  }\r\n\r\n}\r\n\r\n","@if (siiListController.fetchInProgressObs | async) {\r\n  <mat-progress-bar mode=\"query\"></mat-progress-bar>\r\n}\r\n<div class=\"infiniteScrollListContainer\" #vs_ref  >\r\n  <ng-content select=\"[listHeader]\"></ng-content>\r\n\r\n  @if (initialized && ds.listSize==0 && !(siiListController.fetchInProgressObs | async)) {\r\n    <div class=\"emptyListContainer\">\r\n      <ng-container  *ngTemplateOutlet=\"noDataFoundTpl || defaultEmptyData\" ></ng-container>\r\n    </div>\r\n  }\r\n\r\n  @for (item of ds.data | async  ; track item; let index = $index; let last = $last) {\r\n    <div\r\n      class=\"infiniteScrollItem\" [class.sii-infinite-scroll-selected]=\"item && siiListController.isSelected(item)\" (click)=\"itemClicked(item,$event)\">\r\n      <ng-container *ngTemplateOutlet=\"templateRef; context:{$implicit:item, index:index, items:ds.dataValue,  prev: (index==0?null : ds.dataValue[index-1]), next:(last?null:ds.dataValue[index+1])}\" ></ng-container>\r\n    </div>\r\n  }\r\n  <ng-content select=\"[listFooter]\"></ng-content>\r\n</div>\r\n\r\n\r\n<ng-template #defaultEmptyData>\r\n  <sii-banner-feedback type='info' style=\"flex:1\" >\r\n    <div feedback-toolbar>No Data Found</div>\r\n  </sii-banner-feedback>\r\n</ng-template>\r\n","import { Component, OnInit, Input, HostListener } from '@angular/core';\r\nimport {\r\n  trigger,\r\n  state,\r\n  style,\r\n  animate,\r\n  transition\r\n} from '@angular/animations';\r\n\r\n@Component({\r\n    selector: 'sii-list-icon',\r\n    templateUrl: './list-icon.component.html',\r\n    styleUrls: ['./list-icon.component.css'],\r\n    standalone: true\r\n})\r\nexport class ListIconComponent implements OnInit {\r\n  // @Input() selected = false;\r\n  @Input() color = 'gray';\r\n  @Input() textColor = 'black';\r\n  @Input() prefix = '';\r\n  @Input() size = '40';\r\n  @Input() disabled=false;\r\n  @HostListener('click', ['$event'])\r\nonHostClick(event: MouseEvent) {\r\n  if(!!this.disabled){\r\n    event.stopPropagation();\r\n  }\r\n}\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<svg class=\"list-ico list-ico-selected\" [attr.width]=\"size\" [attr.height]=\"size\" fill=\"#AAA\" viewBox=\"2 2 20 20\" >\r\n  <path d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n  <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\" />\r\n</svg>\r\n\r\n<svg class=\"list-ico list-ico-unselected\"  [attr.width]=\"size\" [attr.height]=\"size\" viewBox=\"0 0 32 32\" >\r\n  <circle class=\"icon-circle\" cx=\"16\" cy=\"16\" r=\"16\" [attr.fill]=\"color\" />\r\n  <text class=\"icon-text li-size-{{(prefix||'').length}}\" x=\"16\" y=\"20\" [attr.fill]=\"textColor\" text-anchor=\"middle\">{{prefix}}</text>\r\n  <circle class=\"icon-circle-hollow\" cx=\"16\" cy=\"16\" r=\"13\" stroke-width=\"3\"  stroke=\"#AAA\" fill=\"none\" />\r\n</svg>\r\n<div class=\" list-ico-transcluded-content list-ico-unselected\" [style.color]=\"textColor\" [style.width.px]=\"size\" [style.height.px]=\"size\">\r\n  <ng-content></ng-content>\r\n</div>\r\n\r\n\r\n<div class=\"spacer\" [style.width.px]=\"size\" [style.height.px]=\"size\"></div>\r\n","import { coerceBooleanProperty } from '@angular/cdk/coercion';\r\nimport { Component, OnInit, Input, ElementRef, HostBinding, AfterViewInit } from '@angular/core';\r\n\r\n\r\nexport interface SorterGroupAction {\r\n  label: string;\r\n  icon: string;\r\n  action: ( key: string, value:string, items:any[] ) => void;\r\n  visible: ( key: string, value:string, items:any[] ) => boolean;\r\n}\r\n\r\n@Component({\r\n    selector: 'sii-list-sorter-option',\r\n    template: '<ng-content></ng-content>',\r\n    standalone: true,\r\n})\r\nexport class ListSorterOptionComponent implements AfterViewInit {\r\n  @Input() value;\r\n  @Input() groupKey;\r\n  @Input() groupValue;\r\n  @Input() groupLabelTransform: (id: any, value: any, obj: any) => string;\r\n  @Input() parentGroupLabelTransform: (rid: any, value: any, obj: any) => string;\r\n  @Input() sortAsc = true;\r\n  @Input() groupAction: SorterGroupAction[];\r\n  @Input() parentGroupAction: SorterGroupAction[];\r\n\r\n  listSortAttr;\r\n  // tslint:disable-next-line:no-input-rename\r\n  @Input('sii-list-init-sort')\r\n  set LS(value: boolean|string) {\r\n    this.listSortAttr = coerceBooleanProperty(value);\r\n  }\r\n\r\n  @Input() parentGroupKey;\r\n  @Input() parentGroupValue;\r\n  @HostBinding('style.display') display = 'none';\r\n  isInitSort: boolean;\r\n\r\n  get viewValue(){\r\n    return this.el.nativeElement.innerText;\r\n  }\r\n  constructor(private el: ElementRef) {\r\n    // const isor = el.nativeElement.attributes.getNamedItem('sii-list-init-sort');\r\n    // this.isInitSort = isor != null && isor.value !== 'false';\r\n  }\r\n  ngAfterViewInit(): void {\r\n    this.isInitSort = this.listSortAttr !== undefined &&  this.listSortAttr !== false;\r\n  }\r\n\r\n\r\n}\r\n","import { Component, OnInit, AfterViewInit, ContentChildren, QueryList, Optional, Input } from '@angular/core';\r\nimport { MatOption } from '@angular/material/core';\r\nimport { MatSelectChange, MatSelect } from '@angular/material/select';\r\nimport {ListSorterOptionComponent} from './list-sorter-option/list-sorter-option.component';\r\nimport { SiiListController } from '../../service/sii-list-controller.service';\r\nimport { SiiSortGroup } from '../../dto/i-sii-group.dto';\r\nimport { MatIcon } from '@angular/material/icon';\r\nimport { MatIconButton } from '@angular/material/button';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { MatFormField, MatLabel } from '@angular/material/form-field';\r\n\r\n@Component({\r\n    selector: 'sii-list-sorter',\r\n    templateUrl: './list-sorter.component.html',\r\n    styleUrls: ['./list-sorter.component.scss'],\r\n    standalone: true,\r\n    imports: [MatFormField, MatLabel, MatSelect, FormsModule, MatOption, MatIconButton, MatIcon]\r\n})\r\nexport class ListSorterComponent implements AfterViewInit {\r\n  @ContentChildren(ListSorterOptionComponent) listSorterOptions: QueryList<ListSorterOptionComponent>;\r\n  options: any[];\r\n\r\n  @Input() showLabel = false;\r\n\r\n  get selectedValue(){\r\n    return this.siiListService._sortField.sort;\r\n  }\r\n  set selectedValue( sv: string){\r\n    this.siiListService._sortField.sort = sv;\r\n  }\r\n\r\n  get sortAsc(){\r\n    return this.siiListService._sortField.sortAscending;\r\n  }\r\n  set sortAsc(val: boolean){\r\n    this.siiListService._sortField.sortAscending = val;\r\n  }\r\n\r\n  get selectedGroup(){\r\n    return this.siiListService._groupField;\r\n  }\r\n  set selectedGroup( sv: SiiSortGroup){\r\n    this.siiListService._groupField = sv;\r\n  }\r\n\r\n  constructor( @Optional() private siiListService: SiiListController ) { }\r\n\r\n  ngAfterViewInit(): void {\r\n\r\n    Promise.resolve().then(() => {\r\n      this.options = this.listSorterOptions.map(x => {\r\n        return {\r\n           value: x.value ,\r\n           viewValue: x.viewValue,\r\n           groupKey: x.groupKey,\r\n           groupValue: x.groupValue,\r\n           groupLabelTransform: x.groupLabelTransform ,\r\n           parentGroupKey: x.parentGroupKey,\r\n           parentGroupValue: x.parentGroupValue,\r\n           parentGroupLabelTransform: x.parentGroupLabelTransform,\r\n           groupAction:  x.groupAction,\r\n           parentGroupAction:  x.parentGroupAction\r\n           };\r\n      });\r\n\r\n\r\n      let compareFunct = (x: ListSorterOptionComponent) => x.isInitSort;\r\n      if (!!this.siiListService._sortField.sort){\r\n        compareFunct = (x: ListSorterOptionComponent) => x.value === this.siiListService._sortField.sort;\r\n      }\r\n\r\n      const initSort = this.listSorterOptions.find(compareFunct);\r\n      let sortToInt = null;\r\n      if (initSort != null){\r\n        if (!!this.siiListService._sortField.sort){\r\n          initSort.sortAsc = this.siiListService._sortField.sortAscending;\r\n        }\r\n        sortToInt = initSort;\r\n      } else if (this.options != null && this.options[0] !== undefined){\r\n        sortToInt = this.options[0];\r\n      }\r\n\r\n      if (this.selectedValue == null){\r\n        this.selectedValue = sortToInt.value;\r\n        this.selectedGroup = {\r\n           groupKey: sortToInt.groupKey ,\r\n           groupValue: sortToInt.groupValue,\r\n           groupLabelTransform: sortToInt.groupLabelTransform ,\r\n           parentGroupKey: sortToInt.parentGroupKey,\r\n           parentGroupValue: sortToInt.parentGroupValue,\r\n           parentGroupLabelTransform: sortToInt.parentGroupLabelTransform,\r\n           groupAction: sortToInt.groupAction,\r\n           parentGroupAction: sortToInt.parentGroupAction\r\n           } ;\r\n        // this.siiListService.sortChange.next();\r\n      }else if (this.selectedValue !== sortToInt.value || sortToInt.groupLabelTransform!=null || sortToInt.parentGroupLabelTransform!=null){\r\n        this.selectedValue = sortToInt.value;\r\n        this.selectedGroup = {\r\n          groupKey: sortToInt.groupKey ,\r\n          groupValue: sortToInt.groupValue ,\r\n          groupLabelTransform: sortToInt.groupLabelTransform ,\r\n          parentGroupKey: sortToInt.parentGroupKey,\r\n          parentGroupValue: sortToInt.parentGroupValue,\r\n          parentGroupLabelTransform: sortToInt.parentGroupLabelTransform,\r\n          groupAction: sortToInt.groupAction,\r\n          parentGroupAction: sortToInt.parentGroupAction\r\n          } ;\r\n      }\r\n\r\n      if ( initSort.sortAsc !== this.sortAsc){\r\n        this.sortAsc = !this.sortAsc;\r\n      }\r\n\r\n    });\r\n\r\n  }\r\n\r\n  selectionChange(selev: MatSelectChange){\r\n    const selVal = this.options.find(v => v.value === selev.value);\r\n    this.selectedGroup = {\r\n      groupKey: selVal.groupKey ,\r\n      groupValue: selVal.groupValue,\r\n      groupLabelTransform: selVal.groupLabelTransform ,\r\n      parentGroupKey: selVal.parentGroupKey,\r\n      parentGroupValue: selVal.parentGroupValue,\r\n      parentGroupLabelTransform: selVal.parentGroupLabelTransform ,\r\n      groupAction: selVal.groupAction,\r\n      parentGroupAction: selVal.parentGroupAction\r\n      } ;\r\n    this.siiListService.sortChange.next();\r\n  }\r\n\r\n  toggleOrderAsc = () => {\r\n    this.sortAsc = !this.sortAsc;\r\n    this.siiListService.sortChange.next();\r\n  }\r\n\r\n\r\n}\r\n","<mat-form-field  appearance=\"outline\" class=\"siiFacetSorterFormField\">\r\n  @if (showLabel) {\r\n    <mat-label  i18n=\"@@listSorterOrderBy\">Order By</mat-label>\r\n  }\r\n  <mat-select  [(ngModel)]=\"selectedValue\" (selectionChange)=selectionChange($event)>\r\n    @for (option of options; track option) {\r\n      <mat-option [value]=\"option.value\">\r\n        {{ option.viewValue }}\r\n      </mat-option>\r\n    }\r\n  </mat-select>\r\n</mat-form-field>\r\n<button mat-icon-button class=\"sorterButton\" (click)=\"toggleOrderAsc()\">\r\n  <mat-icon [svgIcon]=\"sortAsc?'sii-sort-asc':'sii-sort-desc'\" ></mat-icon>\r\n</button>\r\n\r\n<!-- required for invisible transclusion -->\r\n<ng-content></ng-content>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { MatCheckboxDefaultOptions, MAT_CHECKBOX_DEFAULT_OPTIONS, MatCheckbox } from '@angular/material/checkbox';\r\nimport { SiiListController } from '../../../../service/sii-list-controller.service';\r\nimport { MatProgressSpinner } from '@angular/material/progress-spinner';\r\n\r\n@Component({\r\n    selector: 'sii-list-select-all',\r\n    templateUrl: './sii-infinite-scroll-select-all.component.html',\r\n    styleUrls: ['./sii-infinite-scroll-select-all.component.css'],\r\n    providers: [\r\n        { provide: MAT_CHECKBOX_DEFAULT_OPTIONS, useValue: { clickAction: 'noop' } as MatCheckboxDefaultOptions }\r\n    ],\r\n    standalone: true,\r\n    imports: [MatCheckbox, MatProgressSpinner]\r\n})\r\nexport class SiiInfiniteScrollSelectAllComponent implements OnInit {\r\n\r\n  constructor(public siiListController: SiiListController) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  clickAct = () => {\r\n    if (this.siiListController.selectionStatus !== 'N'){\r\n      this.siiListController.deselectAll();\r\n    }\r\n    else{\r\n      this.siiListController.selectAll();\r\n    }\r\n  }\r\n\r\n}\r\n","\r\n@if (!siiListController.selectAllInProgress) {\r\n  <mat-checkbox\r\n    [checked]=\"siiListController.selectionStatus=='A'\"\r\n    [indeterminate]=\"siiListController.selectionStatus=='P'\"\r\n    (click)=\"clickAct()\"\r\n    >\r\n  </mat-checkbox>\r\n}\r\n\r\n@if (siiListController.selectAllInProgress) {\r\n  <mat-spinner diameter='20'></mat-spinner>\r\n}\r\n\r\n<span class=\"siiSelectAllLabel\" i18n=\"@@sii-infinite-scroll-select-all\"> All</span>\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { GroupedInfiniteScrollComponent } from './grouped-infinite-scroll/grouped-infinite-scroll.component';\r\nimport { InfiniteScrollComponent } from './infinite-scroll/infinite-scroll.component';\r\nimport { ListIconComponent } from '../list-icon/list-icon.component';\r\nimport { ListSorterComponent } from '../list-sorter/list-sorter.component';\r\nimport { ListRowDirective } from './utils/list-row/list-row.directive';\r\nimport { ListSorterOptionComponent } from '../list-sorter/list-sorter-option/list-sorter-option.component';\r\nimport { SiiInfiniteScrollSelectAllComponent } from './utils/sii-infinite-scroll-select-all/sii-infinite-scroll-select-all.component';\r\nimport { EmptyListMessageDirective } from './utils/empty-list-message/empty-list-message.directive';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    GroupedInfiniteScrollComponent,\r\n    InfiniteScrollComponent,\r\n    ListIconComponent,\r\n    ListSorterComponent,\r\n    ListSorterOptionComponent,\r\n    ListRowDirective,\r\n    SiiInfiniteScrollSelectAllComponent,\r\n    EmptyListMessageDirective\r\n  ],\r\n  exports: [\r\n    GroupedInfiniteScrollComponent,\r\n    InfiniteScrollComponent,\r\n    ListIconComponent,\r\n    ListSorterComponent,\r\n    ListSorterOptionComponent,\r\n    ListRowDirective,\r\n    SiiInfiniteScrollSelectAllComponent,\r\n    EmptyListMessageDirective\r\n  ]\r\n})\r\nexport class SiiListModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { SiiFacetDto } from '../dto/i-sii-facet.dto';\r\nimport { SiiFacetOptionDto } from '../dto/i-sii-facet-option.dto';\r\nimport { debounceTime } from 'rxjs/operators';\r\nimport { SiiSortDTO } from '../../../../dto/i-sii-sort.dto';\r\nimport { SiiSortGroup } from '../../../../dto/i-sii-group.dto';\r\n\r\nexport type FacetChangesDto= {facets: object, searchText: string, sort?: SiiSortDTO;  group?: SiiSortGroup; };\r\n\r\n@Injectable()\r\nexport class SiiFacetService{\r\n  facetObj = {};\r\n  facetObjForBackEnd = {}; // mappa name, array di cod\r\n  facetObjVal = {};\r\n  selecteditemCount = 0;\r\n  sortField: string;\r\n  facetLabelMap = {};\r\n  facetsMultiplicity = {};\r\n  facetsHideSelection = {};\r\n  facetsExpanded = {};\r\n  _textSerch = '';\r\n  get haveSearchText(): boolean{return this._textSerch.length > 0 ? true : false; }\r\n  _initFacetToSet: FacetChangesDto = {searchText: '', facets: {}};\r\n\r\n\r\n  private facetChangeSubj = new Subject<FacetChangesDto>();\r\n  facetChange$ = this.facetChangeSubj.asObservable().pipe(debounceTime(1000));\r\n\r\n  private facetResetSubj = new Subject<FacetChangesDto>();\r\n  facetReset$ = this.facetResetSubj.asObservable();\r\n\r\n  private removeFacetSelectionSubj = new Subject<SiiFacetDto>();\r\n  removeFacetSelection$ = this.removeFacetSelectionSubj.asObservable();\r\n\r\n  private removeAllFacetSelectionSubj = new Subject<void>();\r\n  removeAllFacetSelection$ = this.removeAllFacetSelectionSubj.asObservable();\r\n\r\n  public changeFacetsRequestSubj = new Subject<{facets: object, reset: boolean}>();\r\n  changeFacetsRequestObs = this.changeFacetsRequestSubj.asObservable();\r\n\r\n  public changeSearchTextRequestSubj = new Subject<string>();\r\n  changeSearchTextRequestObs = this.changeSearchTextRequestSubj.asObservable();\r\n\r\n  initializeFacet(name: string,  optionsInitValue: any[]|boolean|string){\r\n    this.facetObj[name] = optionsInitValue;\r\n    this.buildSelectionData();\r\n    this.buildBackendData();\r\n  }\r\n\r\n  searchFilterChange = (txt, propagateChange= true) => {\r\n    this._textSerch = txt;\r\n    if ( propagateChange){\r\n      this.emitFacetChange();\r\n    }\r\n  }\r\n\r\n  registerFacetLabel(key, label){\r\n    Promise.resolve().then(() => {this.facetLabelMap[key] = label; });\r\n  }\r\n\r\n  facetChange(facetChange: SiiFacetDto, propagateChange= true) {\r\n    this.facetObj[facetChange.name] = facetChange.facetOptions;\r\n    this.buildSelectionData();\r\n    this.buildBackendData();\r\n    if (propagateChange){\r\n      this.emitFacetChange();\r\n    }\r\n  }\r\n\r\n  private emitFacetChange(){\r\n    this.facetChangeSubj.next({facets: this.facetObjForBackEnd, searchText: this._textSerch});\r\n  }\r\n\r\n\r\n  setInitFacets(initFacets: FacetChangesDto){\r\n    this._initFacetToSet = initFacets;\r\n  }\r\n\r\n  removeFacetSelectionFromFacetSummary(facetChange: SiiFacetDto) {\r\n    this.removeFacetSelectionSubj.next(facetChange);\r\n  }\r\n\r\n  removeAllFilters(){\r\n    this.removeAllFacetSelectionSubj.next();\r\n    Promise.resolve().then(() => {\r\n      // this.facetChangeSubj.next(this.facetObjForBackEnd);\r\n      this.facetResetSubj.next({facets: this.facetObjForBackEnd, searchText: ''});\r\n    });\r\n  }\r\n\r\n  buildBackendData(){\r\n    // build the obj for the backend\r\n    const tmpFacetObjVal = {};\r\n    for (const key in this.facetObj){\r\n      if (this.facetObj[key] != null){ // necessario per tslint\r\n        if (this.facetObj[key] instanceof  Array){\r\n        tmpFacetObjVal[key] = this.facetObj[key].map(s => s.code);\r\n        }\r\n        else if (this.facetObj[key] instanceof  Object && this.facetObj[key].hasOwnProperty('code')){\r\n          tmpFacetObjVal[key] = (this.facetObj[key] as SiiFacetOptionDto).code;\r\n        }\r\n        else{\r\n          tmpFacetObjVal[key] = this.facetObj[key];\r\n        }\r\n      }\r\n    }\r\n    this.facetObjForBackEnd = tmpFacetObjVal;\r\n  }\r\n\r\n  buildSelectionData(){\r\n    const tmpFacetObjVal = {};\r\n    let count = 0;\r\n    for (const key in this.facetObj){\r\n      if (this.facetObj[key] != null){ // necessario per tslint\r\n        if (this.facetObj[key] instanceof  Array){\r\n          tmpFacetObjVal[key] = this.facetObj[key].reduce((acc, val) => { acc[val.code] = true; return acc; }, {});\r\n          count += this.facetObj[key].length;\r\n        }\r\n        else{\r\n          tmpFacetObjVal[key] = this.facetObj[key];\r\n          count += this.facetObj[key] ? 1 : 0;\r\n        }\r\n\r\n      }\r\n    }\r\n    this.facetObjVal = tmpFacetObjVal;\r\n    this.selecteditemCount = count;\r\n  }\r\n\r\n\r\n\r\n}\r\n","import { Component, OnInit, ViewChild, ElementRef, AfterViewInit, HostBinding } from '@angular/core';\r\nimport { SiiFacetService } from '../service/sii-facet.service';\r\nimport { SiiFacetOptionDto } from '../dto/i-sii-facet-option.dto';\r\nimport { SiiFacetDto } from '../dto/i-sii-facet.dto';\r\nimport { fromEvent } from 'rxjs';\r\nimport { map, debounceTime, distinctUntilChanged } from 'rxjs/operators';\r\nimport { MatSuffix } from '@angular/material/form-field';\r\nimport { MatIcon } from '@angular/material/icon';\r\nimport { MatInput } from '@angular/material/input';\r\n\r\n@Component({\r\n    selector: 'sii-facet-toolbar-search',\r\n    templateUrl: './facet-toolbar-search.component.html',\r\n    styleUrls: ['./facet-toolbar-search.component.css'],\r\n    standalone: true,\r\n    imports: [MatInput, MatIcon, MatSuffix]\r\n})\r\nexport class FacetToolbarSearchComponent implements AfterViewInit {\r\n  @ViewChild('ftSearchBox', { static: false })   inputElement: ElementRef;\r\n\r\n  @HostBinding('class.searchWithValue') get haveValue(){\r\n    return this.siiFacetService.haveSearchText;\r\n  }\r\n\r\n\r\n  constructor(public siiFacetService:SiiFacetService) {\r\n    this.siiFacetService.removeAllFacetSelection$.subscribe(()=>{\r\n      this.changeTxt('', false);\r\n      // this.inputElement.nativeElement.value='';\r\n      // this.siiFacetService.searchFilterChange('',false)\r\n    })\r\n\r\n    this.siiFacetService.changeSearchTextRequestObs.subscribe((req)=>{\r\n      this.changeTxt(req, true);\r\n    })\r\n    // siiListController.textSearchChangeObs.subscribe((txt)=>{\r\n    //   this.inputElement.nativeElement.value=txt;\r\n    // })\r\n  }\r\n\r\n  private changeTxt(txt:string, propagateChange:boolean){\r\n    this.inputElement.nativeElement.value= txt;\r\n    this.siiFacetService.searchFilterChange(txt , propagateChange);\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    if(this.siiFacetService._initFacetToSet.searchText.length!=null && this.siiFacetService._initFacetToSet.searchText.length>0){\r\n      Promise.resolve().then(() => {\r\n        this.changeTxt(this.siiFacetService._initFacetToSet.searchText, false);\r\n      })\r\n\r\n    }\r\n\r\n    fromEvent(this.inputElement.nativeElement, 'keyup')\r\n    .pipe(\r\n      map((i: any) => i.currentTarget.value),\r\n      distinctUntilChanged(),\r\n      debounceTime(500)\r\n    )\r\n    .subscribe((txt)=>{\r\n      this.siiFacetService.searchFilterChange(txt)\r\n    });\r\n  }\r\n\r\n  reset(){\r\n    this.changeTxt('', true);\r\n  }\r\n\r\n\r\n\r\n}\r\n","<!-- <div>\r\n<input   #ftSearchBox id=\"search-box\"\r\n  i18n-placeholder=\"@@Full_text_search\"\r\n  placeholder=\"search...\"\r\n  type=\"text\">\r\n\r\n  <mat-icon class=\"search-icon\" (click)=\"focusInput()\">search</mat-icon>\r\n</div> -->\r\n\r\n\r\n\r\n<!-- <mat-form-field appearance=\"outline\" > -->\r\n<input  id=\"ftSearchBox\" #ftSearchBox matInput i18n-placeholder=\"@@Full_text_search\"  placeholder=\"search...\">\r\n@if (!ftSearchBox.value) {\r\n  <mat-icon matSuffix>search</mat-icon>\r\n}\r\n@if (ftSearchBox.value) {\r\n  <mat-icon matSuffix   aria-label=\"Clear\" (click)=\"reset()\" style=\"cursor: pointer;\">close</mat-icon>\r\n}\r\n\r\n<!-- </mat-form-field> -->\r\n","import { Component,  AfterContentInit, Output, EventEmitter, Optional, Input, AfterViewInit } from '@angular/core';\r\nimport { SiiFacetService, FacetChangesDto } from '../common/service/sii-facet.service';\r\nimport { SiiFacetDto } from '../common/dto/i-sii-facet.dto';\r\nimport { SiiFacetOptionDto } from '../common/dto/i-sii-facet-option.dto';\r\nimport { SiiFacetSelectionDto } from '../common/dto/i-sii-facet-selection.dto';\r\nimport { SiiListController } from '../../../service/sii-list-controller.service';\r\nimport { debounceTime } from 'rxjs/operators';\r\nimport { MatAccordion } from '@angular/material/expansion';\r\nimport { MatProgressSpinner } from '@angular/material/progress-spinner';\r\nimport { MatTooltip } from '@angular/material/tooltip';\r\nimport { NgClass } from '@angular/common';\r\nimport { MatChipSet, MatChip, MatChipRemove } from '@angular/material/chips';\r\nimport { MatIcon } from '@angular/material/icon';\r\nimport { MatIconButton } from '@angular/material/button';\r\nimport { FacetToolbarSearchComponent } from '../common/facet-toolbar-search/facet-toolbar-search.component';\r\n\r\n@Component({\r\n    selector: 'sii-facets-container',\r\n    templateUrl: './facets-container.component.html',\r\n    styleUrls: ['./facets-container.component.scss'],\r\n    providers: [SiiFacetService],\r\n    standalone: true,\r\n    imports: [FacetToolbarSearchComponent, MatIconButton, MatIcon, MatChipSet, NgClass, MatChip, MatTooltip, MatChipRemove, MatProgressSpinner, MatAccordion]\r\n})\r\nexport class FacetsContainerComponent implements AfterViewInit{\r\n  @Output() facetsChange = new EventEmitter<FacetChangesDto>();\r\n  @Input() hideToolbarSearch = false;\r\n  objectKeys = Object.keys;\r\n\r\n  utils = {\r\n    loaded: false\r\n  };\r\n\r\n  constructor(public siiFacetService: SiiFacetService,   @Optional() public siiListController: SiiListController) {\r\n    this.siiFacetService.facetChange$.subscribe((r) => this.facetsSelectionChange(r));\r\n    this.siiFacetService.facetReset$.subscribe((r) => this.facetsSelectionReset(r));\r\n    this.siiListController?.setInitFacetsObs.subscribe((r) => {      this.siiFacetService.setInitFacets(r);    });\r\n    this.siiListController?.changeFacetsObs.subscribe(r => this.siiFacetService.changeFacetsRequestSubj.next(r));\r\n    this.siiListController?.changeSearchTextObs?.subscribe(r => this.siiFacetService.changeSearchTextRequestSubj.next(r));\r\n\r\n  }\r\n  ngAfterViewInit(): void {\r\n    setTimeout(() => {\r\n      this.utils.loaded = true;\r\n    }, 2000);\r\n  }\r\n\r\n  facetsSelectionChange(facets: FacetChangesDto){\r\n    this.facetsChange.emit(facets);\r\n    this.siiListController?.facetsChange.next(facets);\r\n  }\r\n\r\n  facetsSelectionReset(facets: FacetChangesDto){\r\n    this.facetsChange.emit(facets);\r\n    this.siiListController?.facetsReset.next(facets);\r\n  }\r\n\r\n  removeSelectionFromSelectionSummary(name, option: SiiFacetOptionDto){\r\n    this.siiFacetService.removeFacetSelectionFromFacetSummary({name, facetOptions: [option]});\r\n  }\r\n\r\n  removeAllFilters(){\r\n    this.siiFacetService.removeAllFilters();\r\n  }\r\n\r\n  public get count(): number{\r\n    return this.siiFacetService.selecteditemCount + (this.siiFacetService.haveSearchText ? 1 : 0);\r\n  }\r\n\r\n\r\n\r\n\r\n}\r\n","@if (!hideToolbarSearch) {\r\n  <sii-facet-toolbar-search></sii-facet-toolbar-search>\r\n}\r\n\r\n\r\n@if (count>0 ) {\r\n  <div class=\"fc_remove_all\">\r\n    <div class=\"fc_remove_all_label\" i18n=\"@@RemoveFilters\">Remove Filters</div>\r\n    <button mat-icon-button (click)=\"removeAllFilters()\">\r\n      <mat-icon class=\"fc_remove_all_icon\">cancel</mat-icon>\r\n    </button>\r\n  </div>\r\n}\r\n\r\n<mat-chip-set class=\"fc-selectedChips\"  aria-label=\"selection\" [ngClass]=\"{'loadingInProgress':utils.loaded==false}\">\r\n  @for (key of objectKeys(siiFacetService.facetObj); track key) {\r\n    @if (siiFacetService.facetObj[key]!=undefined && !siiFacetService.facetsHideSelection[key] ) {\r\n      @switch (siiFacetService.facetObj[key].constructor.name) {\r\n        @case ('Object') {\r\n          <!-- si spera che sia del tipo  SiiFacetOptionDto -->\r\n          <mat-chip  [matTooltip]=\"siiFacetService.facetLabelMap[key]+' : '+ siiFacetService.facetObj[key].descr\" [matTooltipShowDelay]=\"1000\"\r\n            [removable]=\"true\" (removed)=\"removeSelectionFromSelectionSummary(key,siiFacetService.facetObj[key])\">\r\n            @if (!siiFacetService.facetObj[key].miss) {\r\n              <div class=\"facetChipsText\">{{siiFacetService.facetObj[key].descr}}</div>\r\n            }\r\n            @if (!!siiFacetService.facetObj[key].lost && !!siiFacetService.facetObj[key].miss) {\r\n              <div class=\"facetChipsText\"> {{ \"##\"+siiFacetService.facetObj[key].code }}</div>\r\n            }\r\n            <mat-icon matChipRemove>cancel</mat-icon>\r\n          </mat-chip>\r\n        }\r\n        @case ('Array') {\r\n          @for (option of siiFacetService.facetObj[key]; track option) {\r\n            <mat-chip  [matTooltip]=\"siiFacetService.facetLabelMap[key]+' : '+ option.descr\" [matTooltipShowDelay]=\"1000\"\r\n              [removable]=\"true\" (removed)=\"removeSelectionFromSelectionSummary(key,option)\">\r\n              @if (!option.miss) {\r\n                <div class=\"facetChipsText\">{{option.descr }}</div>\r\n              }\r\n              @if (!!option.miss  ) {\r\n                <div class=\"facetChipsText\">\r\n                  @if (!!option.lost  ) {\r\n                    {{\"##\"+option.code }}\r\n                  }\r\n                  @if (!option.lost ) {\r\n                    <mat-spinner diameter='20' color=\"accent\"></mat-spinner>\r\n                  }\r\n                </div>\r\n              }\r\n              <mat-icon matChipRemove>cancel</mat-icon>\r\n            </mat-chip>\r\n          }\r\n        }\r\n        @default {\r\n          @switch (siiFacetService.facetObj[key]==true) {\r\n            @case (true) {\r\n              <mat-chip [matTooltip]=\"siiFacetService.facetLabelMap[key]\" [matTooltipShowDelay]=\"1000\"\r\n                [removable]=\"true\" (removed)=\"removeSelectionFromSelectionSummary(key,null)\">\r\n                <div class=\"facetChipsText\">{{siiFacetService.facetLabelMap[key]}}</div>\r\n                <mat-icon matChipRemove>cancel</mat-icon>\r\n              </mat-chip>\r\n            }\r\n            @case (false) {\r\n              <mat-chip [matTooltip]=\"siiFacetService.facetLabelMap[key]+' : '+ siiFacetService.facetObj[key]\" [matTooltipShowDelay]=\"1000\"\r\n                [removable]=\"true\" (removed)=\"removeSelectionFromSelectionSummary(key,null)\">\r\n                <div class=\"facetChipsText\">{{siiFacetService.facetObj[key]}}</div>\r\n                <mat-icon matChipRemove>cancel</mat-icon>\r\n              </mat-chip>\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n</mat-chip-set>\r\n\r\n\r\n<mat-accordion  multi=true class=\"fcAccordion\">\r\n  <ng-content></ng-content>\r\n</mat-accordion>\r\n","import { Component, OnInit, Input, Output, EventEmitter, AfterViewInit } from '@angular/core';\r\nimport { MatExpansionPanel, MatExpansionPanelHeader } from '@angular/material/expansion';\r\n\r\n@Component({\r\n    selector: 'sii-facet-skeleton',\r\n    templateUrl: './facet-skeleton.component.html',\r\n    styleUrls: ['./facet-skeleton.component.scss'],\r\n    standalone: true,\r\n    imports: [MatExpansionPanel, MatExpansionPanelHeader]\r\n})\r\nexport class FacetSkeletonComponent implements OnInit , AfterViewInit{\r\n  @Input() expanded=true;\r\n  @Output() expandedChange = new EventEmitter();\r\n  @Input() label:string;\r\n  initalized=false;\r\n\r\n  constructor() { }\r\n  ngAfterViewInit(): void {\r\n    Promise.resolve().then(() =>{\r\n      // this is necessary to resolve the problem of flicking on reload\r\n      this.initalized=true;\r\n\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  public setLabel(label:string){\r\n    Promise.resolve().then(() =>this.label=label);\r\n  }\r\n\r\n  public setExpanded(expanded:boolean){\r\n      Promise.resolve().then(() =>this.expanded=expanded);\r\n  }\r\n\r\n  expChange(ev){\r\n    this.expandedChange.next(ev)\r\n  }\r\n\r\n\r\n}\r\n","@if (initalized) {\r\n  <mat-expansion-panel [expanded]=\"expanded\" (expandedChange)=\"expChange($event)\">\r\n    <mat-expansion-panel-header>\r\n      {{label}}\r\n    </mat-expansion-panel-header>\r\n    <ng-content select=\"sii-facet-search\"></ng-content>\r\n    <div class=\"skelCont\">\r\n      <ng-content></ng-content>\r\n    </div>\r\n    <ng-content select=\"sii-facet-paginator\"></ng-content>\r\n  </mat-expansion-panel>\r\n}\r\n","import { Component, OnInit, Input, ViewChild, AfterViewInit, SimpleChanges, OnChanges, EventEmitter, HostBinding, OnDestroy, Directive } from '@angular/core';\r\nimport { SiiFacetOptionDto } from '../dto/i-sii-facet-option.dto';\r\nimport { FacetSkeletonComponent } from '../facet-skeleton/facet-skeleton.component';\r\nimport { SiiFacetService } from '../service/sii-facet.service';\r\nimport { SiiFacetDto } from '../dto/i-sii-facet.dto';\r\nimport { Subscription } from 'rxjs';\r\n\r\n// @Component({\r\n//   selector: 'sii-primitive-facet',\r\n//   template: '',\r\n//   styleUrls: ['./primitive-facet.component.css']\r\n// })\r\n// @Component({\r\n//   selector: 'sii-primitive-facet',\r\n//   template: ''\r\n// })\r\n\r\n@Directive()\r\nexport abstract class PrimitiveFacetDirective implements  OnDestroy, AfterViewInit , OnChanges{\r\n\r\n  // @Input() data:SiiFacetOptionDto[];\r\n  @Input() config: SiiFacetDto;\r\n  @Input() expanded = true; // Init value for expansion\r\n  @Input() label: string;\r\n  @Input() initMultiplicityToDisplay = 1; // the init value\r\n  @Input() visibleFacetsSize = 5;\r\n  @Input() hideSelection=false;\r\n\r\n  set multiplicityToDisplay(val: number){\r\n    this.siiFacetService.facetsMultiplicity[this.config.name] = val;\r\n  }\r\n  get multiplicityToDisplay(){\r\n    return this.siiFacetService.facetsMultiplicity[this.config.name] || 1;\r\n  }\r\n\r\n  set facetExpanded(val: boolean){\r\n    this.siiFacetService.facetsExpanded[this.config.name] = val;\r\n  }\r\n  get facetExpanded(){\r\n    return this.siiFacetService.facetsExpanded[this.config.name];\r\n  }\r\n\r\n  private readonly subscriptions: Subscription  = new Subscription();\r\n\r\n  @ViewChild(FacetSkeletonComponent) skelRef: FacetSkeletonComponent;\r\n\r\n  _optionsInitValue: any = [];\r\n  set optionsInitValue(val: any){\r\n    this._optionsInitValue = val;\r\n  }\r\n\r\n  get optionsInitValue(){\r\n    if (Array.isArray(this._optionsInitValue)){\r\n      return [...this._optionsInitValue];\r\n    }else {\r\n      return this._optionsInitValue;\r\n    }\r\n  }\r\n\r\n\r\n  get facetSelection() { return this.siiFacetService.facetObj[this.config.name]; }\r\n  set facetSelection( val) { this.siiFacetService.facetObj[this.config.name] = val; }\r\n  get selectedFacets() { return this.siiFacetService.facetObjVal[this.config.name] || {}; }\r\n\r\n  constructor(public siiFacetService: SiiFacetService) {\r\n    this.siiFacetService.removeFacetSelection$.subscribe((fs) => {\r\n      this.removeFacetSelectionFromFacetSummaryCallback(fs);\r\n    });\r\n    this.siiFacetService.removeAllFacetSelection$.subscribe(() => {\r\n      this.removeAllSelections();\r\n    });\r\n    this.siiFacetService.changeFacetsRequestObs.subscribe((req: {facets: object, reset: boolean}) => {\r\n      if(req.facets.hasOwnProperty(this.config.name)){\r\n        this.changeFacets(req.facets[this.config.name]);\r\n      }else if(req.reset){\r\n        this.removeAllSelections();\r\n      }\r\n    })\r\n  }\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if(!!changes.config){\r\n      if(this.facetSelection?.find(i => !!i.miss) != null){\r\n        this.facetSelection = this.extractFacetFromList(this.facetSelection.map(i => i.code));\r\n        this.facetSelection?.filter(i => !!i.miss).forEach(i => i.lost = true);\r\n        this.updateFacetSelection(false);\r\n      }\r\n    }\r\n  }\r\n\r\n  ngAfterViewInitCallback(){} // override da discendenti\r\n  ngAfterViewInit(): void {\r\n\r\n    if (this.siiFacetService.facetsHideSelection[this.config.name] === undefined){\r\n      Promise.resolve().then(() => {\r\n        this.siiFacetService.facetsHideSelection[this.config.name] = this.hideSelection;\r\n      });\r\n    }\r\n\r\n\r\n    // check if is firstInit\r\n    if (this.siiFacetService.facetsMultiplicity[this.config.name] === undefined){\r\n      Promise.resolve().then(() => {\r\n        this.multiplicityToDisplay = this.initMultiplicityToDisplay;\r\n      });\r\n    }\r\n    else if (this.multiplicityToDisplay * this.visibleFacetsSize > this.config.facetOptions.length){\r\n      // there are less facets . reduce the multiplicity to the max available\r\n      Promise.resolve().then(() => {\r\n        this.multiplicityToDisplay = Math.ceil(this.config.facetOptions.length / this.visibleFacetsSize);\r\n      });\r\n    }\r\n\r\n\r\n    if (this.facetSelection === undefined){\r\n      Promise.resolve().then(() => {\r\n          this.siiFacetService.initializeFacet(this.config.name, this.getInitSelection());\r\n      });\r\n    }\r\n\r\n\r\n    if (this.siiFacetService.facetsExpanded[this.config.name] === undefined){\r\n      Promise.resolve().then(() => {\r\n        this.facetExpanded = this.expanded;\r\n      });\r\n    }\r\n\r\n    if ( this.skelRef){\r\n      // setto in automatico la label sul componente\r\n      Promise.resolve().then(() => {\r\n      this.skelRef.setLabel(this.label);\r\n      this.skelRef.setExpanded(this.facetExpanded);\r\n      this.subscriptions.add(this.skelRef.expandedChange.subscribe((ev) => this.facetExpanded = ev));\r\n    });\r\n    }\r\n    this.siiFacetService.registerFacetLabel(this.config.name, this.label);\r\n\r\n    Promise.resolve().then(() => {\r\n      this.ngAfterViewInitCallback();\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    // not needed since it's a cold observable but good practice\r\n    this.subscriptions.unsubscribe();\r\n  }\r\n\r\n  removeFacetSelectionFromFacetSummaryCallback(fs: SiiFacetDto){\r\n    if (fs.name === this.config.name){\r\n      for (const op in fs.facetOptions){\r\n        if ( fs.facetOptions[op] != null){\r\n          this.removeSelection(fs.facetOptions[op]);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  getInitSelection(){\r\n    if (this.siiFacetService._initFacetToSet.facets[this.config.name] !== undefined){\r\n      const fcts = this.extractFacetFromList(this.siiFacetService._initFacetToSet.facets[this.config.name] );\r\n      fcts.filter(i => !!i.miss).forEach(i => i.lost = true);\r\n      return fcts;\r\n\r\n    }else{\r\n      return this.optionsInitValue || [];\r\n    }\r\n  }\r\n\r\n  private extractFacetFromList(items: Array<any>){\r\n    const itemsToAdd = [];\r\n    const initVal = [...items];\r\n    this.config.facetOptions?.forEach(op => {\r\n      const initIndex = initVal.indexOf(op.code);\r\n      if (initIndex !== -1 ){\r\n        itemsToAdd.push(op);\r\n        initVal.splice(initIndex, 1);\r\n      }\r\n    });\r\n\r\n    if (initVal.length > 0){\r\n      // init facet not in options.\r\n      console.log('facet non presenti=', initVal);\r\n      initVal.forEach(iv => {\r\n        const missOp = {code: iv, descr: '!!' + iv, count: 0, miss: true};\r\n        itemsToAdd.push(missOp);\r\n      });\r\n    }\r\n\r\n    return itemsToAdd;\r\n  }\r\n\r\n  addSelection(item: SiiFacetOptionDto){\r\n    this.facetSelection.push(item);\r\n    this.updateFacetSelection();\r\n  }\r\n\r\n  removeSelection(item: SiiFacetOptionDto,  propagate=true){\r\n    const i = this.facetSelection.findIndex((e) => e.code === item.code);\r\n    if (i !== -1){\r\n      this.facetSelection.splice(i, 1);\r\n      this.updateFacetSelection(propagate);\r\n    }\r\n  }\r\n\r\n  removeAllSelections(){\r\n    this.facetSelection = this.optionsInitValue;\r\n    this.updateFacetSelection(false);\r\n  }\r\n\r\n  changeFacets(facets: Array<string>){\r\n    this.facetSelection = this.extractFacetFromList(facets);\r\n    this.updateFacetSelection(true);\r\n  }\r\n\r\n  toggle(opt: SiiFacetOptionDto){ // chiamato da sii-facet-search\r\n    this.selectedFacets[opt.code] === undefined ? this.addSelection(opt) : this.removeSelection(opt);\r\n  }\r\n\r\n  updateFacetSelection(propagateChange= true){\r\n    this.siiFacetService.facetChange(\r\n      {\r\n        facetOptions: this.facetSelection,\r\n        name: this.config.name\r\n      },\r\n      propagateChange\r\n      );\r\n\r\n  }\r\n\r\n  instanceOfSiiFacetOptionDto(object: any): object is SiiFacetOptionDto {\r\n    return (object instanceof Object) && ('code' in object  && 'descr' in object);\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { SiiFacetOptionDto } from '../dto/i-sii-facet-option.dto';\r\nimport { UntypedFormControl, FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { Observable } from 'rxjs';\r\nimport { startWith, map, filter } from 'rxjs/operators';\r\nimport { MatAutocompleteSelectedEvent, MatAutocompleteTrigger, MatAutocomplete } from '@angular/material/autocomplete';\r\nimport { AsyncPipe } from '@angular/common';\r\nimport { MatOption } from '@angular/material/core';\r\nimport { MatIcon } from '@angular/material/icon';\r\nimport { MatInput } from '@angular/material/input';\r\nimport { MatFormField, MatSuffix } from '@angular/material/form-field';\r\n\r\n@Component({\r\n    selector: 'sii-facet-search',\r\n    templateUrl: './facet-search.component.html',\r\n    styleUrls: ['./facet-search.component.scss'],\r\n    standalone: true,\r\n    imports: [FormsModule, MatFormField, MatInput, MatAutocompleteTrigger, ReactiveFormsModule, MatIcon, MatSuffix, MatAutocomplete, MatOption, AsyncPipe]\r\n})\r\nexport class FacetSearchComponent implements OnInit {\r\n  @Input() options:SiiFacetOptionDto[];\r\n  @Input() selected:object;\r\n  @Output() optionSelected = new EventEmitter<SiiFacetOptionDto>();\r\n  myControl = new UntypedFormControl();\r\n  filteredOptions: Observable<SiiFacetOptionDto[]>;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    this.filteredOptions = this.myControl.valueChanges.pipe(\r\n      startWith(''),\r\n      filter( (v) =>  typeof v === 'string'),\r\n      map(value => {\r\n        return this._filter(value)\r\n      })\r\n    );\r\n  }\r\n\r\n  private _filter(value: string): SiiFacetOptionDto[] {\r\n    const filterValue = value.toLowerCase();\r\n    return this.options.filter(option => {\r\n     return  (!!option.descr && option.descr.toLowerCase().indexOf(filterValue) !==-1) ||\r\n      (''+option.code).toLowerCase().indexOf(filterValue) !==-1;\r\n    });\r\n  }\r\n\r\n\r\n  displayFn(option: SiiFacetOptionDto): string {\r\n    return option && option.descr ? option.descr : '';\r\n  }\r\n  optionSelectedAction(sel:MatAutocompleteSelectedEvent){\r\n    this.optionSelected.emit(sel.option.value);\r\n  }\r\n}\r\n","<form>\r\n  <mat-form-field appearance=\"outline\" class=\"siiFacetSearchFormField\">\r\n    <input type=\"text\"\r\n      placeholder=\"Search...\"\r\n      aria-label=\"Number\"\r\n      matInput\r\n      [formControl]=\"myControl\"\r\n      [matAutocomplete]=\"auto\">\r\n      <mat-icon class=\"fs_search_icon\" matSuffix >search</mat-icon>\r\n      <mat-autocomplete autoActiveFirstOption #auto=\"matAutocomplete\" (optionSelected)=\"optionSelectedAction($event)\" [displayWith]=\"displayFn\">\r\n        @for (option of filteredOptions  | async ; track option) {\r\n          <mat-option [value]=\"option\" [class.sii-facet-search-selected]=\"selected[option.code]\">\r\n            {{option.descr || \"##\"+option.code}}\r\n          </mat-option>\r\n        }\r\n      </mat-autocomplete>\r\n    </mat-form-field>\r\n  </form>\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { SiiFacetDto } from '../dto/i-sii-facet.dto';\r\nimport { MatIcon } from '@angular/material/icon';\r\nimport { MatButton } from '@angular/material/button';\r\n\r\n@Component({\r\n    selector: 'sii-facet-paginator',\r\n    templateUrl: './facet-paginator.component.html',\r\n    styleUrls: ['./facet-paginator.component.css'],\r\n    standalone: true,\r\n    imports: [MatButton, MatIcon]\r\n})\r\nexport class FacetPaginatorComponent implements OnInit {\r\n  @Input() size=0;\r\n  @Input() visibleFacetsSize = 5;\r\n\r\n  @Input() multiplicityToDisplay: number;\r\n  @Output() multiplicityToDisplayChange = new EventEmitter();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  updateVal(incr){\r\n    this.multiplicityToDisplay= incr? this.multiplicityToDisplay+1:this.multiplicityToDisplay-1;\r\n    this.multiplicityToDisplayChange.emit(this.multiplicityToDisplay);\r\n  }\r\n\r\n}\r\n","@if (size > visibleFacetsSize) {\r\n  <div class=\"showMoreOrLessButtonsContainer\">\r\n    @if (size > (visibleFacetsSize*multiplicityToDisplay)) {\r\n      <button mat-button (click)=\"updateVal(true)\"><mat-icon>add</mat-icon><span>Show more</span></button>\r\n    }\r\n    @if (multiplicityToDisplay !== 1) {\r\n      <button mat-button (click)=\"updateVal(false)\"><mat-icon>remove</mat-icon><span>Show less</span></button>\r\n    }\r\n  </div>\r\n}\r\n","import { Component, OnInit, AfterViewInit } from '@angular/core';\r\nimport { PrimitiveFacetDirective } from '../common/primitive-facet/primitive-facet.directive';\r\nimport { MatCheckboxChange, MatCheckbox } from '@angular/material/checkbox';\r\nimport { SiiFacetOptionDto } from '../common/dto/i-sii-facet-option.dto';\r\nimport { SiiFacetService } from '../common/service/sii-facet.service';\r\nimport { SlicePipe } from '@angular/common';\r\nimport { FacetSearchComponent } from '../common/facet-search/facet-search.component';\r\nimport { FacetPaginatorComponent } from '../common/facet-paginator/facet-paginator.component';\r\nimport { BadgeComponent } from '../../badge/badge.component';\r\nimport { MatTooltip } from '@angular/material/tooltip';\r\nimport { FacetSkeletonComponent } from '../common/facet-skeleton/facet-skeleton.component';\r\n\r\n@Component({\r\n    selector: 'sii-facet-checkbox',\r\n    templateUrl: './facet-checkbox.component.html',\r\n    styleUrls: ['./facet-checkbox.component.scss'],\r\n    standalone: true,\r\n    imports: [FacetSkeletonComponent, MatCheckbox, MatTooltip, BadgeComponent, FacetPaginatorComponent, FacetSearchComponent, SlicePipe]\r\n})\r\nexport class FacetCheckboxComponent extends PrimitiveFacetDirective {\r\n\r\n  constructor(siiFacetService:SiiFacetService) {\r\n    super(siiFacetService);\r\n  }\r\n\r\n  check(opt:SiiFacetOptionDto, ev:MatCheckboxChange){\r\n    ev.checked?this.addSelection(opt):this.removeSelection(opt);\r\n  }\r\n\r\n  toggle(opt: SiiFacetOptionDto){ // chiamato da sii-facet-search\r\n    this.selectedFacets[opt.code] === undefined ? this.addSelection(opt) : this.removeSelection(opt);\r\n  }\r\n\r\n\r\n\r\n\r\n}\r\n","<sii-facet-skeleton >\r\n  @for (opt of config?.facetOptions | slice:0:visibleFacetsSize*multiplicityToDisplay; track opt.code; let i = $index) {\r\n    <div  class=\"facet-checkbox-item\" [class.facet-selected]=\"selectedFacets[opt.code]\">\r\n      <mat-checkbox [checked]=\"selectedFacets[opt.code]\" (change)=\"check(opt ,$event);\" color=\"primary\"></mat-checkbox>\r\n      <div   (click)=\"toggle(opt);\" [matTooltip]=\"opt.descr\"   [matTooltipShowDelay]=\"1000\" class=\"facet-checkbox-item-text\">{{opt.descr || \"##\"+opt.code}}</div>\r\n      <sii-badge [background]=\"'white'\" [color]=\"'#0D456F'\">{{opt.count}}</sii-badge>\r\n    </div>\r\n  }\r\n\r\n  <sii-facet-paginator [size]=\"config?.facetOptions.length\" [visibleFacetsSize]='visibleFacetsSize' [(multiplicityToDisplay)]=\"multiplicityToDisplay\"></sii-facet-paginator>\r\n  <sii-facet-search [selected]=\"selectedFacets\" [options]=\"config?.facetOptions\" (optionSelected)=\"toggle($event)\"></sii-facet-search>\r\n</sii-facet-skeleton>\r\n","import { Component, ContentChild, OnInit, TemplateRef } from '@angular/core';\r\nimport { SiiFacetService } from '../common/service/sii-facet.service';\r\nimport { PrimitiveFacetDirective } from '../common/primitive-facet/primitive-facet.directive';\r\nimport { SiiFacetOptionDto } from '../common/dto/i-sii-facet-option.dto';\r\nimport { SiiFacetTemplateDirective } from '../common/directive/sii-facet-template.directive';\r\nimport { FacetSearchComponent } from '../common/facet-search/facet-search.component';\r\nimport { FacetPaginatorComponent } from '../common/facet-paginator/facet-paginator.component';\r\nimport { BadgeComponent } from '../../badge/badge.component';\r\nimport { NgTemplateOutlet, SlicePipe } from '@angular/common';\r\nimport { MatTooltip } from '@angular/material/tooltip';\r\nimport { FacetSkeletonComponent } from '../common/facet-skeleton/facet-skeleton.component';\r\n\r\n@Component({\r\n    selector: 'sii-facet',\r\n    templateUrl: './facet.component.html',\r\n    styleUrls: ['./facet.component.css'],\r\n    standalone: true,\r\n    imports: [FacetSkeletonComponent, MatTooltip, NgTemplateOutlet, BadgeComponent, FacetPaginatorComponent, FacetSearchComponent, SlicePipe]\r\n})\r\nexport class FacetComponent  extends PrimitiveFacetDirective {\r\n  @ContentChild(SiiFacetTemplateDirective, {read: TemplateRef}) facetTemplate;\r\n\r\n\r\n  constructor(siiFacetService: SiiFacetService) {\r\n    super(siiFacetService);\r\n  }\r\n\r\n}\r\n","@if (config?.facetOptions?.length>0) {\r\n  <sii-facet-skeleton >\r\n    @for (opt of config?.facetOptions | slice:0:visibleFacetsSize*multiplicityToDisplay; track opt.code; let i = $index) {\r\n      <div\r\n        class=\"facet-basic\" [class.facet-selected]=\"selectedFacets[opt.code]\" (click)=\"toggle(opt);\">\r\n        <div  [matTooltip]=\"opt.descr\"   [matTooltipShowDelay]=\"1000\" class=\"facet-item-text\">\r\n          <ng-container  *ngTemplateOutlet=\"facetTemplate || defaultFacetTemplate; context:{$implicit:opt, selected:selectedFacets[opt.code]}\" ></ng-container></div>\r\n          @if (opt.count!=null) {\r\n            <sii-badge [background]=\"'white'\" [color]=\"'#0D456F'\">{{opt.count}}</sii-badge>\r\n          }\r\n        </div>\r\n      }\r\n      <sii-facet-paginator [size]=\"config?.facetOptions.length\" [visibleFacetsSize]='visibleFacetsSize' [(multiplicityToDisplay)]=\"multiplicityToDisplay\"></sii-facet-paginator>\r\n      @if (config?.facetOptions.length>10) {\r\n        <sii-facet-search [selected]=\"selectedFacets\" [options]=\"config?.facetOptions\" (optionSelected)=\"toggle($event)\"></sii-facet-search>\r\n      }\r\n    </sii-facet-skeleton>\r\n  }\r\n\r\n\r\n  <ng-template #defaultFacetTemplate let-opt>\r\n    {{opt.descr || \"##\"+opt.code}}\r\n  </ng-template>\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { PrimitiveFacetDirective } from '../common/primitive-facet/primitive-facet.directive';\r\nimport { SiiFacetService } from '../common/service/sii-facet.service';\r\nimport { MatSlideToggleChange, MatSlideToggle } from '@angular/material/slide-toggle';\r\nimport { SiiFacetOptionDto } from '../common/dto/i-sii-facet-option.dto';\r\nimport { SiiFacetDto } from '../common/dto/i-sii-facet.dto';\r\n\r\n@Component({\r\n    selector: 'sii-facet-single-toggle',\r\n    templateUrl: './facet-single-toggle.component.html',\r\n    styleUrls: ['./facet-single-toggle.component.css'],\r\n    standalone: true,\r\n    imports: [MatSlideToggle]\r\n})\r\nexport class FacetSingleToggleComponent extends PrimitiveFacetDirective {\r\n  @Input() label;\r\n  @Input()\r\n  set target(val:string){\r\n    this.config={name:val,facetOptions:null};\r\n  }\r\n\r\n  constructor(siiFacetService:SiiFacetService) {\r\n    super(siiFacetService);\r\n    this.optionsInitValue=false; // valore di inizializzazione\r\n\r\n    // --------override parent funct\r\n  this.addSelection=(item:SiiFacetOptionDto)=>{\r\n    this.siiFacetService.facetObj[this.config.name]=true;\r\n    this.updateFacetSelection();\r\n  }\r\n\r\n// --------override parent funct\r\n  this.removeSelection=(item:SiiFacetOptionDto)=>{\r\n    delete this.siiFacetService.facetObj[this.config.name];\r\n    this.updateFacetSelection();\r\n  }\r\n\r\n  this.removeFacetSelectionFromFacetSummaryCallback=(fs: SiiFacetDto)=>{\r\n    if(fs.name===this.config.name){\r\n      this.removeSelection(null);\r\n    }\r\n  }\r\n\r\n  this.getInitSelection = ()=>{\r\n    return this.siiFacetService._initFacetToSet.facets[this.config.name] || this.optionsInitValue;\r\n    }\r\n  }\r\n\r\n  onToggleChange( ev:MatSlideToggleChange){\r\n    // this.siiFacetService.facetObj[this.config.name]=ev.checked;\r\n    // this.updateFacetSelection();\r\n    ev.checked? this.addSelection(null):this.removeSelection(null)\r\n  }\r\n\r\n\r\n\r\n}\r\n","<mat-slide-toggle [checked]=\"selectedFacets==true\"  (change)=\"onToggleChange($event)\" [labelPosition]=\"'before'\">{{label}}</mat-slide-toggle>\r\n","import { Directive, ElementRef, Input, OnDestroy, Host, Optional, AfterViewInit } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\r\nimport { SiiFacetService } from '../common/service/sii-facet.service';\r\nimport { PrimitiveFacetDirective } from '../common/primitive-facet/primitive-facet.directive';\r\nimport { SiiFacetOptionDto } from '../common/dto/i-sii-facet-option.dto';\r\nimport { SiiFacetDto } from '../common/dto/i-sii-facet.dto';\r\nimport { MatSelect, MatSelectChange } from '@angular/material/select';\r\nimport { MatSlideToggleChange, MatSlideToggle } from '@angular/material/slide-toggle';\r\nimport { MatRadioChange, MatRadioGroup } from '@angular/material/radio';\r\nimport { MatInput } from '@angular/material/input';\r\nimport { MatDatepickerInput } from '@angular/material/datepicker';\r\nimport { LookupEmployeeComponent } from '../../dsii-components/lookup-employee/lookup-employee.component';\r\nimport { ILookupEmployeeDTO } from '../../dsii-components/lookup-employee/domain/lookup-employee.dto';\r\nimport { MatAutocomplete, MatAutocompleteSelectedEvent } from '@angular/material/autocomplete';\r\nimport { MatOption } from '@angular/material/core';\r\nimport { SiiYearMonth, YearMonthInputComponent } from '../../year-month-input/year-month-input.component';\r\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\r\nimport { SiiDatePipe } from '../../util/sii-date.pipe';\r\n\r\nexport type FiltersType= 'INPUT' | 'SELECT' | 'TOGGLE' | 'RADIO' | 'DATEPICKER' | 'LOOKUP_EMPLOYEE' | 'AUTOCOMPLETE' | 'YEAR_MONTH';\r\n\r\n@Directive({\r\n    selector: '[siiFilter]',\r\n    providers: [SiiDatePipe],\r\n    standalone: true,\r\n})\r\nexport class SiiFilterDirective extends PrimitiveFacetDirective  implements OnDestroy  {\r\n  @Input() set siiFilter(val: string){\r\n    this.config = {name: val, facetOptions: null};\r\n  }\r\n\r\n  @Input() valueTransform: (defaultVal: any) => SiiFacetOptionDto;\r\n  @Input() siiFilterInpuRef: HTMLInputElement;\r\n\r\n  private privMmultiple = false;\r\n  @Input()\r\n  get multiple(): boolean {\r\n    return this.privMmultiple;\r\n  }\r\n  set multiple(value: boolean) {\r\n    this.privMmultiple = coerceBooleanProperty(value);\r\n  }y;\r\n\r\n  utils = {\r\n    firstValidValueEmitted: false,\r\n    initialized: false\r\n  };\r\n\r\n  type: FiltersType;\r\n  private valueChangeSubj = new Subject<any>();\r\n  valueChange = this.valueChangeSubj.asObservable();\r\n\r\n\r\n  constructor(public el: ElementRef, siiFacetService: SiiFacetService, private siiDatePipe: SiiDatePipe,\r\n              @Host() @Optional() private matInput: MatInput ,\r\n              @Host() @Optional() private matSelect: MatSelect,\r\n              @Host() @Optional() private matSlideToggle: MatSlideToggle,\r\n              @Host() @Optional() private matRadioGroup: MatRadioGroup,\r\n              @Host() @Optional() private matDatepicker: MatDatepickerInput<any>,\r\n              @Host() @Optional() private lookupEmployee: LookupEmployeeComponent,\r\n              @Host() @Optional() private matAutocomplete: MatAutocomplete ,\r\n              @Host() @Optional() private yearMonthInput: YearMonthInputComponent,\r\n    ) {\r\n    super(siiFacetService);\r\n\r\n    this.optionsInitValue = undefined; // valore di inizializzazione\r\n\r\n    this.checkType();\r\n\r\n    switch (this.type){\r\n      case 'INPUT':\r\n        this.el.nativeElement.addEventListener('input', () => {\r\n          // console.log('input ValueChange');\r\n          this.valueChangeSubj.next(this.getOrDefault(this.el.nativeElement.value));\r\n        });\r\n        break;\r\n      case 'SELECT':\r\n        this.optionsInitValue = this.matSelect.multiple ? [] : undefined;\r\n        this.matSelect.selectionChange.subscribe((ev: MatSelectChange) => {\r\n          // console.log('mat select selectionChange');\r\n          if (this.matSelect.multiple){\r\n           const splittedValues = ev.source.triggerValue.split(',');\r\n           const selVAl = [];\r\n           for (let i = 0; i < ev.value.length; i++){\r\n            selVAl.push({code: ev.value[i], count: 1, descr: splittedValues[i]});\r\n           }\r\n           this.valueChangeSubj.next(this.getOrDefault(selVAl));\r\n          }else{\r\n            this.valueChangeSubj.next(this.getOrDefault({code: ev.value, count: 1, descr: ev.source.triggerValue}));\r\n          }\r\n\r\n        });\r\n        break;\r\n      case 'TOGGLE':\r\n        this.matSlideToggle.change.subscribe((ev: MatSlideToggleChange) => {\r\n          // console.log('mat-slide ValueChange');\r\n          this.valueChangeSubj.next(this.getOrDefault(ev.checked));\r\n        });\r\n        break;\r\n      case 'RADIO':\r\n        this.matRadioGroup.change.subscribe((ev: MatRadioChange) => {\r\n          // console.log('mat-radio ValueChange');\r\n          this.valueChangeSubj.next(this.getOrDefault(ev.value));\r\n        });\r\n        break;\r\n      case 'DATEPICKER':\r\n        this.matDatepicker.dateChange.subscribe((ev: MatRadioChange) => {\r\n          // console.log('mat-datepicker ValueChange');\r\n          this.valueChangeSubj.next(ev.value != null ? this.getOrDefault(ev.value) : null);\r\n          // this.valueChangeSubj.next(ev.value)\r\n        });\r\n        break;\r\n      case 'LOOKUP_EMPLOYEE':\r\n        this.lookupEmployee.valueChange.subscribe((val: ILookupEmployeeDTO) => {\r\n          // console.log('LOOKUP_EMPLOYEE ValueChange');\r\n          if (this.multiple){\r\n            if (val != null){\r\n              const v = this.getOrDefault(val, {code: val.workerId, count: 1, descr: val.surname + ' ' + val.name});\r\n              const itemIndex = (this.facetSelection || []).findIndex(i => i.code === v.code);\r\n              if (itemIndex === -1){\r\n                  this.valueChangeSubj.next( (this.facetSelection || []).concat(v));\r\n              }\r\n              // clearValue\r\n              this.lookupEmployee.writeValue(null);\r\n            }\r\n          }else{\r\n            const v = val != null ? this.getOrDefault(val, {code: val.workerId, count: 1, descr: val.surname + ' ' + val.name}) : null;\r\n            this.valueChangeSubj.next(v);\r\n          }\r\n\r\n\r\n        });\r\n        break;\r\n\r\n        case 'AUTOCOMPLETE':\r\n          this.optionsInitValue = this.multiple ? [] : undefined;\r\n          this.matAutocomplete.optionSelected.subscribe((ev: MatAutocompleteSelectedEvent) => {\r\n            if (this.multiple){\r\n              if (ev.option.value != null){\r\n                const val = this.getOrDefault(ev.option.value);\r\n                const itemIndex = (this.facetSelection || []).findIndex(i => i.code === val.code);\r\n                if (itemIndex === -1){\r\n                  this.valueChangeSubj.next( (this.facetSelection || []).concat(val));\r\n                }\r\n                this.clearAutocomplete();\r\n              }\r\n            }else{\r\n              this.valueChangeSubj.next(ev.option.value != null ? this.getOrDefault(ev.option.value) : null);\r\n            }\r\n\r\n          });\r\n          break;\r\n\r\n         case 'YEAR_MONTH':\r\n           this.yearMonthInput.valueChange.subscribe((val: SiiYearMonth) => {\r\n\r\n             const invalidValue = val == null || val.year == null || val.month == null || val.year === '' || val.month === '';\r\n             if (!invalidValue || this.utils.firstValidValueEmitted){\r\n              this.utils.firstValidValueEmitted = true;\r\n              if (invalidValue){\r\n                 this.valueChangeSubj.next(null);\r\n               }else{\r\n                this.valueChangeSubj.next(this.getOrDefault(val, {code: val, count: 1, descr: val.year + '/' + val.month}));\r\n               }\r\n             }\r\n\r\n           });\r\n           break;\r\n    }\r\n\r\n\r\n\r\n\r\n    this.valueChange.pipe(\r\n        // distinctUntilChanged(),\r\n        debounceTime(500))\r\n      .subscribe((val: SiiFacetOptionDto|Array<any>|string|boolean|Date) => {\r\n      if (val instanceof Array){\r\n        this.facetSelection = val.map((v) => {\r\n          if (this.instanceOfSiiFacetOptionDto(v)){\r\n            return v;\r\n          }else{\r\n            return {code: v, count: 1, descr: v};\r\n          }\r\n        });\r\n      }else if (typeof val === 'string'){\r\n        if (val.trim().length === 0){\r\n          this.facetSelection = undefined;\r\n        }else{\r\n          this.facetSelection = val;\r\n        }\r\n      }else if (typeof val === 'boolean'){\r\n        if (val){\r\n          this.facetSelection = val;\r\n        }else{\r\n          this.facetSelection = undefined;\r\n        }\r\n      }else if (val instanceof Date){\r\n        // this.facetSelection = val;\r\n        this.facetSelection = {code: val, count: 1, descr: this.siiDatePipe.transform(val)};\r\n      }\r\n      else{\r\n        this.facetSelection = val;\r\n      }\r\n\r\n      // uso this.utils.initialized per evitare di eseguire 2 volte la request\r\n      this.updateFacetSelection(this.utils.initialized);\r\n      this.utils.initialized = true;\r\n    });\r\n\r\n\r\n    this.ngAfterViewInitCallback = () => {\r\n      if (this.type === 'AUTOCOMPLETE' && this.valueTransform === undefined){\r\n        throw new Error(`SiiFilter :element AUTOCOMPLETE needs the declaration of [valueTransform] `);\r\n      }\r\n      if (this.type === 'AUTOCOMPLETE' && this.siiFilterInpuRef === undefined){\r\n        throw new Error(`SiiFilter :element AUTOCOMPLETE needs the declaration of [siiFilterInpuRef] `);\r\n      }\r\n\r\n\r\n      const initSelVal = this.getInitSelection();\r\n      if (initSelVal !== undefined){\r\n        this.setValue(initSelVal);\r\n        setTimeout(() => {\r\n          this.utils.initialized = true;\r\n        }, 800);\r\n      }else{\r\n        this.utils.initialized = true;\r\n      }\r\n\r\n\r\n    };\r\n\r\n      // --------override parent funct\r\n    this.addSelection = () => {\r\n    // this.facetSelection=item.code;\r\n    // this.updateFacetSelection();\r\n    // console.log('####################### siifilter addSelection ');\r\n  };\r\n\r\n  // --------override parent funct\r\n    this.removeSelection = (item: SiiFacetOptionDto, propagate=true) => {\r\n\r\n    switch (this.type){\r\n      case 'INPUT':\r\n        this.matInput.value = '';\r\n        this.facetSelection = undefined;\r\n        break;\r\n      case 'SELECT':\r\n        if (this.matSelect.multiple){\r\n          const i = this.matSelect.value.findIndex((e) => e === item.code);\r\n          if (i !== -1){\r\n            this.matSelect.writeValue(this.matSelect.value.filter((item, index) => index !== i));\r\n\r\n            const splittedValues = this.matSelect.triggerValue.split(',');\r\n            const selVAl = [];\r\n            for (let i = 0; i < this.matSelect.value.length; i++){\r\n                 selVAl.push({code: this.matSelect.value[i], count: 1, descr: splittedValues[i]});\r\n                 }\r\n\r\n\r\n            this.facetSelection = selVAl;\r\n          }\r\n        }else{\r\n          this.matSelect.value = this.optionsInitValue;\r\n          this.facetSelection = this.optionsInitValue;\r\n        }\r\n        break;\r\n      case 'TOGGLE':\r\n        this.matSlideToggle.toggle();\r\n        this.facetSelection = this.matSlideToggle.checked ? true : undefined;\r\n        break;\r\n      case 'RADIO':\r\n        this.matRadioGroup.value = undefined;\r\n        this.facetSelection = undefined;\r\n        break;\r\n      case 'DATEPICKER':\r\n        this.matDatepicker.value = undefined;\r\n        this.facetSelection = undefined;\r\n        break;\r\n        case 'YEAR_MONTH':\r\n          this.yearMonthInput.writeValue(null);\r\n          this.facetSelection = undefined;\r\n          break;\r\n      case 'LOOKUP_EMPLOYEE':\r\n        this.lookupEmployee.writeValue(null);\r\n        if (this.multiple){\r\n          const leItemIndex = this.facetSelection.findIndex(i => i.code === item.code);\r\n          if (leItemIndex !== -1){\r\n           this.facetSelection.splice(leItemIndex, 1);\r\n          }\r\n         }else{\r\n           this.facetSelection = undefined;\r\n         }\r\n\r\n        break;\r\n      case 'AUTOCOMPLETE':\r\n       this.clearAutocomplete();\r\n       if (this.multiple){\r\n        const ACitemIndex = this.facetSelection.findIndex(i => i.code === item.code);\r\n        if (ACitemIndex !== -1){\r\n         this.facetSelection.splice(ACitemIndex, 1);\r\n        }\r\n       }else{\r\n         this.facetSelection = undefined;\r\n       }\r\n       break;\r\n\r\n    }\r\n\r\n    if(propagate){\r\n      this.updateFacetSelection();\r\n    }\r\n  };\r\n\r\n\r\n\r\n  // --------override parent funct\r\n    this.removeAllSelections = () => {\r\n    if (this.facetSelection !== undefined){\r\n\r\n      if (this.facetSelection !== undefined && this.facetSelection instanceof Array){\r\n        [...this.facetSelection].forEach(f => this.removeSelection(f,false));\r\n      }else{\r\n        this.removeSelection(this.facetSelection, false );\r\n      }\r\n      this.updateFacetSelection(false);\r\n    }\r\n  };\r\n\r\n    this.removeFacetSelectionFromFacetSummaryCallback = (fs: SiiFacetDto) => {\r\n    if (fs.name === this.config.name){\r\n      fs.facetOptions.forEach(f => this.removeSelection(f));\r\n    }\r\n  };\r\n\r\n    this.getInitSelection = () => {\r\n    return this.siiFacetService._initFacetToSet.facets[this.config.name] || this.optionsInitValue;\r\n    };\r\n\r\n    this.changeFacets = (facets: Array<string>) => {\r\n      this.setValue(facets);\r\n    };\r\n\r\n  }\r\n\r\n  private multiMatSelectValueExtraction(initSelVal: any) {\r\n    const splittedValues = this.matSelect.triggerValue.split(',');\r\n    const selVAl = [];\r\n    for (let i = 0; i < initSelVal.length; i++) {\r\n      selVAl.push({ code: initSelVal[i], count: 1, descr: splittedValues[i] });\r\n    }\r\n    return this.getOrDefault(selVAl);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.valueChangeSubj.unsubscribe();\r\n  }\r\n\r\n  getOrDefault(value: any, defaultVal?: any){\r\n    if (this.valueTransform !== undefined){\r\n      return this.valueTransform(value);\r\n    }\r\n    else{\r\n      return defaultVal !== undefined ? defaultVal :  value;\r\n    }\r\n  }\r\n\r\n  clearAutocomplete(){\r\n    this.siiFilterInpuRef.value = '';\r\n    this.siiFilterInpuRef.dispatchEvent(new Event('input')); // this is to update the list of autcomplete\r\n    // const t = new MatOption(null, null, this.matAutocomplete, null);\r\n    // t.value = null;\r\n    // const event = new MatAutocompleteSelectedEvent(this.matAutocomplete, t);\r\n    // this.matAutocomplete.optionSelected.emit(event);\r\n  }\r\n\r\n  checkType(){\r\n\r\n    if (this.matInput){\r\n      if (this.matDatepicker){\r\n        // this because datapicker works in matInput\r\n        this.type = 'DATEPICKER';\r\n      }else{\r\n        this.type = 'INPUT';\r\n      }\r\n    }\r\n    else if (this.matSelect){\r\n      this.type = 'SELECT';\r\n    }\r\n    else if (this.matSlideToggle){\r\n      this.type = 'TOGGLE';\r\n    }\r\n    else if (this.matRadioGroup){\r\n      this.type = 'RADIO';\r\n    }else if (this.lookupEmployee){\r\n      this.type = 'LOOKUP_EMPLOYEE';\r\n    }else if (this.matAutocomplete){\r\n      this.type = 'AUTOCOMPLETE';\r\n    }else if (this.yearMonthInput){\r\n      this.type = 'YEAR_MONTH';\r\n    }\r\n\r\n\r\n    if (this.type === undefined){\r\n      throw new Error(`SiiFilter elemento ${this.el.nativeElement.localName} non gestito`);\r\n    }\r\n  }\r\n\r\n  setValue(initSelVal: any){\r\n    switch (this.type){\r\n      case 'INPUT':\r\n        this.matInput.value = initSelVal;\r\n        this.valueChangeSubj.next(this.getOrDefault(initSelVal));\r\n        break;\r\n      case 'SELECT':\r\n        if (this.matSelect.multiple){\r\n            this.matSelect.writeValue(initSelVal);\r\n\r\n            if (this.matSelect.triggerValue === ''){\r\n              // if the options values are not just loaded\r\n\r\n              this.valueChangeSubj.next( initSelVal);\r\n\r\n\r\n              const vcs = this.matSelect.options.changes.subscribe(() => {\r\n                  vcs.unsubscribe();\r\n                  Promise.resolve().then(() => {\r\n                    const splittedValues = this.matSelect.triggerValue.split(',');\r\n                    const selMap = {};\r\n                    for (let i = 0; i < initSelVal.length; i++) {\r\n                      selMap[initSelVal[i]] = splittedValues[i];\r\n                    }\r\n                    (this.facetSelection as Array<SiiFacetOptionDto>).forEach((i => i.descr = selMap[i.code]));\r\n                  });\r\n                });\r\n            }else{\r\n\r\n              const splittedValues = this.matSelect.triggerValue.split(',');\r\n              const selVAl = [];\r\n              for (let i = 0; i < initSelVal.length; i++) {\r\n                selVAl.push({ code: initSelVal[i], count: 1, descr: splittedValues[i] });\r\n              }\r\n\r\n              this.valueChangeSubj.next(this.getOrDefault(selVAl));\r\n            }\r\n          }else{\r\n            this.matSelect.value = initSelVal;\r\n            setTimeout(() => {\r\n            this.valueChangeSubj.next(this.getOrDefault({code: initSelVal, count: 1, descr: this.matSelect.triggerValue}));\r\n          }, 500);\r\n          }\r\n\r\n\r\n\r\n        // this.valueChangeSubj.next(this.getOrDefault(initSelVal));\r\n        break;\r\n      case 'TOGGLE':\r\n        this.matSlideToggle.checked = initSelVal;\r\n        // this.valueChangeSubj.next(this.getOrDefault(initSelVal));\r\n        break;\r\n      case 'RADIO':\r\n        this.matRadioGroup.value = initSelVal;\r\n        this.valueChangeSubj.next(this.getOrDefault(initSelVal));\r\n        break;\r\n      case 'DATEPICKER':\r\n        if (initSelVal != null){\r\n          initSelVal = new Date(initSelVal);\r\n          if (isNaN(initSelVal)){\r\n            initSelVal = null;\r\n          }\r\n        }\r\n        this.matDatepicker.value = initSelVal;\r\n        this.valueChangeSubj.next(initSelVal != null ? this.getOrDefault(initSelVal) : null);\r\n        break;\r\n      case 'LOOKUP_EMPLOYEE':\r\n        if (this.multiple){\r\n          if (initSelVal != null){\r\n            if (initSelVal instanceof Array){\r\n              // tslint:disable-next-line:max-line-length\r\n              this.valueChangeSubj.next( initSelVal.map( i => this.getOrDefault(i, {code: i.workerId, count: 1, descr: i.surname + ' ' + i.name})));\r\n            }else{\r\n              // tslint:disable-next-line:max-line-length\r\n              this.valueChangeSubj.next( [this.getOrDefault(initSelVal, {code: initSelVal.workerId, count: 1, descr: initSelVal.surname + ' ' + initSelVal.name})]);\r\n            }\r\n          }\r\n        }else{\r\n          this.lookupEmployee.writeValue(initSelVal);\r\n          const v = initSelVal != null ? this.getOrDefault(initSelVal, {code: initSelVal.workerId, count: 1, descr: initSelVal.surname + ' ' + initSelVal.name}) : null;\r\n          this.valueChangeSubj.next(v);\r\n        }\r\n        break;\r\n      case 'AUTOCOMPLETE':\r\n        this.siiFilterInpuRef.value = this.matAutocomplete.displayWith(initSelVal);\r\n        // this.matAutocomplete.optionSelected.emit(initSelVal);\r\n        const t = new MatOption(null, null, this.matAutocomplete, null);\r\n        t.value = initSelVal;\r\n        const event = new MatAutocompleteSelectedEvent(this.matAutocomplete, t);\r\n        if (this.multiple){\r\n          if (initSelVal != null){\r\n            if (initSelVal instanceof Array){\r\n              this.valueChangeSubj.next( initSelVal.map( i => this.getOrDefault(i)));\r\n            }else{\r\n              this.valueChangeSubj.next( [this.getOrDefault(initSelVal)]);\r\n            }\r\n            this.clearAutocomplete();\r\n          }\r\n        }else{\r\n          this.matAutocomplete.optionSelected.emit(event);\r\n          this.valueChangeSubj.next(this.getOrDefault(initSelVal));\r\n        }\r\n        break;\r\n\r\n      case 'YEAR_MONTH':\r\n        this.yearMonthInput.writeValue(initSelVal);\r\n        // tslint:disable-next-line:max-line-length\r\n        const vym = initSelVal != null ? this.getOrDefault(initSelVal, {code: initSelVal, count: 1, descr: initSelVal.year + '/' + initSelVal.month}) : null;\r\n        this.valueChangeSubj.next(vym);\r\n        break;\r\n    }\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { FacetsContainerComponent } from './facets-container/facets-container.component';\r\nimport { FacetCheckboxComponent } from './facet-checkbox/facet-checkbox.component';\r\nimport { FacetSkeletonComponent } from './common/facet-skeleton/facet-skeleton.component';\r\nimport { FacetComponent } from './facet/facet.component';\r\n// import { FacetPaginatorComponent } from './common/facet-paginator/facet-paginator.component';\r\n// import { FacetSearchComponent } from './common/facet-search/facet-search.component';\r\nimport { FacetSingleToggleComponent } from './facet-single-toggle/facet-single-toggle.component';\r\nimport { FacetToolbarSearchComponent } from './common/facet-toolbar-search/facet-toolbar-search.component';\r\nimport { SiiFilterDirective } from './filter/filter.directive';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    FacetsContainerComponent,\r\n    FacetCheckboxComponent,\r\n    FacetSkeletonComponent,\r\n    FacetComponent,\r\n    // FacetPaginatorComponent,\r\n    // FacetSearchComponent,\r\n    FacetSingleToggleComponent,\r\n    FacetToolbarSearchComponent,\r\n    SiiFilterDirective\r\n  ],\r\n  exports: [\r\n    FacetsContainerComponent,\r\n    FacetCheckboxComponent,\r\n    FacetSkeletonComponent,\r\n    FacetComponent,\r\n    // FacetPaginatorComponent,\r\n    // FacetSearchComponent,\r\n    FacetSingleToggleComponent,\r\n    FacetToolbarSearchComponent,\r\n    SiiFilterDirective\r\n  ]\r\n})\r\nexport class SiiFiltersModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { ProfileButtonComponent } from './components/profile-button/profile-button.component';\r\n\r\nimport { WaitComponent } from './components/wait/wait.component';\r\nimport { ErrorDisplayDialogComponent } from './components/error-display-dialog/error-display-dialog.component';\r\nimport { SiiOutComponent } from './components/sii-out/sii-out.component';\r\nimport { SiiPageContainerComponent } from './components/page-container/page-container.component';\r\nimport { PageHoverMaskComponent } from './components/page-container/page-hover-mask/page-hover-mask.component';\r\nimport { MenuComponent } from './components/menu/menu.component';\r\nimport { SnackbarFeedbackComponent } from './components/feedback/snackbar-feedback/snackbar-feedback.component';\r\nimport { BannerFeedbackComponent } from './components/feedback/banner-feedback/banner-feedback.component';\r\nimport { BannerFeedbackOutletComponent } from './components/feedback/banner-feedback-outlet/banner-feedback-outlet.component';\r\nimport { SnackbarFeedbackOutletComponent } from './components/feedback/snackbar-feedback-outlet/snackbar-feedback-outlet.component';\r\nimport { WorkerIconComponent } from './components/worker-icon/worker-icon.component';\r\nimport { BadgeComponent } from './components/badge/badge.component';\r\nimport { FacetsContainerComponent } from './components/facets/facets-container/facets-container.component';\r\nimport { FacetCheckboxComponent } from './components/facets/facet-checkbox/facet-checkbox.component';\r\nimport { FacetSkeletonComponent } from './components/facets/common/facet-skeleton/facet-skeleton.component';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\nimport { SiiPageContainerModule } from './components/page-container/sii-page-container.module';\r\nimport { FacetComponent } from './components/facets/facet/facet.component';\r\nimport { FacetPaginatorComponent } from './components/facets/common/facet-paginator/facet-paginator.component';\r\nimport { FacetSearchComponent } from './components/facets/common/facet-search/facet-search.component';\r\nimport { FacetSingleToggleComponent } from './components/facets/facet-single-toggle/facet-single-toggle.component';\r\nimport { LookupWorkOrderComponent } from './components/dsii-components/lookup-work-order/lookup-work-order.component';\r\nimport { LookupOdaPosComponent } from './components/dsii-components/lookup-oda-pos/lookup-oda-pos.component';\r\nimport { SearchWorkOrderDialogComponent } from './components/dsii-components/lookup-work-order/components/search-work-order-dialog/search-work-order-dialog.component';\r\nimport { SearchOdaPosDialogComponent } from './components/dsii-components/lookup-oda-pos/components/search-oda-pos-dialog/search-oda-pos-dialog.component';\r\nimport { LookupEmployeeComponent } from './components/dsii-components/lookup-employee/lookup-employee.component';\r\nimport { FacetToolbarSearchComponent } from './components/facets/common/facet-toolbar-search/facet-toolbar-search.component';\r\nimport { GlobalSearchComponent } from './components/global-search/global-search.component';\r\nimport { SiiFilterDirective } from './components/facets/filter/filter.directive';\r\nimport { GlobalMenuComponent } from './components/menu/global-menu/global-menu.component';\r\nimport { GlobalMenuFilterPipe } from './components/menu/global-menu/utils/global-menu-filter.pipe';\r\nimport { SiiCompanySelectionComponent } from './components/menu/global-menu/components/company-selection/company-selection.component';\r\nimport { CompanySelectionDialogComponent } from './components/menu/global-menu/components/company-selection-dialog/company-selection-dialog.component';\r\nimport { GlobalMenuVoicesFilterPipe } from './components/menu/global-menu/utils/global-menu-voices-filter.pipe';\r\nimport { GroupListToolbarComponent } from './components/list/utils/group-list-toolbar/group-list-toolbar.component';\r\nimport { FakeListItemDirective } from './components/list/utils/fake-list-item.directive';\r\nimport { UploadComponent } from './components/upload/upload.component';\r\nimport { PictDialogComponent } from './components/upload/pict-dialog/pict-dialog.component';\r\nimport { ImageCropperModule } from 'ngx-image-cropper';\r\nimport { NotarizationComponent } from './components/notarization/notarization.component';\r\nimport { NotarizationResponseDialogComponent } from './components/notarization/utils/notarization-response-dialog/notarization-response-dialog.component';\r\n\r\nimport { CommonModule } from '@angular/common';\r\nimport { SiiDatePipe } from './components/util/sii-date.pipe';\r\nimport { DateHintDirective } from './components/util/date-hint.directive';\r\nimport { WorkerContactInformationComponent } from './components/worker-contact-information/worker-contact-information.component';\r\nimport { YearMonthInputComponent } from './components/year-month-input/year-month-input.component';\r\nimport { CropImageDialogComponent } from './components/upload/crop-image-dialog/crop-image-dialog.component';\r\nimport { FilePreviewDialogComponent } from './components/upload/file-preview-dialog/file-preview-dialog.component';\r\nimport { DialogNoIEComponent } from './common/dialog-no-ie/dialog-no-ie.component';\r\nimport { RouterModule } from '@angular/router';\r\nimport { PageFooterDirective } from './components/page-container/page-footer/page-footer.directive';\r\nimport { AutoHideRowDirective } from './components/list/utils/auto-hide-row/auto-hide-row.directive';\r\nimport { SiiMemoryPipe } from './components/util/sii-memory.pipe';\r\nimport { SiiFacetTemplateDirective } from './components/facets/common/directive/sii-facet-template.directive';\r\nimport { BreadcrumbComponent } from './components/breadcrumb/breadcrumb.component';\r\nimport { DelegationDialogComponent } from './components/dsii-components/delegation/delegation-dialog/delegation-dialog.component';\r\nimport { SiiListModule } from './components/list/sii-list.module';\r\nimport { SiiFiltersModule } from './components/facets/sii-filters.module';\r\n\r\n\r\n\r\n// export const ENGAGE_CONFIG = new InjectionToken<BehaviorSubject<EngageConfigDTO>>('toolkit.engageConfig');\r\n\r\n\r\n@NgModule({\r\n    exports: [\r\n        ProfileButtonComponent,\r\n        WaitComponent,\r\n        ErrorDisplayDialogComponent,\r\n        SiiOutComponent,\r\n        SiiPageContainerModule,\r\n        SiiListModule,\r\n        SiiFiltersModule,\r\n        PageHoverMaskComponent,\r\n        MenuComponent,\r\n        SnackbarFeedbackComponent,\r\n        BannerFeedbackComponent,\r\n        WorkerIconComponent,\r\n        BadgeComponent,\r\n        LookupWorkOrderComponent,\r\n        LookupOdaPosComponent,\r\n        LookupEmployeeComponent,\r\n        GroupListToolbarComponent,\r\n        GlobalMenuComponent,\r\n        GlobalSearchComponent,\r\n        UploadComponent,\r\n        NotarizationComponent,\r\n        SiiDatePipe,\r\n        DateHintDirective,\r\n        WorkerContactInformationComponent,\r\n        YearMonthInputComponent,\r\n        PageFooterDirective,\r\n        AutoHideRowDirective,\r\n        SiiFacetTemplateDirective,\r\n        BreadcrumbComponent,\r\n    ],\r\n    imports: [\r\n    FormsModule,\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    ImageCropperModule,\r\n    SiiPageContainerModule,\r\n    SiiListModule,\r\n    SiiFiltersModule,\r\n    RouterModule, ProfileButtonComponent,\r\n    WaitComponent,\r\n    ErrorDisplayDialogComponent,\r\n    SiiOutComponent,\r\n    PageHoverMaskComponent,\r\n    MenuComponent,\r\n    SnackbarFeedbackComponent,\r\n    BannerFeedbackComponent,\r\n    BannerFeedbackOutletComponent,\r\n    SnackbarFeedbackOutletComponent,\r\n    WorkerIconComponent,\r\n    BadgeComponent,\r\n    \r\n    LookupWorkOrderComponent,\r\n    LookupOdaPosComponent,\r\n    SearchWorkOrderDialogComponent,\r\n    SearchOdaPosDialogComponent,\r\n    LookupEmployeeComponent,\r\n   \r\n    GlobalSearchComponent,\r\n    GroupListToolbarComponent,\r\n    \r\n    GlobalMenuComponent,\r\n    GlobalMenuFilterPipe,\r\n    GlobalMenuVoicesFilterPipe,\r\n    SiiCompanySelectionComponent,\r\n    CompanySelectionDialogComponent,\r\n    FakeListItemDirective,\r\n    DelegationDialogComponent,\r\n    UploadComponent,\r\n    PictDialogComponent,\r\n    NotarizationComponent,\r\n    NotarizationResponseDialogComponent,\r\n    SiiDatePipe,\r\n    DateHintDirective,\r\n    WorkerContactInformationComponent,\r\n    YearMonthInputComponent,\r\n    CropImageDialogComponent,\r\n    FilePreviewDialogComponent,\r\n    DialogNoIEComponent,\r\n    PageFooterDirective,\r\n    AutoHideRowDirective,\r\n    SiiMemoryPipe,\r\n    SiiFacetTemplateDirective,\r\n    BreadcrumbComponent]\r\n      })\r\n\r\n\r\nexport class SiiToolkitComponentsModule {\r\n  constructor( ) {\r\n    }\r\n\r\n}\r\n\r\n","import { Inject, Injectable } from '@angular/core';\r\nimport { HttpInterceptor, HttpHandler, HttpRequest, HttpErrorResponse, HttpEvent } from '@angular/common/http';\r\nimport { Observable, EMPTY, throwError, BehaviorSubject } from 'rxjs';\r\nimport { catchError, finalize } from 'rxjs/operators';\r\nimport { Router } from '@angular/router';\r\nimport { SiiEngageService } from './sii-engage.service';\r\n// import { ENGAGE_CONFIG } from '../sii-toolkit.module';\r\nimport { EngageConfigDTO } from '../dto/engage-config.dto';\r\nimport { SII_ENVIRONMENT } from '../sii-toolkit.service';\r\nimport { SiiEnvironment } from '../dto/sii-environment.dto';\r\n// import { ENGAGE_CONFIG } from './engage-configurations-params.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DotCmsInterceptorService implements HttpInterceptor{\r\n\r\n  get engageBEDomain(){\r\n    return this.environment.domain.replace('/api', '/sii_content/api');\r\n  }\r\n  constructor( private router: Router,  @Inject(SII_ENVIRONMENT) private environment: SiiEnvironment) {\r\n\r\n   }\r\n\r\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<any> {\r\n    if (!!this.engageBEDomain && request.url.startsWith(this.engageBEDomain)){\r\n      console.log('cms intercept for request ' + request.url);\r\n      let clonedHeaders = request.headers;\r\n      clonedHeaders = request.headers.set('DOTAUTH', window.btoa('admin@dotcms.com:admin'));\r\n      const effectiveRequest = request.clone({\r\n          withCredentials: false,\r\n          headers: clonedHeaders\r\n      });\r\n      return next.handle(effectiveRequest).pipe(\r\n        catchError((error: HttpErrorResponse, caught) => this.handleError(error, caught)),\r\n        finalize(() => {\r\n         }),\r\n    );\r\n    }else{\r\n      return next.handle(request);\r\n    }\r\n\r\n  }\r\n\r\n  private handleError(errorResponse: HttpErrorResponse, caught: Observable<HttpEvent<any>>): Observable<any> {\r\n    this.router.navigate(['/404']) ;\r\n    return throwError(errorResponse);\r\n}\r\n\r\n}\r\n","import { Injectable, TemplateRef } from '@angular/core';\r\nimport { MatSnackBar, MatSnackBarConfig, MatSnackBarRef } from '@angular/material/snack-bar';\r\nimport { asapScheduler } from 'rxjs';\r\nimport { MatDialog, MatDialogConfig } from '@angular/material/dialog';\r\nimport { SnackbarFeedbackComponent } from '../components/feedback/snackbar-feedback/snackbar-feedback.component';\r\nimport { BannerFeedbackComponent } from '../components/feedback/banner-feedback/banner-feedback.component';\r\nimport { BannerFeedbackOutletComponent } from '../components/feedback/banner-feedback-outlet/banner-feedback-outlet.component';\r\nimport { SnackbarFeedbackOutletComponent } from '../components/feedback/snackbar-feedback-outlet/snackbar-feedback-outlet.component';\r\nimport { ComponentType } from '@angular/cdk/portal';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SiiFeedbackService {\r\n\r\n  constructor(private snackBar: MatSnackBar, public dialog: MatDialog) { }\r\n\r\n\r\n\r\n\r\n  public showSuccessFeedback(templateRef:TemplateRef<any>,config? :MatSnackBarConfig<any>): MatSnackBarRef<any>{\r\n    return this.showFeedback('sii-success-feedback',templateRef,config,)\r\n  }\r\n  public showErrorFeedback(templateRef:TemplateRef<any>,config? :MatSnackBarConfig<any>): MatSnackBarRef<any>{\r\n    return this.showFeedback('sii-error-feedback',templateRef,config,)\r\n  }\r\n  public showInfoFeedback(templateRef:TemplateRef<any>,config? :MatSnackBarConfig<any>): MatSnackBarRef<any>{\r\n    return this.showFeedback('sii-info-feedback',templateRef,config,)\r\n  }\r\n\r\n  public showSuccessToastFeedback(templateRef:TemplateRef<any>,config? :MatSnackBarConfig<any>): MatSnackBarRef<any>{\r\n    return this.showToastFeedback('sii-success-feedback',templateRef,config)\r\n  }\r\n\r\n  public showErrorToastFeedback(templateRef:TemplateRef<any>,config? :MatSnackBarConfig<any>): MatSnackBarRef<any>{\r\n    return this.showToastFeedback('sii-error-feedback',templateRef,config)\r\n  }\r\n\r\n  public showInfoToastFeedback(templateRef:TemplateRef<any>,config? :MatSnackBarConfig<any>): MatSnackBarRef<any>{\r\n    return this.showToastFeedback('sii-info-feedback',templateRef,config)\r\n  }\r\n\r\n  public showSuccessBanner( templateRef:TemplateRef<any> | ComponentType<any>, config?:MatDialogConfig<any>){\r\n    return this.showFeedbackBanner('sii-success-feedback-banner', templateRef,config);\r\n  }\r\n  public showErrorBanner( templateRef:TemplateRef<any>|ComponentType<any>, config?:MatDialogConfig<any>){\r\n    return this.showFeedbackBanner('sii-error-feedback-banner', templateRef,config);\r\n  }\r\n  public showInfoBanner( templateRef:TemplateRef<any>|ComponentType<any>, config?:MatDialogConfig<any>){\r\n    return this.showFeedbackBanner('sii-info-feedback-banner', templateRef,config);\r\n  }\r\n\r\n  private showFeedback(panelClass:string,templateRef:TemplateRef<any>,config? :MatSnackBarConfig<any>): MatSnackBarRef<any>{\r\n    const data= config||{};\r\n    data.panelClass=[panelClass,'sii-full-snackbar'];\r\n    data.data=config?.data||{};\r\n    data.data.templateRef=templateRef;\r\n    if(data.duration===undefined){\r\n      data.duration= 2000;\r\n    }\r\n    return this.snackBar.openFromComponent(SnackbarFeedbackOutletComponent,  data );\r\n\r\n  }\r\n\r\n  private showToastFeedback(panelClass:string,templateRef:TemplateRef<any>,config? :MatSnackBarConfig<any>): MatSnackBarRef<any>{\r\n    const data= config||{};\r\n    data.panelClass=[panelClass,'sii-snackbar-feedback-toast'];\r\n    data.data=config?.data||{};\r\n    data.data.templateRef=templateRef;\r\n    //  data.data.duration= 2000;\r\n    if(data.duration===undefined){\r\n      data.duration= 2000;\r\n    }\r\n    return this.snackBar.openFromComponent(SnackbarFeedbackOutletComponent,  data );\r\n  }\r\n\r\n  private showFeedbackBanner(panelClass:string,templateRef:TemplateRef<any> | ComponentType<any>, config?:MatDialogConfig<any>){\r\n    const data= config||{};\r\n    data.panelClass=[panelClass,'sii-feedback-banner'];\r\n    data.data=config?.data||{};\r\n    data.data.templateRef=templateRef;\r\n    data.width='900px';\r\n    data.maxWidth='100vw';\r\n    if (templateRef instanceof TemplateRef){\r\n      return this.dialog.open( BannerFeedbackOutletComponent, config);\r\n    }else{\r\n      return this.dialog.open( templateRef, config);\r\n    }\r\n\r\n  }\r\n\r\n}\r\n","import { Injectable, TemplateRef } from '@angular/core';\r\nimport { SiiToolkitService } from '../sii-toolkit.service';\r\nimport { MatDialog, MatDialogConfig } from '@angular/material/dialog';\r\nimport { ComponentType } from '@angular/cdk/portal';\r\nimport {  Observable, Subject } from 'rxjs';\r\nimport { SiiNotarizationResponse } from '../dto/notarization-response.dto';\r\nimport { SiiFeedbackService } from './sii-feedback.service';\r\nimport { NotarizationResponseDialogComponent } from '../components/notarization/utils/notarization-response-dialog/notarization-response-dialog.component';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SiiNotarizationService {\r\n\r\n  constructor(public dialog: MatDialog,\r\n              public siiToolkitService: SiiToolkitService,\r\n              private feedbackService: SiiFeedbackService) { }\r\n\r\n  public notarize( notarizationComponent: ComponentType<any> | TemplateRef<any> ,\r\n                   notarizationRestService: Observable<SiiNotarizationResponse>,\r\n                   notarizationPrintReceiptUrl: string,\r\n                   config?: MatDialogConfig<any>){\r\n\r\n    const subscrRet = new Subject<SiiNotarizationResponse | null>();\r\n    const data = config || {};\r\n    data.data = config?.data || {};\r\n    data.width =  data.width || '900px';\r\n    data.maxWidth =   data.maxWidth || '100vw';\r\n    this.dialog.open( notarizationComponent, data)\r\n    .afterClosed()\r\n    .subscribe((resp) => {\r\n      if (resp){\r\n            notarizationRestService\r\n              .subscribe((notarizResp) => {\r\n                if (!!notarizResp){\r\n                  this.showNotarizationResponse(notarizResp, notarizationPrintReceiptUrl).afterClosed().subscribe(() => {\r\n                    subscrRet.next(notarizResp);\r\n                  });\r\n                }else{\r\n                  subscrRet.next(null);\r\n                }\r\n              });\r\n      }else{\r\n        subscrRet.next(null);\r\n      }\r\n    });\r\n\r\n    return subscrRet;\r\n    }\r\n\r\n\r\n\r\n  private showNotarizationResponse(notarizResp: SiiNotarizationResponse, notarizationPrintReceiptUrl: string){\r\n    if (notarizResp.status === 'DONE'){\r\n      return this.feedbackService.showSuccessBanner(NotarizationResponseDialogComponent, {data: {notarizResp, notarizationPrintReceiptUrl}});\r\n    }else{\r\n      return this.feedbackService.showInfoBanner(NotarizationResponseDialogComponent, {data: {notarizResp, notarizationPrintReceiptUrl}});\r\n    }\r\n  }\r\n\r\n}\r\n\r\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { SiiWaitService } from '../components/wait/sii-wait.service';\r\nimport { SiiToolkitService } from '../sii-toolkit.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SiiPingService {\r\n  private pingInterval;\r\n\r\n  headers = new HttpHeaders().set('siiHideError', 'true');\r\n  constructor(private http: HttpClient, private siiWait: SiiWaitService, public siiToolkitService: SiiToolkitService) {\r\n  }\r\n\r\n    public enable(){\r\n      this.pingInterval = setInterval(() => {\r\n          this.siiWait.skipNext();\r\n          this.http.get(this.siiToolkitService.environment.domain + '/sii_common/version', {headers: this.headers}).subscribe(() => { } );\r\n          console.log('ping');\r\n      }, 1000 * 60 * 10);\r\n    }\r\n\r\n    public disable(){\r\n      console.log('stop ping');\r\n      clearInterval(this.pingInterval);\r\n      delete this.pingInterval;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\n","export interface IParentIframeWindowDto extends Element {\r\n  popup: any;\r\n}\r\n\r\n// Il gestore delle popup. Le popup create saranno modali\r\nexport const PopupManager = (window as any).PopupManager = {\r\n  popupStack: null,\r\n\r\n  // Crea una nuova popup e la pone in cima allo stack\r\n  // L'eventuale popup precedentemente attiva viene freezata\r\n  //\r\n  //  urlContenuto l'url da aprire nella finestra\r\n  //  callerReturnFunction vedi sotto\r\n  //  innerWidth   la larghezza utile della finestra\r\n  //  innerHeight  l'altezza utile della finestra\r\n  //  reloadOnClose indica che la popup causa il reload della sottostante qualora venga chiusa\r\n\r\n  // callerReturnFunction e' una opzionale funzione javascript della popup\r\n  // chiamante che riceve l'eventuale oggetto che la popup chiamata invia alla chiusura\r\n  // tramite una chiamata tipo parent.PopupManager.getLastPopup().returnToCaller(valore)\r\n  // oppure tramite parent.PopupManager.closeLastPopup() nel qualcaso non viene restituito\r\n  // nulla\r\n\r\n  addPopupSdac(url, newPage) {\r\n    if (newPage) {\r\n      const win = window.open(url,'_blank',`target=_blank,width=400,height=400,resizable=0,scrollbars=1,status=1,toolbar=0,menubar=0`);\r\n      var pollTimer = window.setInterval(function() {\r\n        if (win?.closed !== false) { // !== is required for compatibility with Opera\r\n            window.clearInterval(pollTimer);\r\n            document.getElementById('btnReload')?.click();\r\n        }\r\n    }, 1000);\r\n\r\n    } else {\r\n      const w = 950;\r\n      const h = 525;\r\n      this.addPopup(url, () => { document.getElementById('btnReload')?.click(); }, w, h);\r\n    }\r\n  },\r\n\r\n  addPopup(urlContenuto, callerReturnFunction, innerWidth, innerHeight, reloadOnClose) {\r\n    if (!reloadOnClose || reloadOnClose === null) { reloadOnClose = false; }\r\n\r\n    if (this.popupStack == null) {\r\n      this.popupStack = new Array();\r\n    }\r\n\r\n    if (this.popupStack.length > 0) {\r\n      this.popupStack[this.popupStack.length - 1].freeze();\r\n    }\r\n\r\n    const popup = new Popup(this.popupStack.length);\r\n    popup.setInnerHeight(innerHeight);\r\n    popup.setInnerWidth(innerWidth);\r\n    popup.setSpostabile(true);\r\n    // Forzo l'esclusione dalla cache.Serve per un bug di ie (clem)\r\n    if (urlContenuto.indexOf('?') === -1) {\r\n      urlContenuto += '?';\r\n    } else {\r\n      urlContenuto += '&';\r\n    }\r\n    urlContenuto += 'iernd=' + Math.random();\r\n    popup.setContenuto(urlContenuto);\r\n    popup.show();\r\n\r\n    popup.setReloadOnClose(reloadOnClose);\r\n    popup.setCallerReturnFunction(callerReturnFunction);\r\n    this.popupStack.push(popup);\r\n  },\r\n\r\n  getLastPopup() {\r\n    if (this.popupStack == null || this.popupStack.length === 0) {\r\n      return null;\r\n    }\r\n    return this.popupStack[(this.popupStack).length - 1];\r\n  },\r\n\r\n  // Chiude l'ultima popup in cima allo stasck e 'scongela' l'eventuale penultima\r\n  // La chiusura dell'ultima popup causa la chiusura della finestra.\r\n\r\n  // oggetto e' un eventiale valore da restiotuire alla popup scongelata nel caso\r\n  // che l'utente creandola abbia specificato l'opzione callerReturnFunction\r\n  // reload           se true opera il reload prenotato dal chiamante, qualora sia stato specificato\r\n  //                 per default e' true\r\n  //                 se false non fa in nessun caso il reload\r\n  closeLastPopup(oggetto, reload?: boolean) {\r\n    if (reload !== false) {\r\n      reload = true;\r\n    }\r\n    /*if (this.popupStack == null || this.popupStack.length <= 1) {\r\n      // alert(this.popupStack);\r\n      setTimeout( function (){\r\n      if (reload) {\r\n      // Reload per sdac\r\n        // PopupManager.reloadOpener();\r\n      }\r\n      // window.opener='x';//Workaround per evitare messaggio di chiusura\r\n        try{window.close();} catch(e) {}\r\n      },100);\r\n    return;\r\n    }*/\r\n\r\n    const popup = this.popupStack.pop();\r\n    const reloadOnClose = popup.getReloadOnClose();\r\n    const callerReturnFunction = popup.callerReturnFunction;\r\n\r\n    let lastPopup = null as any;\r\n    if (this.popupStack.length > 0) {\r\n      lastPopup = this.popupStack[(this.popupStack).length - 1];\r\n    }\r\n    setTimeout(() => {\r\n      if (callerReturnFunction && callerReturnFunction != null && callerReturnFunction !== '') {\r\n        if (reload) {\r\n          callerReturnFunction(oggetto);\r\n        }\r\n      }\r\n      popup.chiudi();\r\n\r\n      // Se la popup deve essere ricaricata l'unfreeze viene posticipato all'onload della finestra\r\n      if (reload && lastPopup && lastPopup !== null) {\r\n        if (!reloadOnClose) {\r\n          lastPopup.unfreeze();\r\n        } else {\r\n          // le ultime due condizioni sono state aggiunte per consentire che la\r\n          // callerReturnFunction non venga annullata dal submit del form\r\n          if (lastPopup.contenutoFinestra && !reload && !(callerReturnFunction === null)) {\r\n            if (isIE()) {\r\n              lastPopup.contenutoFinestra.contentWindow.window.document.forms[0].submit();\r\n            } else {\r\n              lastPopup.contenutoFinestra.contentDocument.forms[0].submit();\r\n            }\r\n          }\r\n        }\r\n      } else if (!reload) {\r\n        lastPopup.unfreeze();\r\n      }\r\n    }, 100);\r\n\r\n  },\r\n\r\n  // Interessante, restituisce l'html attualmente renderizzato della finestra:\r\n  // obj.document.documentElement.innerHTML\r\n\r\n  // Sfrutto la proprieta' che la popup e' la proprieta' popup di un DIV che contiene l'iframe\r\n  // della stessa\r\n  getEclosingPopup(obj) {\r\n    // forse non serve cercarlo in this.PopupManager\r\n    let enclosing = this.getLastPopup != null ? this.getLastPopup() : this.PopupManager.getLastPopup();\r\n    let tmp = obj;\r\n    while (tmp && tmp != null) {\r\n      if (tmp.body) {\r\n        const doc = tmp;\r\n        const frm = window.frames;\r\n        for (let i = frm.length - 1; i >= 0; i--) {\r\n          const iframe = frm[i];\r\n          if (iframe.document === doc) {\r\n            // Ho trovato il frame che contiene l'obj\r\n            enclosing = (iframe.frameElement as IParentIframeWindowDto).popup;\r\n            break;\r\n          }\r\n        }\r\n        break;\r\n      }\r\n      tmp = tmp.parentNode;\r\n    }\r\n    return enclosing;\r\n  },\r\n\r\n  reloadOpener(obj) {\r\n    // se sono mio padre (!) evto di ricaricarmi\r\n    if (window && window.opener && window.self && window.opener === window.self) {\r\n      return;\r\n    }\r\n    if (window && window.parent && window.parent.opener && window.parent.opener.frames && window.parent.opener.frames.length > 0) {\r\n      try { window.parent.opener.frames[0].location.href = window.parent.opener.frames[0].location.href; } catch (e) { }\r\n    }\r\n\r\n    if (window && window.parent && window.parent.opener) {\r\n      try { window.parent.opener.location.href = window.parent.opener.location.href; } catch (e) { }\r\n    }\r\n\r\n    if (window && window.opener) {\r\n      try { window.opener.location.href = window.opener.location.href; } catch (e) { }\r\n    }\r\n\r\n  }\r\n\r\n};\r\n\r\n\r\n// Il class attribute della popup : modalWindow\r\n// Il costruttore della popup\r\n//  zIndex lo zIndex della finestra\r\n//\r\n//  popupDiv           il div esterno\r\n//  bordoFinestra\r\n//  contenutoFinestra  l'iframe con il contenuto\r\nfunction Popup(this: any, id) {\r\n  const zIndex =1000+ (id + 1) * 2 + 5;\r\n  this.spostabile = false;\r\n  this.altezzaTitoloPopup = 25;\r\n  this.freezed = false;\r\n  /***if (window.parent) this.popupDiv =window.parent.document.createElement('div');\r\n  else*/ this.popupDiv = window.document.createElement('div');\r\n  this.popupDiv.style.position = 'fixed';\r\n  this.popupDiv.style.left = 0 + 'px';\r\n  this.popupDiv.style.top = 0 + 'px';\r\n  this.popupDiv.style.width = 0 + 'px';\r\n  this.popupDiv.style.height = 0 + 'px';\r\n  this.popupDiv.style.boxShadow = '0px 0px 3px 0px #000000b5';\r\n  this.popupDiv.style.visibility = 'hidden';\r\n  this.popupDiv.className = 'modalWindow';\r\n  this.popupDiv.style.zIndex = zIndex;\r\n  this.popupDiv.style.backgroundColor = '#FFFFFF';\r\n  this.popupDiv.style.maxWidth = '99vw';\r\n  this.popupDiv.style.maxHeight = '99vh';\r\n\r\n  /***if (window.parent) this.bordoFinestra = window.parent.document.createElement('div');\r\n  else*/ this.bordoFinestra = window.document.createElement('div');\r\n  this.bordoFinestra.id = 'popupBordo_' + zIndex;\r\n  this.bordoFinestra.border = '0px';\r\n  this.bordoFinestra.style.fontSize = '0px';\r\n  this.bordoFinestra.style.margin = '0px';\r\n  this.bordoFinestra.style.cursor = 'move';\r\n  this.bordoFinestra.style.backgroundColor = '#090909';\r\n  this.bordoFinestra.style.height = this.altezzaTitoloPopup + 'px';\r\n  this.bordoFinestra.style.width = '100%';\r\n  this.bordoFinestra.style.maxWidth = '99vw';\r\n  this.bordoFinestra.style.maxHeight = '99vh';\r\n  this.bordoFinestra.style.zIndex = zIndex;\r\n  this.popupDiv.appendChild(this.bordoFinestra);\r\n\r\n   const closeButton = window.document.createElement('span');\r\n   closeButton.textContent='X';\r\n   closeButton.style.fontSize= '15px';\r\n   closeButton.style.position= 'absolute';\r\n   closeButton.style.right= '5px';\r\n   closeButton.style.cursor= 'pointer';\r\n   closeButton.style.border= '2px solid white';\r\n   closeButton.style.color= 'white';\r\n   closeButton.style.borderRadius= '50%';\r\n   closeButton.style.padding= '0px 5px';\r\n   closeButton.style.fontWeight= 'bold';\r\n   closeButton.style.zIndex = ''+zIndex;\r\n   closeButton.onclick=(ev)=>{ ev.stopPropagation();PopupManager.closeLastPopup(undefined)}\r\n   this.bordoFinestra.appendChild(closeButton);\r\n\r\n  /***if (window.parent) this.contenutoFinestra = window.parent.document.createElement('iframe');\r\n  else*/ this.contenutoFinestra = window.document.createElement('iframe');\r\n  // Mi assicuro che se un popup ricaricata e' l'ultima dello stack venga unfreezata\r\n\r\n  this.contenutoFinestra.name = 'popupIFrame_' + zIndex;\r\n  this.contenutoFinestra.id = 'popupIFrame_' + zIndex;\r\n  this.contenutoFinestra.style.border = '0px';\r\n  this.contenutoFinestra.style.margin = '0px';\r\n  this.contenutoFinestra.frameBorder = 'no';\r\n  this.contenutoFinestra.style.height = '100%';\r\n  this.contenutoFinestra.style.width = '100%';\r\n  this.contenutoFinestra.style.maxHeight = '99vh';\r\n  this.contenutoFinestra.style.maxWidth = '99vw';\r\n  this.contenutoFinestra.scrolling = 'yes';\r\n  this.contenutoFinestra.style.zIndex = zIndex;\r\n  this.popupDiv.appendChild(this.contenutoFinestra);\r\n  this.pannelloGrigio = creaPannelloGrigio('popupPannelloGrigio_' + zIndex, zIndex + 1);\r\n  this.popupDiv.appendChild(this.pannelloGrigio);\r\n\r\n  // Aggiungo all'iframe della popup la popup stessa per consentirne la referenziazione nel DOM tramite window\r\n  this.contenutoFinestra.popup = this;\r\n  /***if (window.parent)window.parent.document.body.appendChild(this.popupDiv);\r\n  else*/ window.document.body.appendChild(this.popupDiv);\r\n}\r\n\r\nPopup.prototype.returnToCaller = (oggetto) => {\r\n  PopupManager.closeLastPopup(oggetto);\r\n};\r\n\r\nPopup.prototype.setCallerReturnFunction = function(callerReturnFunction) {\r\n  this.callerReturnFunction = callerReturnFunction;\r\n};\r\n\r\nPopup.prototype.chiudi = function() {\r\n  // window.document.body.removeChild(objDivWin);\r\n  const _this = this;\r\n  // const campo = (document.getElementById('campo_focus_per_bug_ie') as HTMLInputElement);\r\n  // campo.value = campo.value + _this.popupDiv;\r\n  // TODO:su ie la chiusura freeza la finestra sottostante\r\n  setTimeout(()=> {\r\n    // _this.popupDiv.blur();\r\n    // window.document.body.focus();\r\n    // campo.focus();\r\n    // _this.popupDiv.innerHTML='';\r\n      // _this.popupDiv.style.display='none';\r\n      // _this.popupDiv.style.visibility='hidden';\r\n    /***if (window.parent) window.parent.document.body.removeChild(_this.popupDiv);\r\n    else*/ window.document.body.removeChild(_this.popupDiv);\r\n    // _this.popupDiv=null;\r\n  }, 100);\r\n};\r\n\r\nPopup.prototype.setContenuto = function(src) {\r\n  this.contenutoFinestra.src = src;\r\n};\r\n\r\nPopup.prototype.setSpostabile = function(spostabile) {\r\n  this.spostabile = spostabile;\r\n};\r\n\r\nPopup.prototype.setTop = function(top) {\r\n  this.popupDiv.style.top = top + 'px';\r\n};\r\n\r\nPopup.prototype.setLeft = function(left) {\r\n  this.popupDiv.style.left = left + 'px';\r\n};\r\n\r\nPopup.prototype.setInnerHeight = function(innerHeight) {\r\n  this.contenutoFinestra.style.height = innerHeight + 'px';\r\n  this.setHeight(innerHeight + this.altezzaTitoloPopup);\r\n};\r\n\r\nPopup.prototype.setInnerWidth = function(innerWidth) {\r\n  this.contenutoFinestra.style.width = innerWidth + 'px';\r\n  this.setWidth(innerWidth);\r\n};\r\n\r\nPopup.prototype.setHeight = function(height) {\r\n  this.popupDiv.style.height = height + 'px';\r\n  this.pannelloGrigio.style.height = height + 'px';\r\n};\r\n\r\nPopup.prototype.setWidth = function(width) {\r\n  this.popupDiv.style.width = width + 'px';\r\n  this.pannelloGrigio.style.width = width + 'px';\r\n  this.bordoFinestra.style.width = width + 'px';\r\n};\r\n\r\nPopup.prototype.isSpostabile = function() {\r\n  return this.spostabile;\r\n};\r\n\r\nPopup.prototype.getTop = function() {\r\n  return parseInt(this.popupDiv.style.top,10);\r\n};\r\n\r\nPopup.prototype.getLeft = function() {\r\n  return parseInt(this.popupDiv.style.left,10);\r\n};\r\n\r\nPopup.prototype.getHeight = function() {\r\n  return parseInt(this.popupDiv.style.height,10);\r\n};\r\n\r\nPopup.prototype.getWidth = function() {\r\n  return parseInt(this.popupDiv.style.width,10);\r\n};\r\n\r\nPopup.prototype.unfreeze = function() {\r\n  this.freezed = false;\r\n  this.spostabile = true;\r\n  this.mostraContenuto();\r\n  this.bordoFinestra.popup = this;\r\n  this.bordoFinestra.onmousedown = mouseDownListener;\r\n};\r\n\r\nPopup.prototype.freeze = function() {\r\n  this.freezed = true;\r\n  this.oscuraContenuto();\r\n  this.spostabile = false;\r\n  this.bordoFinestra.onmousedown = null;\r\n\r\n  document.onmousemove = null;\r\n  document.onmouseup = null;\r\n};\r\n\r\n// Centra ed attribuisce lo z-index corretto\r\nPopup.prototype.show = function() {\r\n  this.centra();\r\n\r\n  // WinLevel(this.Id);\r\n  if (this.spostabile) {\r\n    // Workaround per passare l'oggetto al listener\r\n    this.bordoFinestra.popup = this;\r\n    this.bordoFinestra.onmousedown = mouseDownListener;\r\n  }\r\n\r\n  this.popupDiv.style.visibility = 'visible';\r\n};\r\n\r\nPopup.prototype.hide = function(width) {\r\n  this.popupDiv.style.visibility = 'hidden';\r\n};\r\n\r\nPopup.prototype.centra = function() {\r\n  try {\r\n    const _isIE = isIE();\r\n    // let scLeft = 0;\r\n    // let scTop = 0;\r\n    let fullHeight = 0;\r\n    let fullWidth = 0;\r\n    if (!isIE()) {\r\n      // scLeft = pageXOffset;\r\n      // scTop = pageYOffset;\r\n      fullWidth = window.innerWidth - 20;\r\n      fullHeight = window.innerHeight;\r\n      // IE 6+ in 'standards compliant mode'\r\n    } else if (document.documentElement && (document.documentElement.clientWidth || document.documentElement.clientHeight)) {\r\n      // scLeft = document.documentElement.scrollLeft;\r\n      // scTop = document.documentElement.scrollTop;\r\n      fullWidth = document.documentElement.clientWidth;\r\n      fullHeight = document.documentElement.clientHeight;\r\n      // IE 4 compatible\r\n    } else if (document.body) {\r\n      // scLeft = document.body.scrollLeft;\r\n      // scTop = document.body.scrollTop;\r\n      fullWidth = document.body.clientWidth;\r\n      fullHeight = document.body.clientHeight;\r\n    }\r\n    // if (scLeft < 0) {\r\n    //   scLeft = 0;\r\n    // }\r\n    // if (scTop < 0) {\r\n    //   scTop = 0;\r\n    // }\r\n    if (fullHeight < 200) {\r\n      fullHeight = screen.availHeight * .8;\r\n    }\r\n    if (fullWidth < 200) {\r\n      fullWidth = screen.availWidth * .9;\r\n    }\r\n    let winTop =  (fullHeight - this.getHeight()) / 2;\r\n    let winLeft = (fullWidth - this.getWidth()) / 2;\r\n    if (winTop < 10) {\r\n      winTop = 10;\r\n    }\r\n    if (winLeft < 0) {\r\n      winLeft = 0;\r\n    }\r\n    this.setTop(winTop);\r\n    this.setLeft(winLeft);\r\n  } catch (err) { }\r\n};\r\n\r\nPopup.prototype.oscuraContenuto = function() {\r\n  this.pannelloGrigio.style.visibility = 'visible';\r\n  this.contenutoFinestra.style.visibility = 'visible';\r\n};\r\n\r\nPopup.prototype.nascondiContenuto = function() {\r\n  this.contenutoFinestra.style.visibility = 'hidden';\r\n};\r\n\r\nPopup.prototype.mostraContenuto = function() {\r\n  this.pannelloGrigio.style.visibility = 'hidden';\r\n  this.contenutoFinestra.style.visibility = 'visible';\r\n};\r\n\r\n\r\nPopup.prototype.stopListening = function() {\r\n  document.onmousemove = null;\r\n  document.onmouseup = null;\r\n  this.mostraContenuto();\r\n};\r\n\r\nPopup.prototype.getIFrame = function() {\r\n  return this.contenutoFinestra;\r\n};\r\n\r\nPopup.prototype.isFreezed = function() {\r\n  return this.freezed;\r\n};\r\n\r\nPopup.prototype.setReloadOnClose = function(reloadOnClose) {\r\n  this.reloadOnClose = reloadOnClose;\r\n};\r\n\r\nPopup.prototype.getReloadOnClose = function() {\r\n  return this.reloadOnClose;\r\n};\r\n\r\n\r\n\r\n// Nota: i listener non possono essere membri\r\n\r\nfunction mouseDownListener(this: any, event: MouseEvent) {\r\n  const popup = this.popup;\r\n  popup.nascondiContenuto();\r\n  popup.offX = parseInt(popup.popupDiv.style.left + 0) - (isNS() ? event.clientX : event.clientX);\r\n  popup.offY = parseInt(popup.popupDiv.style.top + 0) - (isNS() ? event.clientY : event.clientY);\r\n\r\n  // workaround per selezione popup da parte di ie\r\n  document.body.ondrag = function() { return false; };\r\n  document.body.onselectstart = function() { return false; };\r\n\r\n  document.onmouseup = function mouseUpListener(e) {\r\n    popup.stopListening();\r\n  };\r\n\r\n  document.onmousemove = function mouseMoveListener(e) {\r\n    const xPos = (isNS() ? e.clientX : event.clientX) + popup.offX;\r\n    const yPos = (isNS() ? e.clientY : event.clientY) + popup.offY;\r\n    if (xPos < 0 || yPos < 0) {\r\n      popup.stopListening();\r\n      return false;\r\n    }\r\n    popup.popupDiv.style.left = xPos + 'px';\r\n    popup.popupDiv.style.top = yPos + 'px';\r\n\r\n    return false;\r\n  };\r\n\r\n  return false;\r\n}\r\n\r\nfunction inviaForm(obj) {\r\n  // Se la popup e' freezata non ne consento il submit\r\n  // l'utente ha aperto un'altra\r\n  const thisPopup = (parent as any).PopupManager.PopupManager.getEclosingPopup(obj);\r\n  if (!thisPopup.isFreezed()) {\r\n    const pannelloGrigio = creaPannelloGrigio('tmp', 99);\r\n    pannelloGrigio.style.visibility = 'visible';\r\n    pannelloGrigio.style.height = getHeight(document.body) + 'px';\r\n    document.body.appendChild(pannelloGrigio);\r\n    obj.form.submit();\r\n  }\r\n}\r\n\r\nfunction addSpaces(valore, lunghezza) {\r\n  if (!valore || valore == null) {\r\n    valore = '';\r\n  }\r\n  while (valore.length < lunghezza) {\r\n    valore += ' ';\r\n  }\r\n  return valore;\r\n}\r\n\r\n// dato un elemento del DOM ne restituisce la posizione x\r\nfunction getXPos(campo) {\r\n  let xPos = 0;\r\n  if (campo.offsetParent) {\r\n    while (1) {\r\n      xPos += campo.offsetLeft;\r\n      if (!campo.offsetParent) {\r\n        break;\r\n      }\r\n      campo = campo.offsetParent;\r\n    }\r\n  } else if (campo.x) {\r\n    xPos += campo.x;\r\n  }\r\n  return xPos;\r\n}\r\n\r\n// dato un elemento del DOM ne restituisce la posizione y\r\nfunction getYPos(campo) {\r\n  let yPos = 0;\r\n  if (campo.offsetParent) {\r\n    while (1) {\r\n      yPos += campo.offsetTop;\r\n      if (!campo.offsetParent) {\r\n        break;\r\n      }\r\n      campo = campo.offsetParent;\r\n    }\r\n  } else if (campo.y) {\r\n    yPos += campo.y;\r\n  } return yPos;\r\n}\r\n\r\nfunction getWidth(campo) {\r\n  return campo.clientWidth ? campo.clientWidth : campo.width;\r\n}\r\n\r\nfunction getHeight(campo) {\r\n  return campo.clientHeight ? campo.clientHeight : campo.height;\r\n}\r\n\r\n\r\n// Fa comparire un messaggio di testo sotto un elemento del DOM\r\nfunction testMessaggio(campo, messaggio) {\r\n  const msg = new MessageBox(campo);\r\n  msg.setMessaggio(messaggio);\r\n  msg.show();\r\n}\r\n\r\n// Inizio Classe MessageBox\r\n// Rappresenta il tasto premuto\r\nfunction MessageBox(this: any, campo) {\r\n  // this.padre = campo.parentNode;\r\n  this.padre = document.body;\r\n  this.xPos = getXPos(campo);\r\n  this.yPos = getYPos(campo) + getHeight(campo);\r\n  this.visibile = false;\r\n  this.messaggio = '';\r\n}\r\n\r\nMessageBox.prototype.setMessaggio = function(messaggio) {\r\n  this.messaggio = messaggio;\r\n};\r\n\r\nMessageBox.prototype.show = function() {\r\n  const box = document.createElement('div');\r\n  // box.style.position='absolute';\r\n  // box.style.zIndex = 99;\r\n  // Li do nel class attribute\r\n  box.className = 'MessageBoxStyleClass';\r\n  box.style.top = this.yPos + 'px';\r\n  box.style.left = this.xPos + 'px';\r\n  // TODO:onclick=close\r\n  box.innerHTML = this.messaggio;\r\n  this.padre.appendChild(box);\r\n};\r\n\r\nfunction leftTrim(stringa) {\r\n  while (stringa.substring(0, 1) === ' ') {\r\n    stringa = stringa.substring(1, stringa.length);\r\n  }\r\n  return stringa;\r\n}\r\n\r\nfunction rightTrim(stringa) {\r\n  while (stringa.substring(stringa.length - 1, stringa.length) === ' ') {\r\n    stringa = stringa.substring(0, stringa.length - 1);\r\n  }\r\n  return stringa;\r\n}\r\n\r\nfunction trim(stringa) {\r\n  while (stringa.substring(0, 1) === ' ') {\r\n    stringa = stringa.substring(1, stringa.length);\r\n  }\r\n  while (stringa.substring(stringa.length - 1, stringa.length) === ' ') {\r\n    stringa = stringa.substring(0, stringa.length - 1);\r\n  }\r\n}\r\n\r\n\r\nfunction creaPannelloGrigio(id, zIndex) {\r\n  const  pannelloGrigio = document.createElement('DIV');\r\n  pannelloGrigio.id = id;\r\n  pannelloGrigio.style.position = 'absolute';\r\n  pannelloGrigio.style.left = 0 + 'px';\r\n  pannelloGrigio.style.top = 0 + 'px';\r\n  pannelloGrigio.style.zIndex = zIndex;\r\n  pannelloGrigio.style.width = '100%';\r\n  pannelloGrigio.style.height = '100%';\r\n  pannelloGrigio.style.maxWidth = '99vw';\r\n  pannelloGrigio.style.maxHeight = '99vh';\r\n  pannelloGrigio.style.backgroundColor = '#808080';\r\n  if (isIE()) {\r\n    pannelloGrigio.style.filter = 'alpha(opacity=' + 40 + ')';\r\n  } else {\r\n    pannelloGrigio.style.opacity = '.4';\r\n  }\r\n  pannelloGrigio.style.visibility = 'hidden';\r\n  return pannelloGrigio;\r\n}\r\n\r\nfunction isIE() {\r\n  return navigator.userAgent.indexOf('MSIE') !== -1;\r\n}\r\n\r\n// Netscape o firefox\r\nfunction isNS() {\r\n  return navigator.appName.indexOf('Netscape') !== -1;\r\n}\r\n\r\n// Risale il dom fino a trovare la prima occorrenza di un tag\r\n// numeroLivelli indica il numero di livelli da risalire, di default 1\r\nfunction risaliByTag(obj, tag, numeroLivelli) {\r\n  if (!numeroLivelli) {\r\n    numeroLivelli = 1;\r\n  }\r\n  let res = obj;\r\n  let livelloCorrente = 0;\r\n  while (res && res != null && ( new String(res.tagName).toLowerCase() !== tag.toLowerCase() || ++livelloCorrente < numeroLivelli)) {\r\n    res = res.parentNode;\r\n  }\r\n  if (!res) {\r\n    res = null;\r\n  }\r\n  return res;\r\n}\r\n\r\nfunction nextByTag(obj, tag) {\r\n  let res = obj;\r\n  while (res && res != null && new String(res.tagName).toLowerCase() !== tag.toLowerCase()) {\r\n    res = res.nextSibling;\r\n  }\r\n  if (!res) {\r\n    res = null;\r\n  }\r\n  return res;\r\n}\r\n\r\n// rimuove un elemento dal dom\r\nfunction rimuoviElemento(obj) {\r\n  setTimeout(\r\n    function() {\r\n      if (obj && obj.parentNode) {\r\n        obj.parentNode.removeChild(obj);\r\n      }\r\n    }\r\n    , 100);\r\n}\r\n// addPopupSdac('#{servlet_url}?#{rec.url}');\r\n\r\n","/*\r\n * Public API Surface of sii-toolkit\r\n */\r\n\r\nexport * from './lib/sii-toolkit.service';\r\nexport * from './lib/sii-toolkit.module';\r\nexport * from './lib/sii-toolkit-components.module';\r\nexport * from './lib/components/page-container/sii-page-container.module';\r\nexport * from './lib/components/list/sii-list.module';\r\nexport * from './lib/components/facets/sii-filters.module';\r\n\r\nexport * from './lib/components/profile-button/profile-button.component';\r\nexport * from './lib/components/worker-icon/worker-icon.component';\r\nexport * from './lib/components/worker-contact-information/worker-contact-information.component';\r\nexport * from './lib/components/toolbar/toolbar.component';\r\nexport * from './lib/components/wait/wait.component';\r\nexport * from './lib/components/wait/sii-wait.service';\r\nexport * from './lib/components/error-display-dialog/error-display-dialog.component';\r\n\r\nexport * from './lib/components/page-container/page-container.component';\r\nexport * from './lib/components/page-container/page-filters/page-filters.component';\r\nexport * from './lib/components/page-container/page-content/page-content.component';\r\nexport * from './lib/components/page-container/page-content/page-content-toolbar/page-content-toolbar.component';\r\nexport * from './lib/components/page-container/page-detail/page-detail.component';\r\nexport * from './lib/components/page-container/page-hover-mask/page-hover-mask.component';\r\nexport * from './lib/components/page-container/utils/dto/scroller-component.dto';\r\nexport * from './lib/components/page-container/page-footer/page-footer.directive';\r\n\r\nexport * from './lib/components/error-display-dialog/error-display.service';\r\nexport * from './lib/components/sii-out/sii-out.component';\r\nexport * from './lib/service/sii-http-interceptor.service';\r\nexport * from './lib/service/dotcmsInterceptor.service';\r\nexport * from './lib/service/sii-feedback.service';\r\nexport * from './lib/components/menu/menu.component';\r\nexport * from './lib/components/menu/global-menu/global-menu.component';\r\nexport * from './lib/components/global-search/global-search.component';\r\n\r\nexport * from './lib/components/feedback/snackbar-feedback/snackbar-feedback.component';\r\nexport * from './lib/components/feedback/banner-feedback/banner-feedback.component';\r\nexport * from './lib/components/badge/badge.component';\r\nexport * from './lib/components/facets/common/directive/sii-facet-template.directive';\r\nexport * from './lib/components/facets/facets-container/facets-container.component';\r\nexport * from './lib/components/facets/facet-checkbox/facet-checkbox.component';\r\nexport * from './lib/components/facets/facet/facet.component';\r\nexport * from './lib/components/facets/facet-single-toggle/facet-single-toggle.component';\r\nexport * from './lib/components/facets/common/facet-skeleton/facet-skeleton.component';\r\nexport * from './lib/components/facets/common/facet-toolbar-search/facet-toolbar-search.component';\r\nexport * from './lib/components/list-sorter/list-sorter.component';\r\nexport * from './lib/components/list-sorter/list-sorter-option/list-sorter-option.component';\r\nexport * from './lib/components/facets/common/dto/i-sii-facet.dto';\r\nexport * from './lib/components/facets/common/dto/i-sii-facet-option.dto';\r\nexport * from './lib/components/facets/common/dto/i-sii-facet-selection.dto';\r\nexport {FacetChangesDto} from './lib/components/facets/common/service/sii-facet.service';\r\nexport * from './lib/components/facets/filter/filter.directive';\r\nexport * from './lib/dto/i-sii-faceted-page-request.dto';\r\nexport * from './lib/components/facets/common/dto/i-sii-faceted-page-response.dto';\r\nexport * from './lib/dto/help-page.dto';\r\nexport * from './lib/dto/i-sii-page-response.dto';\r\nexport * from './lib/dto/i-sii-faceted-page-request.dto';\r\nexport * from './lib/dto/myself.dto';\r\nexport * from './lib/dto/sii-environment.dto';\r\nexport * from './lib/dto/notarization-response.dto';\r\n\r\nexport * from './lib/components/dsii-components/lookup-work-order/lookup-work-order.component';\r\nexport * from './lib/components/dsii-components/lookup-work-order/components/search-work-order-dialog/search-work-order-dialog.component';\r\nexport * from './lib/components/dsii-components/lookup-oda-pos/lookup-oda-pos.component';\r\nexport * from './lib/components/dsii-components/lookup-oda-pos/components/search-oda-pos-dialog/search-oda-pos-dialog.component';\r\nexport * from './lib/components/dsii-components/lookup-employee/lookup-employee.component';\r\nexport * from './lib/components/dsii-components/lookup-employee/domain/lookup-employee.dto';\r\n\r\nexport * from './lib/components/list/infinite-scroll/infinite-scroll.component';\r\nexport * from './lib/components/list/grouped-infinite-scroll/grouped-infinite-scroll.component';\r\nexport * from './lib/components/list/utils/sii-infinite-scroll-select-all/sii-infinite-scroll-select-all.component';\r\nexport * from './lib/components/list/utils/group-list-toolbar/group-list-toolbar.component';\r\nexport * from './lib/components/list/utils/list-row/list-row.directive';\r\nexport * from './lib/components/list/utils/empty-list-message/empty-list-message.directive';\r\nexport * from './lib/components/list-icon/list-icon.component';\r\nexport * from './lib/service/sii-list-controller.service';\r\n\r\nexport * from './lib/components/upload/upload.component';\r\nexport * from './lib/components/notarization/notarization.component';\r\nexport * from './lib/service/sii-notarization.service';\r\nexport * from './lib/service/sii-ping.service';\r\n\r\nexport * from './lib/common/SiiDateAdapter'\r\nexport * from './lib/components/util/sii-date.pipe';\r\nexport * from './lib/components/util/date-hint.directive';\r\nexport * from './lib/components/year-month-input/year-month-input.component';\r\n\r\nexport * from './lib/service/sii-engage.service';\r\nexport * from './lib/components/dsii-components/sdac-preview/service/sdac-preview.service';\r\n\r\nexport * from './lib/components/list/utils/auto-hide-row/auto-hide-row.directive';\r\n\r\n\r\n\r\nexport * from  './lib/components/breadcrumb/breadcrumb.component';\r\nexport * from  './lib/components/breadcrumb/services/breadcrumb.service';\r\nexport * from  './lib/components/menu/utils/SiiPopupManager';\r\n\r\nexport * from './lib/service/sii-download-service';","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i1","i1.ErrorDisplayService","i2.SiiWaitService","i1.SiiToolkitService","i2.SiiToolkitService","i3.SiiWaitService","i2","i3","i5.SiiEngageService","i2.DelegationService","i4.SdacPreviewService","i1.SiiWaitService","i1.GlobalMenuService","i2.SiiEngageService","i3.SdacPreviewService","i5","i6.SiiBreadcrumbService","i7.DelegationService","i8.SiiDownloadService","i9","i4","i3.SiiToolkitService","i4.SiiToolkitService","i1.SiiDatePipe","i1.SiiBreadcrumbService","i1.SiiListController","i1.SiiFacetService","i2.SiiListController","i2.SiiDatePipe","i8.LookupEmployeeComponent","i10.YearMonthInputComponent","i3.SiiFeedbackService"],"mappings":"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"}